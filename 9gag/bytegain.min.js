// Simple check to see if bytegain has already been installed.
// If it has, then log a warning and throw an error to prevent
// duplicate installs
if (window.BYTEGAIN_INSTALLED) {
  console.log('WARNING: Bytegain installed twice!');
} else {
  window.BYTEGAIN_INSTALLED = 1;

  window.BYTEGAIN_options = {
    apiKey: '79BE9C0C9D7545118DE219506D3C4A33',
    apiHost: 'https://js-api.bytegain.com/v1',
    adWordsId: '',
    facebookId: '',
    dbmId: '',
    batchMode: true,
    batchTimeMillis: 10000,
    trackScrollScreens: '5',
    onlyIdentifiedUsers: true,
    vmwareCoupon: 1,
    enableDebugReporting: false,
  };

  try { var bytegain=function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,n){(function(t){function n(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}}function o(e,t){return Array.prototype.slice.call(e,t||0)}function r(e,t){s(e,function(e,n){return t(e,n),!1})}function i(e,t){var n=a(e)?[]:{};return s(e,function(e,o){return n[o]=t(e,o),!1}),n}function s(e,t){if(a(e)){for(var n=0;n<e.length;n++)if(t(e[n],n))return e[n]}else for(var o in e)if(e.hasOwnProperty(o)&&t(e[o],o))return e[o]}function a(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}function c(e){return e&&"[object Function]"==={}.toString.call(e)}function u(e){return e&&"[object Object]"==={}.toString.call(e)}var l=function(){return Object.assign?Object.assign:function(e,t,n,o){for(var i=1;i<arguments.length;i++)r(Object(arguments[i]),function(t,n){e[n]=t});return e}}(),p=function(){function e(){}return Object.create?function(e,t,n,r){var i=o(arguments,1);return l.apply(this,[Object.create(e)].concat(i))}:function(t,n,r,i){var s=o(arguments,1);return e.prototype=t,l.apply(this,[new e].concat(s))}}(),d=function(){return String.prototype.trim?function(e){return String.prototype.trim.call(e)}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}(),f="undefined"!=typeof window?window:t;e.exports={assign:l,create:p,trim:d,bind:n,slice:o,each:r,map:i,pluck:s,isList:a,isFunction:c,isObject:u,Global:f}}).call(t,n(15))},function(e,t,n){function o(e,t,n){n=n||{};var o=a(e)+"="+a(t);null==t&&(n.maxage=-1),n.maxage&&(n.expires=new Date(+new Date+n.maxage)),n.path&&(o+="; path="+n.path),n.domain&&(o+="; domain="+n.domain),n.expires&&(o+="; expires="+n.expires.toUTCString()),n.secure&&(o+="; secure"),document.cookie=o}function r(){var e;try{e=document.cookie}catch(e){return"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e.stack||e),{}}return s(e)}function i(e){return r()[e]}function s(e){var t,n={},o=e.split(/ *; */);if(""==o[0])return n;for(var r=0;r<o.length;++r)t=o[r].split("="),n[c(t[0])]=c(t[1]);return n}function a(e){try{return encodeURIComponent(e)}catch(t){u("error `encode(%o)` - %o",e,t)}}function c(e){try{return decodeURIComponent(e)}catch(t){u("error `decode(%o)` - %o",e,t)}}var u=n(8)("cookie");e.exports=function(e,t,n){switch(arguments.length){case 3:case 2:return o(e,t,n);case 1:return i(e);default:return r()}}},function(e,t,n){"use strict";e.exports.post=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];return fetch(e,{method:"POST",headers:n,body:JSON.stringify(t)}).then(function(e){var t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():e.text()}).catch(function(e){return e})}},function(e,t,n){var o=n(11),r=n(12),i=r;i.v1=o,i.v4=r,e.exports=i},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var o=new Uint8Array(16);e.exports=function(){return n(o),o}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},function(e,t){function n(e,t){var n=t||0,r=o;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")}for(var o=[],r=0;r<256;++r)o[r]=(r+256).toString(16).substr(1);e.exports=n},function(e,t,n){"use strict";var o=n(7),r=n(2).post,i=window.bytegain,s=new o;e.exports=s;var a=function(e){try{var t=window.BYTEGAIN_options;if(t.enableDebugReporting){var n=JSON.parse(JSON.stringify(e));n.writeKey=t.apiKey,n.anonymousId=s.anonymousId(),r(t.apiHost+"/debug",n,{})}}catch(e){console.warn("error in Bytegain debug: ",e,e.toString())}};try{a({source:"index_js",msg:"before init"}),s.initialize({Bytegain:window.BYTEGAIN_options}),a({source:"index_js",msg:"after init"}),s._postLoad=function(){if(void 0!==i)for(;i.length>0;){var e=i.shift(),t=e.shift();s[t]&&s[t].apply(s,e)}}}catch(e){a({source:"index_js",msg:"error in init",data:e.toString()})}},function(e,t,n){"use strict";function o(e){return"bg_userstate_"+e}function r(){this._settings={},this.interventions={},this._onReady=[],this._bytegain_recs=void 0}function i(e,t){var n=Math.random()+"",o=1e16*n,r=document.body.appendChild(document.createElement("div"));r.setAttribute("id","DCLK_FLDiv2"),r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.width="1px",r.style.height="1px",r.style.display="none",r.innerHTML='<iframe id="DCLK_FLIframe2" src="https://'+e+".fls.doubleclick.net/activityi;src="+e+";type=all_v0;cat=all_b0;u9="+t+";ord="+o+'?" width="1" height="1" frameborder="0"></iframe>'}var s=n(1),a=n(3).v4,c=n(13),u=n(20).EventTracker,l=n(2).post,p=n(23).BytegainImpl,d=n(26).BytegainRecs;r.prototype.sendDebug=function(e){this._impl.sendDebug(e)},r.prototype.initialize=function(e){this._settings=e.Bytegain,this._impl=p,this._impl.initialize(this._settings,this.anonymousId()),u.initialize();var t=this._onReady;this._onReady=void 0,t.forEach(function(e){try{e()}catch(t){console.warn("Error executing onReady: ",e)}})},r.prototype._etag=function(){var e=this;if(window.atob&&localStorage&&localStorage.getItem("aid")!==this.anonymousId()){var t=function(t){t=t.replace(/"/g,""),l(e._settings.apiHost+"/pixel/save",{etag:t,anonymousId:e.anonymousId(),apiKey:e._settings.apiKey,domain:window.location.hostname}).then(function(){localStorage.aid=e.anonymousId()})},n=this._settings.apiHost+"/pixel/new",o=new XMLHttpRequest;o.onreadystatechange=function(){o.readyState===XMLHttpRequest.DONE&&t(o.getResponseHeader("etag"))},o.open("GET",n,!0),o.send()}},r.prototype.anonymousId=function(){var e=s("ajs_anonymous_id");return e=e?JSON.parse(e):void 0,void 0===e&&(e=a(),s("ajs_anonymous_id",JSON.stringify(e),this._cookieOptions)),e},r.prototype.get=function(e){return c.get(o(e))},r.prototype.page=function(){return this._impl.page()},r.prototype.demoPredict=function(e){var t={},n={apiKey:this._settings.apiKey,anonymousId:this.anonymousId(),userId:this._impl.userId(),modelName:e};return l(this._settings.apiHost+"/model_query",n,t).then(function(e){return e.prediction})},r.prototype._loadRetargetingLibraries=function(){return""!==this._settings.facebookId&&this._configureFacebook(this._settings.facebookId),""!==this._settings.adWordsId?this._configureAdWords(this._settings.adWordsId):Promise.resolve(!0)},r.prototype.sendAdWordsLabel=function(e){var t={bytegain_prediction:e},n={google_conversion_id:this._adWordsId,google_custom_params:t,google_remarketing_only:!0,onload_callback:function(){bytegain.track("google_retargeting_async",{label:e})}};window.google_trackConversion(n)},r.prototype._configureAdWords=function(e){if(this._adWordsId=e,void 0!==window.google_trackConversion)return Promise.resolve(!0);for(var t=null,n=document.scripts,o=0;o<n.length;o++)if(n[o].src&&-1!=n[o].src.indexOf("pagead/conversion_async.js")){t=n[o];break}return null==t&&(t=document.createElement("script"),t.setAttribute("type","text/javascript"),t.setAttribute("src","//www.googleadservices.com/pagead/conversion_async.js"),document.getElementsByTagName("head")[0].appendChild(t)),new Promise(function(e,n){var o=t.onload;t.onload=function(){o&&o(),e(!0)}})},r.prototype._configureFacebook=function(e){this._facebookId=e,void 0===window.fbq&&(this._facebookScript=!function(e,t,n,o,r,i,s){if(!e.fbq)return r=e.fbq=function(){r.callMethod?r.callMethod.apply(r,arguments):r.queue.push(arguments)},e._fbq||(e._fbq=r),r.push=r,r.loaded=!0,r.version="2.0",r.queue=[],i=t.createElement(n),i.async=!0,i.src="https://connect.facebook.net/en_US/fbevents.js",s=t.getElementsByTagName(n)[0],s.parentNode.insertBefore(i,s),i}(window,document,"script"),fbq("init",this._facebookId),fbq("track","PageView"))},r.prototype.ready=function(e){void 0!==this._onReady?this._onReady.push(e):e()},r.prototype.set=function(e,t){return c.set(o(e),t)},r.prototype.track=function(e,t){this._impl.track(e,t)},r.prototype.identify=function(e,t){this._impl.identify(e,t)},r.prototype.setInterventionInfo=function(e,t){var n=localStorage.getItem("BYTEGAIN_goalInfo"),o={};n&&(o=JSON.parse(n)),o[e]=t,localStorage.setItem("BYTEGAIN_goalInfo",JSON.stringify(o))},r.prototype.removeInterventionInfo=function(e){var t=localStorage.getItem("BYTEGAIN_goalInfo"),n={};t&&(n=JSON.parse(t));var o=n[e];return delete n[e],localStorage.setItem("BYTEGAIN_goalInfo",JSON.stringify(n)),o},r.prototype.attemptGoal=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("force"in o)if("success"===o.force){var r={intervention:"attempt",attemptId:Math.round(Math.random()*Math.pow(2,32))},i=o.delaySecs;o.variation&&(r.variant=o.variation),bytegain.setInterventionInfo(e,r),i?setTimeout(function(){t(o.variation)},1e3*i):t(o.variation)}else n();else bytegain.intervention(e,t,n)},r.prototype.reportGoalResult=function(e,t,n){var o=bytegain.removeInterventionInfo(e);o?(o.intervention="result",o.result=t,void 0!==n&&(o.resultProperties=n),bytegain.track(e,o)):bytegain.track(e,{intervention:"result",result:t})},r.prototype.intervention=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o={},r={apiKey:this._settings.apiKey,anonymousId:this.anonymousId(),userId:this._impl.userId(),intervention:e};l(this._settings.apiHost+"/intervention",r,o).then(function(e,o){var r=e.intervention,i=e.intervene,s=e.disabled,a=!1;if(s&&console.warn("'"+r+"' is disabled.  Please update configuration on http://dashboard.bytegain.com"),i){var c={intervention:"attempt",attemptId:e.attemptId,delaySecs:e.delaySecs},u=e.goalType,l=function(){if("variant"in e){var n=e.variant;c.variant=n,"retargeting"!==u&&bytegain.setInterventionInfo(r,c),a=t(n)}else"retargeting"!==u&&bytegain.setInterventionInfo(r,c),a=t();!0!==a&&void 0!==a||"retargeting"===u||bytegain.track(r,c)};"delaySecs"in e?setTimeout(l,1e3*e.delaySecs):l()}else n()})},r.prototype.modelQuery=function(e,t){var n={},o={apiKey:this._settings.apiKey,anonymousId:this.anonymousId(),userId:this._impl.userId(),modelName:e};l(this._settings.apiHost+"/model_query",o,n).then(function(e,n){var o=e.prediction;t(o)})},r.prototype.retargetAdsV3=function(e,t){var n=this;bytegain.intervention(e,function(){n._loadRetargetingLibraries().then(function(){""!==n._settings.adWordsId&&bytegain.sendAdWordsLabel(t),""!==n._settings.facebookId&&fbq("trackCustom","ByteGainPredict",{bytegain_prediction:t}),""!==n._settings.dbmId&&i(n._settings.dbmId,t),bytegain.track("google_retargeting",{label:"BestUsers",adWords:""!==n._settings._adWordsId,facebook:""!==n._settings.facebookId,dbm:""!==n._settings.dbmId})})})},r.prototype._getNextRecsUsingCache=function(e,t){var n=this;void 0===this._bytegain_recs&&(this._bytegain_recs=new d);var o=this._bytegain_recs;return t&&o.restart(),new Promise(function(t,r){if(o.isExpired()||e>o.numRemaining()){var i={},s={apiKey:n._settings.apiKey,userId:n._impl.userId()};l(n._settings.apiHost+"/recommendations",s,i).then(function(e){var n=e.recommendations;n?o.newRecs(n):console.warn("unexpected server response: missing recommendations"),t()}).catch(function(e){console.warn("failed to get recommendations from server: "+e),t()})}else t()}).then(function(){var t=o.getNextRecs(e);return o.writeToCache(),t})},r.prototype.getNextRecommendations=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return this._getNextRecsUsingCache(e,n).catch(function(){console.warn("unexpected code path (2) reached in Bytegain.getNextRecommendations")});this._getNextRecsUsingCache(e,n).then(function(e){t(e)}).catch(function(){console.warn("unexpected code path (1) reached in Bytegain.getNextRecommendations"),t([])})},r.prototype.postToSalesForce=function(e){var t={apiKey:this._settings.apiKey,userId:this._impl.userId(),prediction:e},n={};l(this._settings.apiHost+"/update_prediction",t,n)},r.prototype.vmwareCoupon=function(e,t,n,o,r){var i=this,a=this.anonymousId(),c=a.endsWith("0")||a.endsWith("1")||a.endsWith("2");if(c){s("bg_vmware_control")||(bytegain.track("vmware_control2",{}),s("bg_vmware_control","1"))}var u=function(t,n){var o="VMW_coupon_triggered_"+e,s=i.get(o),a=!1;return s||!t?r(!1):(c?i.track("vmware_coupon_control2",{}):(r(e),i.track("coupon",{prediction:n,cause:t}),a=!0),i.set(o,!0)),a};this.intervention("coupon",function(){u("from_model",.02)},function(){Math.random()<.002&&u("random",.002)})},e.exports=r},function(e,t,n){function o(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function r(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var o="color: "+this.color;e=[e[0],o,"color: inherit"].concat(Array.prototype.slice.call(e,1));var r=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))}),e.splice(i,0,o),e}function i(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function a(){var e;try{e=t.storage.debug}catch(e){}return e}t=e.exports=n(9),t.log=i,t.formatArgs=r,t.save=s,t.load=a,t.useColors=o,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(a())},function(e,t,n){function o(){return t.colors[l++%t.colors.length]}function r(e){function n(){}function r(){var e=r,n=+new Date,i=n-(u||n);e.diff=i,e.prev=u,e.curr=n,u=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=o());var s=Array.prototype.slice.call(arguments);s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var a=0;s[0]=s[0].replace(/%([a-z%])/g,function(n,o){if("%%"===n)return n;a++;var r=t.formatters[o];if("function"==typeof r){var i=s[a];n=r.call(e,i),s.splice(a,1),a--}return n}),"function"==typeof t.formatArgs&&(s=t.formatArgs.apply(e,s)),(r.log||t.log||console.log.bind(console)).apply(e,s)}n.enabled=!1,r.enabled=!0;var i=t.enabled(e)?r:n;return i.namespace=e,i}function i(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),o=n.length,r=0;r<o;r++)n[r]&&(e=n[r].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function s(){t.enable("")}function a(e){var n,o;for(n=0,o=t.skips.length;n<o;n++)if(t.skips[n].test(e))return!1;for(n=0,o=t.names.length;n<o;n++)if(t.names[n].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=r,t.coerce=c,t.disable=s,t.enable=i,t.enabled=a,t.humanize=n(10),t.names=[],t.skips=[],t.formatters={};var u,l=0},function(e,t){function n(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*l;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*a;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function o(e){return e>=u?Math.round(e/u)+"d":e>=c?Math.round(e/c)+"h":e>=a?Math.round(e/a)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function r(e){return i(e,u,"day")||i(e,c,"hour")||i(e,a,"minute")||i(e,s,"second")||e+" ms"}function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var s=1e3,a=60*s,c=60*a,u=24*c,l=365.25*u;e.exports=function(e,t){return t=t||{},"string"==typeof e?n(e):t.long?r(e):o(e)}},function(e,t,n){function o(e,t,n){var o=t&&n||0,l=t||[];e=e||{};var p=e.node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==p||null==d){var f=s();null==p&&(p=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==d&&(d=i=16383&(f[6]<<8|f[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:u+1,m=h-c+(g-u)/1e4;if(m<0&&void 0===e.clockseq&&(d=d+1&16383),(m<0||h>c)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=h,u=g,i=d,h+=122192928e5;var y=(1e4*(268435455&h)+g)%4294967296;l[o++]=y>>>24&255,l[o++]=y>>>16&255,l[o++]=y>>>8&255,l[o++]=255&y;var v=h/4294967296*1e4&268435455;l[o++]=v>>>8&255,l[o++]=255&v,l[o++]=v>>>24&15|16,l[o++]=v>>>16&255,l[o++]=d>>>8|128,l[o++]=255&d;for(var _=0;_<6;++_)l[o+_]=p[_];return t||a(l)}var r,i,s=n(4),a=n(5),c=0,u=0;e.exports=o},function(e,t,n){function o(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),e=e||{};var s=e.random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}var r=n(4),i=n(5);e.exports=o},function(e,t,n){var o=n(14),r=[n(16),n(17),n(18),n(19)],i=[];e.exports=o.createStore(r,i)},function(e,t,n){function o(){var e="undefined"==typeof console?null:console;if(e){(e.warn?e.warn:e.log).apply(e,arguments)}}function r(e,t,n){n||(n=""),e&&!p(e)&&(e=[e]),t&&!p(t)&&(t=[t]);var r=n?"__storejs_"+n+"_":"",i=n?new RegExp("^"+r):null;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var g={_namespacePrefix:r,_namespaceRegexp:i,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var n=e.read(t)===t;return e.remove(t),n}catch(e){return!1}},_assignPluginFnProp:function(e,t){var n=this[t];this[t]=function(){function t(){if(n)return c(arguments,function(e,t){o[t]=e}),n.apply(r,o)}var o=s(arguments,0),r=this,i=[t].concat(o);return e.apply(r,i)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var n="";try{n=JSON.parse(e)}catch(t){n=e}return void 0!==n?n:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this;if(p(e))return void c(e,function(e){t._addPlugin(e)});if(!a(this.plugins,function(t){return e===t})){if(this.plugins.push(e),!d(e))throw new Error("Plugins must be function values that return objects");var n=e.call(this);if(!f(n))throw new Error("Plugins must return an object of function properties");c(n,function(n,o){if(!d(n))throw new Error("Bad plugin property: "+o+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(n,o)})}},addStorage:function(e){o("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},m=l(g,h,{plugins:[]});return m.raw={},c(m,function(e,t){d(e)&&(m.raw[t]=u(m,e))}),c(e,function(e){m._addStorage(e)}),c(t,function(e){m._addPlugin(e)}),m}var i=n(0),s=i.slice,a=i.pluck,c=i.each,u=i.bind,l=i.create,p=i.isList,d=i.isFunction,f=i.isObject;e.exports={createStore:r};var h={version:"2.0.12",enabled:!1,get:function(e,t){var n=this.storage.read(this._namespacePrefix+e);return this._deserialize(n,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each(function(n,o){e.call(t,t._deserialize(n),(o||"").replace(t._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return r.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return r(this.storage,this.plugins,e)}}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){function o(){return l.localStorage}function r(e){return o().getItem(e)}function i(e,t){return o().setItem(e,t)}function s(e){for(var t=o().length-1;t>=0;t--){var n=o().key(t);e(r(n),n)}}function a(e){return o().removeItem(e)}function c(){return o().clear()}var u=n(0),l=u.Global;e.exports={name:"localStorage",read:r,write:i,each:s,remove:a,clearAll:c}},function(e,t,n){function o(){return l.sessionStorage}function r(e){return o().getItem(e)}function i(e,t){return o().setItem(e,t)}function s(e){for(var t=o().length-1;t>=0;t--){var n=o().key(t);e(r(n),n)}}function a(e){return o().removeItem(e)}function c(){return o().clear()}var u=n(0),l=u.Global;e.exports={name:"sessionStorage",read:r,write:i,each:s,remove:a,clearAll:c}},function(e,t,n){function o(e){if(!e||!c(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(d.cookie.replace(new RegExp(t),"$1"))}function r(e){for(var t=d.cookie.split(/; ?/g),n=t.length-1;n>=0;n--)if(p(t[n])){var o=t[n].split("="),r=unescape(o[0]),i=unescape(o[1]);e(i,r)}}function i(e,t){e&&(d.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function s(e){e&&c(e)&&(d.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function a(){r(function(e,t){s(t)})}function c(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(d.cookie)}var u=n(0),l=u.Global,p=u.trim;e.exports={name:"cookieStorage",read:o,write:i,each:r,remove:s,clearAll:a};var d=l.document},function(e,t){function n(e){return a[e]}function o(e,t){a[e]=t}function r(e){for(var t in a)a.hasOwnProperty(t)&&e(a[t],t)}function i(e){delete a[e]}function s(e){a={}}e.exports={name:"memoryStorage",read:n,write:o,each:r,remove:i,clearAll:s};var a={}},function(e,t,n){"use strict";var o=n(21).parseDomPath,r=n(22).debounce,i=function(){};i.prototype.trackClick=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,o=t.textContent?t.textContent.trim():"";return""===o&&t.parentNode&&n>0?e(t.parentNode,n-1):o}var t=function(t,n){var r=t.target,i=o(r),s=e(t.target,3).substring(0,30),a={x:t.x,y:t.y,href:r.href,path:i,width:r.offsetWidth,height:r.offsetHeight,disabled:r.disabled,scrollY:window.scrollY,text:s,nodeName:t.target.nodeName.toLowerCase()};for(var c in n)a[c]=n[c];bytegain.sendDebug({source:"BG Click"}),bytegain.track("BG Click",a)},n=r(t,1e3);window.addEventListener("touchstart",n,!0),window.addEventListener("mouseup",function(e){e.target.nodeName&&"a"===e.target.nodeName.toLowerCase()||e.target.nodeName&&"button"===e.target.nodeName.toLowerCase()?t(e):n(e)},!0)};var s=function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight};i.prototype.trackScroll=function(){var e=0,t=r(function(t){var n=t.target,r=o(n),i={scrollY:window.scrollY,path:r};Math.abs(window.scrollY-e)>s()*bytegain._settings.trackScrollScreens&&(e=window.scrollY,bytegain.track("BG Scroll",i))},500);window.addEventListener("scroll",t,!0)},i.prototype.trackKey=function(){var e=r(function(e){var t,n=e.target,r=o(n);e.key&&(t=1===e.key.length&&/[ -~]/.test(e.key)?"ASCII":e.key);var i={key:t,path:r,scrollY:window.scrollY};bytegain.track("BG Key",i)},1e3);window.addEventListener("keydown",e,!0)},i.prototype.initialize=function(){this.trackClick(),this.trackScroll(),this.trackKey()},e.exports.EventTracker=new i},function(e,t,n){"use strict";e.exports.parseDomPath=function(e){var t=[],n=e,o=function(e,t){var n=e.nodeName?e.nodeName.toLowerCase():"",o=e.id?"#"+e.id:"",r=e.className?"."+e.className:"",i=e.name&&"string"==typeof e.name?"!"+e.name:"";if(!t){if("div"===n){var s=o+r+i;s.indexOf("link")>=0?n="link":/div\..*?(img|image|pic|picture).*/.test(s)?n="image":r=".container"}r=r.split(" ").slice(0,4).join(" ")}return n+o+r+i};for(t.push(o(e,"full element"));n.parentNode;){n=n.parentNode;var r=n.nodeName?n.nodeName.toLowerCase():"";r&&"body"!==r&&"html"!==r&&t.push(o(n))}return encodeURI(function(e){if(e.length<=1)return e.join(" ");for(var t=[e[0]],n=1,o=e.length;n<o;n++){var r=t[t.length-1];e[n].indexOf("container")>=0&&r.indexOf("container")>=0?e[n].length>r.length&&(t.pop(),t.push(e[n])):e[n]!==r&&"#document"!==e[n]&&t.push(e[n])}return t.join(" ")}(t)).replace(/%20/g," ")}},function(e,t,n){"use strict";e.exports.debounce=function(e,t,n){var o;return function(){var r=this,i=arguments;clearTimeout(o),o=setTimeout(function(){o=null,n||e.apply(r,i)},t),n&&!o&&e.apply(r,i)}}},function(e,t,n){"use strict";function o(){}function r(e){return null!==e.anonymousId&&void 0!==e.anonymousId&&""!==e.anonymousId&&null!==e.sentAt&&void 0!==e.sentAt&&""!==e.sentAt&&e.sentAt.length>19&&null!==e.timestamp&&void 0!==e.timestamp&&""!==e.timestamp&&e.timestamp.length>19}var i=n(3).v4,s=n(2).post,a=n(1),c=n(24);o.prototype.initialize=function(e,t){this.options=e,this._anonymousId=t,this._batchMode=this.options.batchMode,this._onlyIdentifiedUsers=this.options.onlyIdentifiedUsers,this._batchTimeMillis=this.options.batchTimeMillis;var n="."+c(window.location.href);"."===n&&(n=null),this._cookieOptions={maxage:31536e6,path:"/",domain:n}},o.prototype.sendDebug=function(e){try{if(this.options.enableDebugReporting){var t=JSON.parse(JSON.stringify(e));t.writeKey=this.options.apiKey,t.anonymousId=this.anonymousId(),s(this.options.apiHost+"/debug",t,{})}}catch(t){console.warn("error in Bytegain for: ",e,t.toString())}},o.prototype._addToQueue=function(e){var t=this;void 0===this._queue&&(this._queue=[],setTimeout(function(){try{var e=t._queue;t._queue=void 0,t._sendQueue(e)}catch(e){console.warn(e)}},this._batchTimeMillis)),e.context=void 0,this._queue.push(e)},o.prototype._sendQueue=function(e){var t=this._getBasicJson("batch");t.batch=e,this.send("/batch",t,!0)},o.prototype.send=function(e,t,n){var o={},a=JSON.parse(JSON.stringify(t));a.sentAt=(new Date).toISOString(),a.writeKey=this.options.apiKey,a.messageId=i();var c=this.userId();if(c)a.userId=""+c;else if(this._onlyIdentifiedUsers)return Promise.resolve(!1);return r(a)?n||!this._batchMode?s(this.options.apiHost+e,a,o):(this._addToQueue(a),Promise.resolve()):(console.warn("invalid msg: ",a),this.sendDebug({source:"bytegain_send",msg:"msg failed errorCheckEvent",data:a}),new Promise(function(e,t){t()}))},o.prototype.page=function(){var e=this._getBasicJson("page");return e.properties=e.context.page,this.send("/p",e,!0)},o.prototype.track=function(e,t){var n=this._getBasicJson("track");return n.event=e,n.properties=t,this.send("/t",n,!1)},o.prototype.identify=function(e,t){var n=this._getBasicJson("identify");return void 0===t&&this.userId()===e?Promise.resolve(!0):(n.traits=t||{},this.setUserId(e),this.send("/i",n,!1))},o.prototype.anonymousId=function(){return this._anonymousId},o.prototype.userId=function(){var e=a("ajs_user_id");return e?JSON.parse(e):void 0},o.prototype.setUserId=function(e){a("ajs_user_id",JSON.stringify(e),this._cookieOptions)},o.prototype._getBasicJson=function(e){var t=window.location;return{context:{page:{path:t.pathname,search:t.search,referrer:document.referrer,title:document.title,url:t.href}},integrations:{},timestamp:(new Date).toISOString(),anonymousId:this.anonymousId(),type:e}},e.exports.BytegainImpl=new o},function(e,t,n){"use strict";function o(e){for(var n=t.cookie,o=t.levels(e),r=0;r<o.length;++r){var i=o[r],s={domain:"."+i};if(n("__tld__",1,s),n("__tld__"))return n("__tld__",null,s),i}return""}var r=n(25).parse,i=n(1);o.levels=function(e){var t=r(e).hostname,n=t.split("."),o=n[n.length-1],i=[];if(4===n.length&&o===parseInt(o,10))return i;if(n.length<=1)return i;for(var s=n.length-2;s>=0;--s)i.push(n.slice(s).join("."));return i},o.cookie=i,t=e.exports=o},function(e,t){function n(e){switch(e){case"http:":return 80;case"https:":return 443;default:return location.port}}t.parse=function(e){var t=document.createElement("a");return t.href=e,{href:t.href,host:t.host||location.host,port:"0"===t.port||""===t.port?n(t.protocol):t.port,hash:t.hash,hostname:t.hostname||location.hostname,pathname:"/"!=t.pathname.charAt(0)?"/"+t.pathname:t.pathname,protocol:t.protocol&&":"!=t.protocol?t.protocol:location.protocol,search:t.search,query:t.search.slice(1)}},t.isAbsolute=function(e){return 0==e.indexOf("//")||!!~e.indexOf("://")},t.isRelative=function(e){return!t.isAbsolute(e)},t.isCrossDomain=function(e){e=t.parse(e);var n=t.parse(window.location.href);return e.hostname!==n.hostname||e.port!==n.port||e.protocol!==n.protocol}},function(e,t,n){"use strict";function o(){this.readFromCache()}o.prototype.readFromCache=function(){var e=localStorage.getItem("BYTEGAIN_RECS_state"),t=e?JSON.parse(e):{next:0,recs:[],expiration_date:0};this._next=t.next,this._recs=t.recs,this._expiration=0,this._dirty=!1},o.prototype.writeToCache=function(){if(this._dirty){var e={next:this._next,recs:this._recs,expiration_date:this._expiration};localStorage.setItem("BYTEGAIN_RECS_state",JSON.stringify(e)),this._dirty=!1}},o.prototype.restart=function(){this._dirty=!0,this._next=0},o.prototype.isExpired=function(){return Date.now()>=this._expiration},o.prototype.numRemaining=function(){return this._recs.length-this._next},o.prototype.newRecs=function(e){e!==this._recs&&(this.restart(),this._recs=e),this._expiration=Date.now()+9e5,this._dirty=!0},o.prototype.getNextRecs=function(e){var t=this._recs.slice(this._next,this._next+e);return this._next+=t.length,this._dirty|=t.length>0,t},e.exports.BytegainRecs=o}]); } catch(error) { try { bytegain.track('error', error.toString()); } catch(error) { console.warn(error); } }
  bytegain.sendDebug({source: 'bytegain_wrapper', msg: 'after_core_js'});
  bytegain.page().then(function() {
    bytegain.sendDebug({source: 'bytegain_wrapper', msg: 'page_completed'});
    try {
      bytegain._postLoad();
      try { !function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";var r=n(1);!function(){function e(){return Math.floor((new Date).getTime()/6e4)}var t=function(e){var t=window.scrollY,n=t+window.innerHeight;return e.offsetTop+e.offsetHeight<=n},n=function(){var n=e();document.querySelectorAll("article").forEach(function(e){t(e)&&null===localStorage.getItem(e.id)&&(localStorage.setItem(e.id,n),bytegain.track("viewedArticle",{articleId:e.id}))})},o=(0,r.debounce)(n,1e3);n(),document.addEventListener("scroll",o),function(){var t=localStorage.getItem("bytegain_cleaned"),n=e(),r=n-720;(null===t||parseInt(t)<r)&&(Object.keys(localStorage).forEach(function(e){if(e.includes("jsid-post-")){var t=parseInt(localStorage.getItem(e));(t<r||isNaN(t))&&localStorage.removeItem(e)}}),localStorage.setItem("bytegain_cleaned",n))}()}()},function(e,t,n){"use strict";e.exports.debounce=function(e,t,n){var r;return function(){var o=this,c=arguments;clearTimeout(r),r=setTimeout(function(){r=null,n||e.apply(o,c)},t),n&&!r&&e.apply(o,c)}}}]); } catch(error) { try { bytegain.track('error', error.toString()); } catch(error) { console.warn(error); } }
    } catch(error) {
      try {
        bytegain.sendDebug({source: 'bytegain_wrapper', error: error.toString()});
      } catch(error) {
        console.warn(error);
      }

    }
  });
}