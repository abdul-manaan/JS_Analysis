
(function ($) {
  
  $('#content-menu a').on('click', function(e){e.stopPropagation()});

  $('#menu-mobile-trigger').click(function () {

    var menu_root = $('#menu-mobile-trigger');
    var content_menu = $('#content-menu');

    if (menu_root.hasClass('active')) {

      menu_root.removeClass('active');
      //$('#content-page').css("position", "relative");

      if (typeof removeBodyFixed == "function") {
        removeBodyFixed();
      }

      $('body').removeClass('reset-body-fixed');
      $('.container-header-home-ita').removeClass('affix-top');
      $('.sticky-container.it').removeClass('affix-top');
      $('.container-header-home-ita').removeClass('affix-ita');
      content_menu.hide();
      content_menu.css("opacity", "0");
      content_menu.css("z-index", "-1");
      content_menu.css("left", "-95%");
      $('.footer').css("opacity", "1");
      $('.tag').removeClass('active');
      $('#all-tag').removeClass('active');
      $('#box-tag').hide();
      $('#edition').removeClass('active');
      $('#edition-button').removeClass('active');
      $('#edition-content').hide();
      $('#global-edition').removeClass('active');
      $('#global-edition-button').removeClass('active');
      $('#global-edition-content').hide();
      $('#section').removeClass('active');
      $('#section-button').removeClass('active');
      $('#section-content').hide();
      //$('#login-mobile-breadcrumb').removeClass('active');
      //$('#register-mobile-breadcrumb').removeClass('active');
      //$('#login-register-breadcrumb-mobile').hide();
    } else {
      menu_root.addClass('active');
      //$('#content-page').css("position", "fixed");

      if (typeof BodyFixed == "function") {
        BodyFixed();
      }

      $('body').addClass('reset-body-fixed');
      $('.container-header-home-ita').addClass('affix');
      $('.sticky-container.it').addClass('affix');
      if ($('body').hasClass('it')) {
        $('.container-header-home-ita').addClass('affix-ita');
      }

      content_menu.show();
      content_menu.css("opacity", "1");
      content_menu.css("z-index", "1000000");
      content_menu.css("left", "0");
      $('.footer').css("opacity", "0");

      $('.element-to-active').removeClass('active');
      $('.element-to-show').hide();
    }

    $('#login-content').hide();
    $('#register-content').hide();
    $('#login').removeClass('active');
    $('#login-button').removeClass('active');
    $('#register').removeClass('active');
    $('#register-button').removeClass('active');
  });
})(jQuery);