var _i_=this._i_||function(){},_r_=this._r_||function(e){return e},_sp_=this._sp_||function(e){B.et.customGoal("cDPPESHbfNFVTAYZSQDZET",1),B.reportError({message:"SPDR function called - "+e},"SPDR")};b.env.scripts_tracking.lp={loaded:1,run:0};var b=window.b||{};b.map=b.map||{},B.define("component/dropdown",function(e,t,i){_i_("b71:d71ff71e");var n=e("component"),a=e("click-out");i.exports=n.extend({init:function(){_i_("b71:d512e63b"),this.$trigger=this.$el.find('[data-dropdown-trigger], [data-dropdown-trigger=""]'),this.$menu=this.$el.find('[data-dropdown-menu], [data-dropdown-menu=""]'),this.addEventListeners(),this.configure(),_r_()},addEventListeners:function(){_i_("b71:804bce29"),this.$el.find('[data-dropdown-close], [data-dropdown-close=""]').click(this.closeClick.bind(this)),this.$trigger.click(this.triggerClick.bind(this)),_r_()},configure:function(){_i_("b71:78e07c17"),this.$menu.hasClass("g-hidden")&&(this.hideByClass="g-hidden"),_r_()},closeClick:function(){_i_("b71:7c9c736b"),this.hide(),_r_()},triggerClick:function(e){_i_("b71:d7898556"),e.preventDefault(),this.toggle(),_r_()},clickedOut:function(){_i_("b71:7c9c736b1"),this.hide(),_r_()},toggle:function(){_i_("b71:24290b6f"),this.visible?this.hide():this.show(),_r_()},show:function(){_i_("b71:fae4d18b"),this.visible||(this.visible=!0,this.hideByClass?this.$menu.removeClass(this.hideByClass):this.$menu.show(),this.$el.trigger("show.dropdown"),this.clickOutMonitorId=a.addMonitor(this.$menu,this.clickedOut.bind(this))),_r_()},hide:function(){_i_("b71:9b126b9d"),this.visible&&(this.visible=!1,this.hideByClass?this.$menu.addClass(this.hideByClass):this.$menu.hide(),this.$el.trigger("hide.dropdown"),this.clickOutMonitorId&&(a.removeMonitor(this.clickOutMonitorId),this.clickOutMonitorId=void 0)),_r_()}}),_r_()}),$(function(){if(_i_("b71:0c898dc9"),"city"!=b.env.b_action||$(".lp_sb_trigger").is("[data-tab-target]"))return _r_();$(".lp_sb_trigger").on("click",function(e){_i_("b71:8480afc4"),e.preventDefault(),$("#header_search_btn").click(),_r_()}),_r_()}),function(a){"use strict";_i_("b71:0ce8893a"),B.define("component/seo/more_relevant_nearby_cities",function(e,t,i){_i_("b71:8c4b06d6");var n=e("component");i.exports=n.extend({init:function(){_i_("b71:267a907d"),this.$scrollEl=this.$el.find("[data-top-cities-scroll]"),this.$el.on("click","[data-top-cities-nav]",{component:this},this.scrollPage),_r_()},scrollPage:function(e){_i_("b71:18fdfd9b"),e.preventDefault();var t=e.data.component,i=a(this),n=a(i.attr("href").replace(/.*?#/,"#")).position();null!=n&&t.$scrollEl.animate({scrollLeft:n.left+"px"}),_r_()}}),_r_()}),_r_()}(B.require("jquery")),function(){"use strict";_i_("b71:f0bf207c"),B.define("component/seo/top-accommodations",function(e,t,i){_i_("b71:816929b0");var n=e("component");i.exports=n.extend({init:function(){if(_i_("b71:071a229f"),!this.$el.find("[data-acc-active]").length)return _r_();this.$el.on("click","[data-acc-control]",this.setTabToActiveCb.bind(this)),this.setTabToActive({target:this.$el.find("[data-acc-active]")}),_r_()},setTabToActive:function(e){_i_("b71:a815fe30");var t=$(e.target),i=t.prop("href").replace(/.*?#/,"#");this.$el.find("[data-acc-list]").hide(),this.$el.find(i).show(),this.$el.find("[data-acc-control]").removeClass("top-accom__link--active active"),t.addClass("top-accom__link--active active"),_r_()},setTabToActiveCb:function(e){_i_("b71:e1f09b3c"),e.preventDefault(),this.setTabToActive(e),_r_()}}),_r_()}),B.define("component/seo/top-accommodations-snap",function(e,t,i){_i_("b71:99e0735e");var n=e("component");i.exports=n.extend({_timer:!1,_touchend:!1,_posArray:[],init:function(){_i_("b71:2a1576c9"),this.bindScrollEvents(),_r_()},bindScrollEvents:function(){_i_("b71:97b6805c"),this.$el.on("scroll",this.scrollTriggered.bind(this)).on("touchend",this.touchEndTriggered.bind(this)),$(window).on("resize",this.resizeTriggered.bind(this)),_r_()},scrollTriggered:function(e){_i_("b71:682286b7"),this._timer&&window.clearTimeout(this._timer),this._timer=window.setTimeout(this.snap.bind(this),300),_r_()},touchEndTriggered:function(e){_i_("b71:3ae5a3c7"),this._touchend=!0,_r_()},snap:function(e){if(_i_("b71:542c6c2d"),!this._touchend)return _r_();var r,o=Math.abs(this.$el.find("[data-acc-list-scrolled]").position().left);this.getItemsPosition().some(function(e,t,i){_i_("b71:f7ad7ab8");var n=o<e,a=i[t+1];return n||(r=a?o-e<(a-e)/2?e:a:e),_r_(n)}),this._touchend=!1,this.$el.animate({scrollLeft:r},200),_r_()},getItemsPosition:function(e){return _i_("b71:d858e6a1"),(0==this._posArray.length||this._posArray[1]<=0)&&(this._posArray=this.$el.find("[data-acc-item]").get().reduce(function(e,t){_i_("b71:59178dc0");var i=$(t).position();return i&&e.push(i.left),_r_(e)},[])),_r_(e?this._posArray[e]:this._posArray)},resizeTriggered:function(e){_i_("b71:c23e7cd2"),this._posArray.length=0,_r_()}}),_r_()}),_r_()}(),function(){"use strict";_i_("b71:2cc2de72"),B.define("component/seo/tabs-navigation",function(e,t,i){_i_("b71:4a6fd540");var n=e("component");i.exports=n.extend({init:function(){_i_("b71:d984dd4f"),this.$el.on("click","[data-tab-control]",this.setTabToActiveCb.bind(this)),this.setTabToActive({target:this.$el.find("[data-tab-active]")}),_r_()},setTabToActive:function(e){_i_("b71:4cc6c6e9");var t=$(e.target),i=t.prop("href").replace(/.*?#/,"#");this.$el.find("[data-tab-content]").hide(),this.$el.find(i).show(),this.$el.find("[data-tab-control]").removeClass("active"),t.addClass("active"),_r_()},setTabToActiveCb:function(e){_i_("b71:e1f09b3c1"),e.preventDefault(),this.setTabToActive(e),_r_()}}),_r_()}),_r_()}(),function(){"use strict";_i_("b71:88f725ff"),B.define("component/seo/target-click",function(e,t,i){_i_("b71:fd7f16fd");var n=e("component");i.exports=n.extend({init:function(){if(_i_("b71:636e06fc"),this.$target=this.$el.find("[data-target-click]"),this.$target.length<1)return _r_();this.supportClickonIos(),this.$el.on("click",this.triggerAnchor.bind(this)),_r_()},triggerAnchor:function(e){_i_("b71:b35d9e8d"),this.checkTriggerEnabled(e)||this.$target[0].click(),_r_()},checkTriggerEnabled:function(e){_i_("b71:49f778f8");var t=$(e.target);return _r_(e.target.hasAttribute("data-target-click")||0<t.closest("[data-target-click]").length)},supportClickonIos:function(){_i_("b71:a6dc2b19"),this.$el.css({cursor:"pointer"}),_r_()}}),_r_()}),_r_()}(),_i_("b71:7efabd5b"),B.define("component/multiple-states",function(e,t,i){_i_("b71:931522b4");var n=e("component"),a=e("jquery");i.exports=n.extend({states:[],init:function(){_i_("b71:94985a28"),this.getStates(),this.$el.on("click","[data-multiple-states]",this.toggle.bind(this)),_r_()},toggle:function(e){_i_("b71:69950a67"),e.preventDefault();var t=a(e.target).data("multiple-states");this.$el.toggleClass(t),_r_()},getStates:function(){_i_("b71:79b3755b"),this.$el.find("[data-multiple-states]",function(e){_i_("b71:00a7c4c5"),this.state.push(a(e).data("data-multiple-states")),_r_()}.bind(this)),_r_()}}),_r_()}),B.when({events:"ready"}).run(function(e){_i_("b71:eb519f4e");var t=e("jquery");t(".js-click-search").on("click",function(){_i_("b71:dec6be4c"),t("#submit_search").click(),_r_()}),_r_()}),_r_(),_i_("b71:80ad7d53"),B.when({action:["city"],events:"ready"}).run(function(e){_i_("b71:ca351de8");var a=e("jquery");a(".m-scalable-lp-lazy-trigger").click(function(e){_i_("b71:018e4402"),a(this).find("img[data-lazy-image-src]").each(function(e,t){_i_("b71:db1d4691");var i=a(this).attr("data-lazy-image-src"),n=i?i.trim():"";n&&""!==n&&(a(this).attr("src",n),a(this).removeAttr("data-lazy-image-src")),_r_()}),a(this).removeClass("m-scalable-lp-lazy-trigger"),_r_()}),_r_()}),_r_(),$(document).on("click",".js-toggle-long-text__content",function(){_i_("b71:c47f5dcd"),$(this).toggleClass("expanded"),_r_()}),B.when({events:"click .lp-usp-banner__close"}).run(function(e){_i_("b71:be8a122e");var t=e("dismiss-item"),i=$(".lp-usp-banner__close").data("banner-dismiss");i&&t(i),_r_()}),_i_("b71:6c5e52c4"),B.when({action:["index"]}).run(function(e){_i_("b71:4e0643bb");var t=e("event-bus");if(!B.env.cross_product_search_overlays)return _r_();if(!t)return _r_(!1);var i=function(e){_i_("b71:97cd3f55");var t=$(".user_selected_nights_copy span");if(!t.length)return _r_();var i=e.getLengthOfStay(),n=B.jstmpl.translations("m_search_sbox_dates_num_night_stay",i,{num_nights:i});t.text(n),_r_()};$(".dualcal").each(function(){_i_("b71:d9f7fa96");var e=$(this).data("calendar");i(e),_r_()}),t.on(t.EVENTS.CALENDAR_UPDATE,function(e,t){_i_("b71:1fc98a8d"),i(t.instance),_r_()}),_r_()}),_r_(),b.require("jquery")(function(r){if(_i_("b71:aa79622e"),"index"!=b.env.b_action)return _r_();r("#top-destinations_postcard").on("click","a.city_link",function(e){var t,i,n,a;_i_("b71:17759cd1"),e.preventDefault(),t=r(this).attr("href"),n=(i=r("#form_search_location")).find('[name="checkin_year_month"]').val()+"-"+i.find('[name="checkin_monthday"]').val(),a=i.find('[name="checkout_year_month"]').val()+"-"+i.find('[name="checkout_monthday"]').val(),t+=b.env.b_query_params_delimiter+"checkin="+n+b.env.b_query_params_delimiter+"checkout="+a,location.href=t,_r_()}),_r_()}),B.require(["jquery","et","events","searchbox/destinations"],function(e,t,i,n){if(_i_("b71:ae337a9b"),"index"!==B.env.b_action)return _r_();n.initEventHandlers(),_r_()}),B.define("component/tabs",function(e,t,i){_i_("b71:3582182a");var n=e("component");i.exports=n.extend({activeId:null,init:function(){_i_("b71:f5b792bb");var e=this.$el.find(".c-tabs li.-active a").eq(0),t=this.getId(e);t&&(this.activeId=t),this.bindEvents(),_r_()},bindEvents:function(){_i_("b71:3744e9c2"),this.$el.find(".c-tabs li a").on("click",this.tabClick.bind(this)),_r_()},tabClick:function(e){_i_("b71:fb41c774");var t=$(e.currentTarget),i=this.getId(t);if(!i||i===this.activeId)return _r_(!1);return this.$el.find(".c-tabs li").removeClass("-active"),t.closest("li").addClass("-active"),this.$el.find(".c-tabs-content").removeClass("-active"),$("#"+i).addClass("-active"),this.activeId=i,history.pushState&&history.pushState(null,null,"#"+i),_r_(!1)},getId:function(e){_i_("b71:6f101c5d");var t=e.attr("href");if(!t)return _r_();var i=t.split("#");if(i&&i[1])return _r_(i[1]);_r_()}}),_r_()}),B.when({action:"index",events:"ready"}).run(function(e){_i_("b71:a34e9c71");var i=e("jquery");i(".js--how-works-cta").on("click",function(){_i_("b71:554bba0a");var e=i(".bh-sb-horizontal, form#form_search_location, #wide_search"),t=e.offset();i("html, body").animate({scrollTop:t.top-5}),e.find(".sb-destination__input").focus(),_r_()}),_r_()}),window.addEventListener("pageshow",function(e){if(_i_("b71:42e63df8"),B&&B.env&&"index"===B.env.b_action&&e.persisted){var t=document.getElementById("input_destination");t&&t.disabled&&t.removeAttribute("disabled")}_r_()},!1),B.when({action:"index",events:"ready",condition:$(".js-ge-popbox-controller").length}).run(function(e){_i_("b71:09336a0a");var t=e("jquery");setTimeout(function(){_i_("b71:7998b7e6"),t(".js-ge-popbox-controller").addClass("ge-popbox-open"),_i_("b71:86df3286"),t.ajax({type:"post",url:"/genius_login_banner_seen",data:{}}),_r_(),_r_()},1e3),t(".js-popbox-close-cta").on("click",function(e){_i_("b71:ff541fcc"),e.preventDefault(),t(".js-ge-popbox-controller").removeClass("ge-popbox-open"),setTimeout(function(){_i_("b71:5b9918aa"),t(".js-ge-popbox-controller").remove(),_r_()},1e3),_r_()}),_r_()}),B.when({action:"index",events:"ready"}).run(function(e){_i_("b71:68ab2b5e");var t=e("jquery"),i=t(".ugc-pending-modal"),n="booking_hide_pending_review_modal";(function(e){_i_("b71:7a2e2469");var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return _r_(t?t[2]:null)})(n)||i.fadeIn(500),t(".ugc-pending-modal__close").on("click",function(){_i_("b71:c2df5acc"),i.fadeOut(500),function(e,t){_i_("b71:aec2531d");var i=new Date;i.setTime(i.getTime()+6048e5),document.cookie=e+"="+t+";expires="+i.toUTCString(),_r_()}(n,"1"),_r_()}),_r_()}),B.define("component/dismissible-item/cookie-block",function(e,t,i){_i_("b71:452c06cc");var n=e("component"),a=e("read-data-options");i.exports=n.extend({init:function(){_i_("b71:82dd90c9"),this.options=a(this.$el,{itemId:{name:"item-id",type:String,required:!0}}),$.cookie(this.options.itemId)?this.hide():this.show(),this.$el.delegate(".js-close","click",function(){_i_("b71:b78bae42"),this._dismissItem(),this.hide(),_r_()}.bind(this)),_r_()},_dismissItem:function(){_i_("b71:76e3dd13"),$.cookie(this.options.itemId,!0),_r_()},show:function(){_i_("b71:5a0d742c"),this.$el.show(),_r_()},hide:function(){_i_("b71:bd0194ab"),this.$el.remove(),_r_()}}),_r_()}),B.define("referral/raf-goal",function(e,t,i){_i_("b71:97b3ad3a");var n=e("et");i.exports={shareGoal:function(e){_i_("b71:53c28dcd"),n.goal(e),n.goal("gm_share"),_r_()}},_r_()}),B.define("referral/rap-goal",function(e,t,i){_i_("b71:cb4f717b");var n=e("et");i.exports={shareGoal:function(e){_i_("b71:2cd92b4e"),n.goal("grap_share"),_r_()}},_r_()}),function(h){function p(e){_i_("b71:23b20e73"),h.reportError(new Error(e),"raf:copy-input"),_r_()}_i_("b71:74a88c37"),h.define("component/referral/copy-input",function(e,t,i){_i_("b71:91e7e8b1");var n=e("component"),d=e("referral/clipboard"),a=e("tooltip"),r=e("referral/raf-goal"),b=e("referral/rap-goal"),f=e("ga-tracker"),u=e("et");i.exports=n.extend({init:function(){_i_("b71:3cfa751a");var i=this,t=this.$el.find(".js-raf-copy-btn"),o=this.$el.find(".js-raf-copy-input"),e=this.$el.is("[data-is-partner-program]"),s=o.val(),n=this.$el.data("tooltip-timeout")||1e3;if(!o.get(0))return p("Share link node is missing"),_r_();if(!t.get(0))return p("Share btn node is missing"),_r_();if(!s)return p("RAF share links is missing"),_r_();function _(){_i_("b71:99c6ab6c");var e=i.$el.data("trigger-text");e&&t.text(e),_r_()}function c(){_i_("b71:74a95af0");var e=i.$el.data("tooltip-id"),t=a.get(e);if(!t)return p('Tooltip with id "'+e+'" is missing'),_r_();t.show(),setTimeout(function(){_i_("b71:444a8753"),t.hide(),_r_()},n),_r_()}function l(){_i_("b71:9b182a10"),e?(u.stage("HCZVfDaQPYWLYNcCcEO",1),f.trackEvent(f.referralPartnerAdvocateTracker,"share - source: "+h.env.b_action,"click copy"),b.shareGoal("share_copy")):r.shareGoal("gm_share_copy"),_r_()}t.add(o).on("click",function(e){if(_i_("b71:3832cccc"),e.preventDefault(),navigator.userAgent.match(/ipad|ipod|iphone/i)){var t=o.get(0),i=t.contentEditable,n=t.readOnly;t.contentEditable=!0,t.readOnly=!1;var a=document.createRange();a.selectNodeContents(t);var r=window.getSelection();r.removeAllRanges(),r.addRange(a),t.setSelectionRange(0,999999),t.contentEditable=i,t.readOnly=n,document.execCommand("copy"),o.blur(),_(),c(),l()}else d.copy(s,function(e){if(_i_("b71:26948f9e"),o.select(),e)return _r_();_(),c(),l(),_r_()}.bind(this));_r_()}),_r_()}}),_r_()}),_r_()}(window.B),B.define("referral/clipboard",function(e,t,i){_i_("b71:2b68585d");var n=function(){};n.prototype.copy=function(e,t){_i_("b71:7fe4e409"),this.text=e,this.isRTL=B.env.b_lang_rtl,"function"==typeof t&&(this.copyCallback=t),this.selectFake(),_r_()},n.prototype.selectFake=function(){_i_("b71:156826d2"),this.removeFake();var e=document.createElement("textarea");(this.fakeElement=e).style.fontSize="12pt",e.style.border="0",e.style.padding="0",e.style.margin="0",e.style.position="absolute",e.style[this.isRTL?"right":"left"]="-9999px";var t=window.pageYOffset||document.documentElement.scrollTop;e.style.top=t+"px",e.setAttribute("readonly",""),e.value=this.text,document.body.appendChild(e),function(e){var t;if(_i_("b71:3ab68b84"),"SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var i=e.hasAttribute("readonly");i||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),i||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),a=document.createRange();a.selectNodeContents(e),n.removeAllRanges(),n.addRange(a),t=n.toString()}_r_(t)}(e),this.copyText(),_r_()},n.prototype.removeFake=function(){_i_("b71:89943584"),this.fakeElement&&(document.body.removeChild(this.fakeElement),this.fakeElement=null),_r_()},n.prototype.copyText=function(){var t;_i_("b71:3b706215");try{t=document.execCommand("copy")}catch(e){t=!1}this.handleResult(t),_r_()},n.prototype.handleResult=function(e){_i_("b71:7e3bde23"),this.copyCallback&&(e?this.copyCallback(null):this.copyCallback(!0)),this.removeFake(),_r_()},i.exports=new n,_r_()}),B.define("component/referral/share-buttons",function(e,t,i){_i_("b71:6eb92a8f");var n=e("ga-tracker"),a=e("referral/raf-goal"),r=e("referral/rap-goal");i.exports=e("component").extend({init:function(){_i_("b71:4e5b5b78");var t=this,i=this.$el.is(".js-raf-share-buttons-partner");this.$emailShare=this.$el.find(".js-raf-share-email"),this.$emailShare.on("click",function(e){_i_("b71:fc2237b9"),i?(n.trackEvent(n.referralPartnerAdvocateTracker,"share - source: "+B.env.b_action,"click email button"),r.shareGoal("share_email")):(a.shareGoal("gm_share_email"),n.trackEvent(n.referralAdvocateTracker,"share - source: "+B.env.b_action,"click email button")),_r_()}),this.$twShare=this.$el.find(".js-raf-share-twitter"),this.$twShare.on("click",function(e){_i_("b71:47d38406"),e.preventDefault(),i?(n.trackEvent(n.referralPartnerAdvocateTracker,"share - source: "+B.env.b_action,"click twitter button"),r.shareGoal("share_twitter")):(a.shareGoal("gm_share_twitter"),n.trackEvent(n.referralAdvocateTracker,"share - source: "+B.env.b_action,"click twitter button")),t.showPopupWindow($(this).attr("href"),"Share",480,320),_r_()}),this.$messengerShare=this.$el.find(".js-raf-share-messenger"),this.$messengerShare.on("click",function(e){_i_("b71:910d8125"),i?(n.trackEvent(n.referralPartnerAdvocateTracker,"share - source: "+B.env.b_action,"click messenger button"),r.shareGoal("share_messenger")):(a.shareGoal("gm_share_messenger"),n.trackEvent(n.referralAdvocateTracker,"share - source: "+B.env.b_action,"click messenger button")),"undefined"!=typeof FB&&void 0!==FB.ui&&$(e.delegateTarget).data("share-link")?FB.ui({method:"send",link:$(e.delegateTarget).data("share-link")}):window.open($(e.delegateTarget).data("url-link")),_r_()}),this.$gmailShare=this.$el.find(".js-raf-share-gmail"),this.$gmailShare.on("click",function(e){_i_("b71:6e876ab2"),e.preventDefault(),t.showPopupWindow($(this).attr("href"),"Share",650,550),i?(n.trackEvent(n.referralPartnerAdvocateTracker,"share - source: "+B.env.b_action,"click gmail button"),r.shareGoal("share_gmail")):(a.shareGoal("gm_share_gmail"),n.trackEvent(n.referralAdvocateTracker,"share - source: "+B.env.b_action,"click gmail button")),_r_()}),this.$whatsappShare=this.$el.find(".js-raf-share-whatsapp"),this.$whatsappShare.on("click",function(e){_i_("b71:7d0aac35"),i?(n.trackEvent(n.referralPartnerAdvocateTracker,"share - source: "+B.env.b_action,"click whatsapp button"),r.shareGoal("share_whatsapp")):(a.shareGoal("gm_share_whatsapp"),n.trackEvent(n.referralAdvocateTracker,"share - source: "+B.env.b_action,"click whatsapp button")),_r_()}),this.$linkedinShare=this.$el.find(".js-raf-share-linkedin"),this.$linkedinShare.on("click",function(e){_i_("b71:a1bb7847"),i?(n.trackEvent(n.referralPartnerAdvocateTracker,"share - source: "+B.env.b_action,"click linkedin button"),r.shareGoal("share_linkedin")):(a.shareGoal("gm_share_linkedin"),n.trackEvent(n.referralAdvocateTracker,"share - source: "+B.env.b_action,"click linkedin button")),_r_()}),_r_()},showPopupWindow:function(e,t,i,n){_i_("b71:647d3c7d");var a=window.screen.width/2-i/2,r=window.screen.height/2-n/2;return _r_(window.open(e,t,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+i+", height="+n+", top="+r+", left="+a))}}),_r_()}),B.define("component/referral/web-virality/ga",function(e,t,i){_i_("b71:ce0ad3f8");var n=e("component"),a=e("ga-tracker"),r=e("jquery"),o=e("when/events-view");"mdot"==B.env.b_site_type&&B.events&&B.eventNames&&B.eventNames.TABNAV_MENU_LOADED&&B.events.one(B.eventNames.TABNAV_MENU_LOADED,function(){_i_("b71:6da57a85"),r("#raf-nav-entrypoint").loadComponents(),_r_()}),i.exports=n.extend({init:function(){_i_("b71:89b04ac3");var e=this.$el;switch(e.data("wv-ga-type")){case"pageview":var t=e.data("wv-ga-details");if(!t)return _r_();switch(B.env.b_action){case"index":a.trackEvent(a.webViralityTracker,"raf-index-page-entered|"+t);break;case"searchresults":a.trackEvent(a.webViralityTracker,"raf-sr-page-entered|"+t);break;case"hotel":a.trackEvent(a.webViralityTracker,"raf-hp-page-entered|"+t);break;case"book":2==B.env.b_stage?a.trackEvent(a.webViralityTracker,"raf-bs2-entered|"+t):3==B.env.b_stage&&a.trackEvent(a.webViralityTracker,"raf-bs3-entered|"+t);break;case"confirmation":a.trackEvent(a.webViralityTracker,"raf-confirmation-page-entered|"+t)}break;case"viewandclick":e.on("click",function(){_i_("b71:8fcf22e7"),a.trackEvent(a.webViralityTracker,"entry-point-button-click",e.data("wv-ga-placement")),_r_()}),o(e,function(){_i_("b71:40ca6424"),a.trackEvent(a.webViralityTracker,"entry-point-button-show",e.data("wv-ga-placement")),_r_()});break;case"myreferrals-pageview":a.trackEvent(a.webViralityTracker,"raf-dashbard-show|"+e.data("wv-ga-action"),e.data("wv-ga-code"));break;case"click":e.on("click",function(){_i_("b71:9127e7ae"),a.trackEvent(a.webViralityTracker,e.data("wv-ga-action")),_r_()});break;case"share":e.on("click",function(){_i_("b71:b56f13a9"),a.trackEvent(a.webViralityTracker,e.data("wv-ga-action"),e.data("wv-ga-placement")),_r_()})}_r_()}}),_r_()}),booking.lightbox=function(){_i_("b71:47a1a86e");var c,l,a,r,o,s,i,n=$("body"),_={bAnimation:!0,bCloseButton:!0,bMaskClick:!0,closeOnEsc:!0,customWrapperClassName:"",customMaskClassName:"",bFullscreen:!1,hideCallBack:null,hideBeforeCallBack:null,positionBeforeCallBack:null,positionAfterCallBack:null,cloneElement:!1,bCanScroll:!1,bOverflowVisible:!1,autoCenter:!0,limitHeight:!1,opacity:.5,autoWidth:!1,position:"fixed",topMargin:0,bottomMargin:0,preventBodyScroll:!1,trapFocus:!0,addDialogStartEndText:!1,modalLabeledById:""},d={},t=[],b=function(){_i_("b71:b0c0e96f");for(var e=["","moz","webkit"],t=0;t<3;t++)if(e[t]+(""===e[t]?"b":"B")+"oxSizing"in document.body.style)return _r_(!0);return _r_(!1)}(),f=!1;var u=function(i){var n;_i_("b71:4cee35e6"),d.positionBeforeCallBack&&d.positionBeforeCallBack(),c.css({width:$(document).width(),height:$(document).height()});var e=$(window).width(),t=Math.max(0,$(window).height()-d.topMargin-d.bottomMargin);if(b||(e=e-parseInt(l.css("paddingLeft"))-parseInt(l.css("paddingRight")),t=t-parseInt(l.css("paddingTop"))-parseInt(l.css("paddingBottom"))),!d.limitHeight){var a=Math.max(0,$(window).height()-d.topMargin-d.bottomMargin);l.outerHeight()>a?(l.css("height",t),n=!0):(l.css("height",""),l.outerHeight()>=a&&l.css("height",t))}if(l.outerWidth()>$(window).width())l.css("width",e);else if(l.css("width",""),l.outerWidth()>=$(window).width())l.css("width",e);else if(d.autoWidth){var r=l.children().first().outerWidth();b&&(r+=parseInt(l.css("padding-left"),10)+parseInt(l.css("padding-right"),10),r+=parseInt(l.css("border-left-width"),10)+parseInt(l.css("border-right-width"),10)),l.css({width:r})}var o=0,s=0;d.bFullscreen?l.css({width:e,height:t}):(o=Math.max(d.topMargin,$(window).height()/2-l.outerHeight()/2),s=Math.max(0,$(window).width()/2-l.outerWidth()/2));var _="hidden";d.bCanScroll?_="auto":d.bOverflowVisible&&(_="visible"),"absolute"==d.position?(o=Math.max(0,$(window).height()/2-l.outerHeight()/2),o+=$(document).scrollTop(),l.css("position","absolute")):"dynamic"==d.position&&function(){_i_("b71:247e6024");var e="modal-pos-abs",t="modal-pos-to-fix";n?(o=i&&i.preserveAbsolute&&l.hasClass(e)?(l.offset()||{}).top:$(document).scrollTop()+d.topMargin,l.css({position:"absolute",height:""}).addClass(e)):(l.css({position:"fixed"}),l.hasClass(e)?l.removeClass(e).addClass(t):l.removeClass(t)),_r_()}(),l.css({top:o,left:s,overflow:_}),d.positionAfterCallBack&&d.positionAfterCallBack(),_r_()},h=function(e){_i_("b71:540f2962"),l&&l.is(":visible")&&u(e),_r_()},p=function(){if(_i_("b71:881a5a71"),!l)return _r_();d.hideBeforeCallBack&&d.hideBeforeCallBack(),d.cloneElement||(r.prepend(a),a.css("display",s)),d.trapFocus&&booking.trapFocus&&booking.trapFocus.release(),c.remove(),l.remove(),f=!1,$("body").removeClass("modal-visible"),$(window).unbind("scroll",h),$(window).unbind("resize",h),d.closeOnEsc&&$(document).unbind("keyup",m),$(".modal-wrapper").off("click.userClose"),$("#calendar_popup").css("display","none"),d.hideCallBack&&d.hideCallBack(),d.preventBodyScroll&&(_i_("b71:347a5263"),n.css({overflow:"auto",paddingRight:i}),_r_()),booking.eventEmitter.trigger("modal:close"),B.events.trigger("modal:close"),_r_()},m=function(e){_i_("b71:53ad8b02"),27!==e.keyCode||t.length||p(),_r_()},v=function(){if(_i_("b71:deba661e"),c=$('<div class="modal-mask"/>').appendTo(document.body),0<d.customMaskClassName.length&&c.addClass(d.customMaskClassName),l=$('<div class="modal-wrapper"/>').attr({role:"dialog","aria-label":"dialog","aria-modal":"true"}).appendTo(document.body),d.modalLabeledById){var e=$("#"+d.modalLabeledById),t=e.text().trim();e.length&&t?l.attr("aria-label",t):l.attr("aria-labelledby",d.modalLabeledById)}0<d.customWrapperClassName.length&&l.addClass(d.customWrapperClassName),d.addDialogStartEndText&&booking.env.a11y_dialog_content_start_text&&$('<span class="invisible_spoken"/>').text(booking.env.a11y_dialog_content_start_text).appendTo(l),d.cloneElement?a.clone().appendTo(l):l.append(a),d.bCloseButton&&$('<button class="modal-mask-closeBtn" title="'+booking.env.experiment_popups_close+'"><span class="invisible_spoken">'+booking.env.experiment_popups_close+"</span></button>").appendTo(l),d.addDialogStartEndText&&booking.env.a11y_dialog_content_end_text&&$('<span class="invisible_spoken"/>').text(booking.env.a11y_dialog_content_end_text).appendTo(l),d.bFullscreen&&l.addClass("modal-wrapper--fullscreen"),f=!0,$("body").addClass("modal-visible"),d.preventBodyScroll&&function(){_i_("b71:0a9b623a");var e=n.width();i=parseInt(n.css("padding-right"),10),n.css("overflow","hidden");var t=n.width()-e;n.css("padding-right",i+t),_r_()}(),a.show(),u(),_i_("b71:8fed2503"),$(".modal-wrapper .modal-mask-closeBtn").add('.modal-wrapper [data-lightbox-close=""]').one("click",function(){_i_("b71:b5838b9c"),p(),_r_()}),$(".modal-wrapper").on("click.userClose",".lightbox-element-close",function(){_i_("b71:ab60bbf1"),p(),_r_()}),d.bMaskClick&&$(".modal-mask").one("click",function(){_i_("b71:2beba14a"),p(),_r_()}),d.closeOnEsc&&$(document).bind("keyup",m),$(window).bind("resize",h),"absolute"==d.position&&d.autoCenter&&$(window).bind("scroll",h),_r_(),_r_()},g=function(){if(_i_("b71:77b79d8f"),v(),l.css("visibility","visible"),d.bAnimation){var e=d.bAnimation;"number"!=typeof e&&(e=parseInt(e,10)||1e3),c.fadeTo(Math.max(0,Math.min(600,e-400)),d.opacity),l.css("opacity","0").animate({opacity:1},e,function(){_i_("b71:2e039ac2"),$(this).css("opacity",""),_r_()}),d.trapFocus&&booking.trapFocus&&setTimeout(function(){_i_("b71:e718942f"),booking.trapFocus.trap(l[0],o),o=null,_r_()},100)}else c.css("opacity",d.opacity).show(),d.trapFocus&&booking.trapFocus&&(booking.trapFocus.trap(l[0],o),o=null);d.ajax&&"function"==typeof d.loadCallBack&&d.loadCallBack.call(),booking.eventEmitter.trigger("modal:open"),B.events.trigger("modal:open"),_r_()};return _r_({show:function(e,t,i){if(_i_("b71:8db3284d"),l&&l.is(":visible"))return _r_();if(d={},$.extend(d,_,t),d.trapFocus&&void 0===booking.trapFocus&&B.debug("The trapFocus module was not defined, include please tarpFocus module in your concat"),d.trapFocus&&booking.trapFocus&&(o=$(document.activeElement)),d.iframe){var n=$('<iframe id="lightbox_iframe" src="'+e+'" width="100%" height="'+d.iframeHeight+'"></iframe> ');"function"==typeof d.loadCallBack&&n.load(d.loadCallBack),r=(a=n).parent(),s=a.css("display"),g()}else d.ajax?jQuery.ajax({url:e,cache:!0,success:function(e){_i_("b71:7acdb394"),a=d.ajaxRawContent?$(e):$($.trim(e)).eq(0),r=a.parent(),s=a.css("display"),g(),_r_()}}):((a=$(e)).length&&"SCRIPT"===a[0].tagName&&(a=$($.trim(a.html()))),r=a.parent(),s=a.css("display"),g());return void 0!==i&&i(),_r_(l)},hide:p,rePosition:h,open:function(e,t,i,n){_i_("b71:c48b243c"),booking.lightbox.show($("#"+n)),_r_()},isVisible:function(){return _i_("b71:460df769"),_r_(f)},pushEscStack:function(e){_i_("b71:5fd3d9f7"),t.push(e),_r_()},popEscStack:function(){_i_("b71:29642ab7"),t.pop(),_r_()},hideWithFade:function(e,t){_i_("b71:0cf0d60c"),l.fadeOut(e),c.fadeOut(e,function(){_i_("b71:b8953fa0"),p(),t&&t(),_r_()}),_r_()}})}(),B.define("lightbox",booking.lightbox),B.define("dismiss-item",function(e,t,i){_i_("b71:4fa1a5b8");var n=e("jquery");i.exports=function(e){if(_i_("b71:ffcf03b7"),!e)throw new Error("param itemId is required");return _r_(n.ajax({url:"/dismiss_item",type:"POST",data:{item_id:e}}))},_r_()}),B.when({action:"index",events:"click #btn_deals_index_banner_close"}).run(function(e){_i_("b71:1f4ab3c5"),e("dismiss-item")("deals_index_banner"),_r_()}),B.when({action:"index",events:"click #raf_banner_close"}).run(function(e){_i_("b71:97fd7ae7"),e("dismiss-item")("raf_banner"),_r_()}),B.when({action:"index",events:"click #emk_banner_index_close"}).run(function(e){_i_("b71:3a4ea5b5"),e("dismiss-item")("emk_banner_index"),_r_()}),B.when({action:"index",events:"click #signin_banner_close"}).run(function(e){_i_("b71:cd9acd7a"),e("dismiss-item")("signin_banner"),_r_()}),B.when({action:"index",events:"click #join_index_banner_close"}).run(function(e){_i_("b71:f1725239"),e("dismiss-item")("join_index_banner"),_r_()}),B.when({action:"index",events:"click #genius_banner_index_close"}).run(function(e){_i_("b71:bac905cd"),e("dismiss-item")("genius_banner_index"),_r_()}),B.when({action:"index",events:"click #btn_deals_index_banner_easter2019_close"}).run(function(e){_i_("b71:a0085eab"),e("dismiss-item")("deals_index_banner_easter_2019"),_r_()}),B.when({action:"index",events:"click #btn_deals_index_banner_getaway2019_close"}).run(function(e){_i_("b71:d6f3d514"),e("dismiss-item")("deals_index_banner_getaway_2019"),_r_()}),B.when({events:"ready",experiment:"ZGdHBcYYFcDBCEQVFfIdOWe"}).run(function(e){_i_("b71:c9de3f0a");var t=e("jquery"),i=e("et"),n=e("server-data"),a=t(window);a.on("scroll",function(){_i_("b71:3ac5780d"),n.b_landingpage_theme&&"hostels"===n.b_landingpage_theme&&a.scrollTop()+a.height()>=a.height()-400&&i.customGoal("ZGdHBcYYFcDBCEQVFfIdOWe",2);_r_()}),_r_()}),B.when({events:"ready"}).run(function(a){_i_("b71:f1745b3d"),{priority:9,run:function(){_i_("b71:6279753b");var e=$("#survey").attr("surveyurl");if(e&&(window.b_survey_url=e,booking.env.survey_key=$("#survey").attr("surveykey"),booking.env.surveytracklink="/outgoinglink/survey/"+booking.env.survey_key),void 0!==window.b_survey_url&&window.b_survey_url){var i=$("#conf_survey,#survey,#conf_survey_bottom"),n=function(){_i_("b71:fa58d70b"),"hotel"===booking.env.b_action&&a("booking-sticker").update(),_r_()},t=function(e){if(_i_("b71:dc8089c0"),booking.env.showRevdSurvey2016Q1)var t=$(e.target).val();else t=$(this).val();return t&&("accept"===t||"Yes"===t||"yes"===t||"Ja, ik doe mee"===t||"Okay"===t?window.open(window.b_survey_url,"booking_survey_window"):i.hide("normal",n),$.get("/survey?decision="+t+"&survey_key="+booking.env.survey_key,{},function(e){_i_("b71:91e9b692"),i.hide("normal",function(){_i_("b71:cde10bd8"),i.remove(),n(),_r_()}),_r_()})),_r_(!1)};booking.env.showRevdSurvey2016Q1?(booking.events.on("REVIEWS:fetched",function(){_i_("b71:7790eada"),i.addClass("show"),_r_()}),i.find("button").on("click",t)):(i.fadeIn("normal",n),i.find("button").click(t))}_r_()},init:function(){if(_i_("b71:aac32c6d"),this.run(),B.env.b_run_sr_ajax){var t=this;B.require(["searchresults/events"],function(e){_i_("b71:e24313f3"),e.on(e.UI_RESULTS_UPDATED,function(){_i_("b71:ae41636f"),t.run(),_r_()}),_r_()})}_r_()}}.init(),_r_()}),booking.jstmpl("budget_themes",function(){_i_("b71:b7a57e33");var _,c=["\n    ",'\n    <section class="budget-themes" data-ga-track="view|Hostels-CLP|Budget Themes|onView_budget_theme" data-et-view="',':2">\n        <div class="budget-themes__header--container">\n            <span class="budget-themes__header"  >',"/private/hstsls_m_clp_filtered_entry_head/name",'</span> <br>\n            <span class="budget-themes__subheader">',"/private/hstsls_m_clp_filtered_entry_sub/name",'</span>\n        </div>\n        <ul class="budget-themes__list">\n            ',"\n                ",'\n    <li class="budget-themes__list--item">\n        <a target="_blank" class="budget-themes__list--item-url" data-ga-track="','" href="','">\n            <div class="budget-themes__list--content" >\n                <div class="budget-themes__list--item-emoji">\n                    ','\n                </div>\n                <div class="budget-themes__list--item-content">\n                    <span class="budget-themes__list--item-header">','</span> <br>\n                    <span class="budget-themes__list--item-subheader">','</span>\n                </div>\n                <div class="budget-themes__list--item-arrow">\n                    ',"\n                        ","iconset/navarrow_left","larger","\n                    ","iconset/navarrow_right","\n                </div>\n            </div>\n        </a>\n    </li>\n","\n",'\n                          <hr class="bui-divider" />\n                    ',"\n            ","\n        </ul>\n\n        ",'\n            <a target="_blank" class="budget-themes__search-link" href="','"> ',"/private/hstsls_m_clp_filtered_entry_view_all/name"," </a>\n        ","\n    </section>\n"],l=["fe_budget_themes_city","fe_budget_theme_data","fe_ga_tracking","fe_budget_search_url","fe_list_emoji","fe_list_item_header","fe_list_item_subheader","fe_is_rtl","fe_base_search_url"];return _r_(function(o){_i_("b71:60b9784e");var e="",s=this.fn;return e=function(e){_i_("b71:90cba2f3"),e+=["",c[1],s.F.entities("ZGdHBcOMMMfESGQZaXdRT"),c[2],s.ME(c[3],s.MB,s.MN,null),c[4],(o.unshift({city_name:s.MB(l[0])}),_=s.ME(c[5],s.MB,s.MN,null),o.shift(),_),c[6]].join("");var t=s.MC(l[1])||[];o.unshift({theme:null});for(var i,n=1,a=t.length;n<=a;n++)o[0].theme=i=t[n-1],e+=c[7],o.unshift({fe_budget_search_url:s.MB(l[8])+";nflt="+i.attributes.nflt+i.attributes.extraParams,fe_ga_tracking:"click|Hostels-CLP|Budget Theme|"+i.attributes.feature,fe_list_emoji:s.MG(((i||{}).copy||{}).emoji),fe_list_item_header:s.MG(((i||{}).copy||{}).header),fe_list_item_subheader:s.MG(((i||{}).copy||{}).subheader)}),r=e,_i_("b71:e59ee131"),r+=["",c[8],s.F.entities(s.MC(l[2])),c[9],s.F.entities(s.MC(l[3])),c[10],s.MC(l[4]),c[11],s.F.entities(s.MC(l[5])),c[12],s.F.entities(s.MC(l[6])),c[13]].join(""),s.MD(l[7])?r+=[c[14],(o.unshift({name:c[15],size:c[16]}),_=s.HELPER("icon",o[0]),o.shift(),_),c[17]].join(""):r+=[c[14],(o.unshift({name:c[18],size:c[16]}),_=s.HELPER("icon",o[0]),o.shift(),_),c[17]].join(""),r+=[c[19],"",c[20]].join(""),e=_r_(r),o.shift(),s.MJ(n!=t.length)&&(e+=c[21]),e+=c[22];var r;return o.shift(),e+=c[23],s.MJ(s.MB(l[8]))&&(e+=[c[24],s.F.entities(s.MC(l[8])+";nflt=ht_id=203"),c[25],(o.unshift({city_name:s.MB(l[0])}),_=s.ME(c[26],s.MB,s.MN,null),o.shift(),_),c[27]].join("")),e+=[c[28],"",c[20]].join(""),_r_(e)}(e+=c[0]),e+=c[20],_r_(e)})}()),B.define("component/landpages/budget-themes",function(e,t,i){"use strict";_i_("b71:b5bdc0e1");var l,d,n=e("component"),b=e("jstmpl"),f=e("jquery"),a=e("fragment"),u=e("server-data"),h=e("et"),p=e("ga-view-tracker"),m=b.translations;i.exports=n.extend({init:function(){_i_("b71:8c45fa7b"),this.fetchData(this.render),_r_()},fetchData:function(e){_i_("b71:6f14cc36"),Promise.all([a.call("property.property_count_by_feature",this.fragmentData("FemaleDormAvailability")),a.call("property.property_count_by_feature",this.fragmentData("BreakfastIncluded")),a.call("property.property_count_by_feature",this.fragmentData("PrivateDormAvailability"))]).then(e.bind(this)).catch(function(e){}),_r_()},fragmentData:function(e){_i_("b71:9fbddd78"),l=this.forceValidDate(u.b_checkin_date);var t=void 0!==u.b_checkin_checkout_interval&&0<u.b_checkin_checkout_interval?u.b_checkin_checkout_interval:1;return d=this.forceValidDate(u.b_checkin_date,t),_r_({ufi:u.dest_id,checkin:l,feature:e,length_of_stay:t,adults:u.b_total_adults||2})},forceValidDate:function(e,t){_i_("b71:fb0c5ab3"),t=t||0;var i=new Date;if(i.setHours(0,0,0,0),isNaN(Date.parse(e))||"Invalid Date"===Date.parse(e)||new Date(e).setHours(0,0,0,0)-i<0){var n=new Date;return n.setDate(n.getDate()+t),_r_(n.toJSON().slice(0,10).replace(/-/g,"-"))}return _r_(e)},addEventListeners:function(){},filterThemes:function(e){_i_("b71:d72763eb");try{return _r_(e.filter(function(e){return _i_("b71:8a056845"),_r_(e.count.single.total_after_filter>=e.attributes.displayThreshold)}))}catch(e){return _r_([])}_r_()},render:function(e){_i_("b71:50e959c0");var t,i=f(".budget-theme-holder"),n=b("budget_themes"),a=this.filterThemes(e),r=l.split("-"),o=d.split("-"),s="",_=[];if(3===r.length&&3===o.length&&(t={checkin_month:r[1],checkin_monthday:r[2],checkin_year:r[0],checkout_month:o[1],checkout_monthday:o[2],checkout_year:o[0]},Object.keys(t).forEach(function(e){_i_("b71:a88e67b0"),_.push(e+"="+t[e]),_r_()}),6===_.length&&(s=_.join(";"))),0<a.length){var c=n.render({fe_budget_themes_city:u.city_name,fe_budget_themes_header:m("seo_m_lp_show_on_map_cta"),fe_budget_theme_data:a,fe_is_rtl:u.b_lang_is_rtl,fe_base_search_url:"/searchresults"+u.b_query_params_with_lang+s+";city="+u.b_dest_id});i.html(c),p.initializeInView('[data-ga-track^="view|Hostels-CLP|Budget Themes|"]'),h.initAttributesTracking(i)}_r_()},reset:function(){_i_("b71:7779e3c2"),this.el.reset(),_r_()}}),_r_()}),B.define("ga-view-tracker",function(e,t,i){_i_("b71:421d350f");var _=e("ga-tracker");t.initializeInView=function(e){_i_("b71:0da9abc9");var t=e,r=[].slice.call(document.querySelectorAll(t));if("IntersectionObserver"in window){var o=new IntersectionObserver(function(e,t){_i_("b71:fd4e951d"),e.forEach(function(e){if(_i_("b71:f322781b"),e.isIntersecting){var t=e.target,i=t.dataset.gaTrack.split("|"),n=i[1]||null,a=i[2]||null,r=i[3]||null;_.trackEvent(n,a,r),t.removeAttribute("data-ga-track"),o.unobserve(t)}_r_()}),_r_()});r.forEach(function(e){_i_("b71:ddb99f89"),o.observe(e),_r_()})}else{var i=!1,s=function(){_i_("b71:1ac9717e"),!1===i&&(i=!0,setTimeout(function(){_i_("b71:4035f5e2"),r.forEach(function(t){if(_i_("b71:dacfbec6"),"none"!==getComputedStyle(t).display&&t.getBoundingClientRect().top<=window.innerHeight&&0<=t.getBoundingClientRect().bottom&&t.getBoundingClientRect().left<=window.innerWidth){var e=t.dataset.gaTrack.split("|"),i=e[1]||null,n=e[2]||null,a=e[3]||null;_.trackEvent(i,n,a),t.removeAttribute("data-ga-track"),0===(r=r.filter(function(e){return _i_("b71:c6c9470b"),_r_(e!==t)})).length&&(document.removeEventListener("scroll",s),window.removeEventListener("resize",s),window.removeEventListener("orientationchange",s))}_r_()}),i=!1,_r_()},300)),_r_()};document.addEventListener("scroll",s),window.addEventListener("resize",s),window.addEventListener("orientationchange",s)}_r_()},_r_()}),B.when({events:"ready",condition:$('[data-ga-track^="view|Hostels-CLP|"]').length}).run(function(e){_i_("b71:5526aaac"),e("ga-view-tracker").initializeInView('[data-ga-track^="view|Hostels-CLP|"]'),_r_()}),function(r){function o(e,t){if(_i_("b71:84e9843d"),!(this instanceof o))return _r_(new o(e,t));t=t||"localStorage",this.ns=e,this._storage=this.getStorage(t),this.loadData(),_r_()}_i_("b71:d557b295"),r.define("component/feedback-base",function(a,e,t){_i_("b71:a590c9a2");var i=a("component"),l=a("jquery"),n=a("events"),d={StorageService:o,submitModel:function(e,t){_i_("b71:f2ba0307");var i=l.ajax({url:e,method:"POST",data:t});return _r_(i)},setObjectPath:function(e,t,i){_i_("b71:a9d8ca6a");var n=t.split("."),a=e,r=n.length-1;n.forEach(function(e,t){if(_i_("b71:dc1ce93c"),t===r)return a[e]=i,_r_();a[e]=a[e]||{},a=a[e],_r_()}),_r_()}};t.exports=i.extend({_utils:d,config:{url:"/receive_feedback",defaultView:"index",defaultErrorView:"error",defaultActionEvent:"click",defaultPoll:"general",defaultStorage:"floops",defaultTimeout:168,defaultAutoclose:!1,stopPropagation:!1,neverExpire:!0},init:function(){if(_i_("b71:2aa0d7ae"),this.setupComponent(),!this.config.neverExpire&&(this.setupStorage(),!this.storage))return _r_();if((this.setupModel(),!this.config.neverExpire)&&!this.storage.isExpired(this.model.poll)){var e=l(".feedback-loop");return e.length&&e.hide(),_r_()}this.setupViews(),this.setupActions(),this.initActions(),this.render(),_r_()},setupComponent:function(){_i_("b71:2df8408e"),this.config=l.extend({},this.config,this.$el.data()),_r_()},setupStorage:function(){_i_("b71:88388287");var e=this.config.storage||this.config.defaultStorage;this.storage=new o(e),this.storage.removeExpired(),_r_()},setupViews:function(){_i_("b71:ee1c0ac6");var r=this.views={};this.$el.children("[data-view]").each(function(e,t){_i_("b71:134c4fd9");var i=l(t),n=i.data(),a=n.view;r[a]={config:n,view:t,$view:i},_r_()}),this.setupGroups(),_r_()},setupGroups:function(){_i_("b71:6f65c131");var r=this;this.$el.off(".feedbackGroups").on("click.feedbackGroups",".feedback-loop__group-header :checkbox",function(){_i_("b71:6dc1b123"),function(e){_i_("b71:aed89ecd");var t=e.find(".feedback-loop__group-body"),i=e.find(".feedback-loop__group-header :checkbox"),n=t.is(":visible"),a=i.is(":checked");n!=a&&t.slideToggle({duration:200,complete:function(){_i_("b71:d9ba1114"),r.triggerResize(),_r_()}});_r_()}(l(this).closest(".feedback-loop__group")),_r_()}),_r_()},triggerResize:function(){_i_("b71:18bdb111"),this.$el.trigger("feedbackBase_resize"),_r_()},setupModel:function(){_i_("b71:04551eb1"),this.model={poll:this.config.poll||this.config.defaultPoll},l.extend(this.model,{url:window.location.href,action:window.booking&&window.booking.env&&window.booking.env.b_action}),_r_()},setupActions:function(){_i_("b71:0a7374a5");var e=this.actions={};e.showView=function(e){_i_("b71:1e9bf834"),this.render(e.view),_r_()},e.submit=function(e){_i_("b71:85856f91");var t=this;d.submitModel(this.config.url,this.model).done(function(){_i_("b71:d3ce5433");var e=t.config.timeout;e&&!t.config.neverExpire&&t.storage.set(t.model.poll,!0,1e3*e*3600),_r_()}).fail(function(){_i_("b71:feb1206b");var e=t.config.defaultErrorView;if(t.views[e])return _r_(t.render(e));throw n.emit("FLOOPS.request.error"),Error("[FLOOPS] Error submitting feedback")}),_r_()},e.beforeSubmit=function(e){_i_("b71:6610586c"),this.$el.trigger("feedback_beforeSubmit"),this.updateModel(this.currentView),_r_()},e.autoClose=function(){_i_("b71:377948b6"),setTimeout(function(){_i_("b71:4493432a"),$el.fadeOut(200),_r_()},3e3),_r_()},e.reset=function(){_i_("b71:2e875bc5"),this.updateModel(this.currentView,!0),_r_()},e.close=function(){_i_("b71:f56186c8"),this.$el.hide(),_r_()},e.trackGaEvent=function(e){_i_("b71:88e9055e");var t,i=(e.feedbackGaEvent||"").split("|"),n={nonInteraction:!0};"www"===r.env.b_site_type?t=a("ga-tracker"):"mdot"===r.env.b_site_type&&(t=a("ga-tracker")),2<=i.length&&(n.type=i[0],n.action=i[1]||"",n.label=i[2]||"",void 0!==i[3]&&(n.value=i[3])),t&&t.trackEvent&&n.type&&n.action&&n.label&&("www"===r.env.b_site_type?t.trackEvent(n.type,n.action,n.label,n.value):"mdot"===r.env.b_site_type&&t.trackEvent(n.type,n.action,n.label,n.value)),_r_()},_r_()},updateModel:function(e,o){_i_("b71:217fdadc");var s=this,t=this.views[e],_=t?t.$view:this.$el,c={};_.find("[data-model]").each(function(e,t){_i_("b71:c4bb26a2");var i,n=l(t),a=n.data();if(a.model&&(i=String(a.model).match(/^([^\[\]]+)\[\]$/)))return function(a){if(_i_("b71:e221706d"),c[a])return _r_();c[a]=[],_.find('[data-model="'+a+'[]"]').each(function(e,t){_i_("b71:6d4733f8");var i=l(t),n=o?"":i.val();i.is(":checkbox,:radio")&&!i.prop("checked")&&(n=""),n&&c[a].push(n),_r_()}),d.setObjectPath(s.model,a,c[a].join(",")),_r_()}(i[1]),_r_();if(a.hasOwnProperty("modelValue"))return _r_();var r=o?"":n.val();n.is(":checkbox,:radio")&&!n.prop("checked")&&(r=""),d.setObjectPath(s.model,a.model,r),_r_()}),_r_()},initActions:function(){_i_("b71:541173d8");var r=this;this.$el.find(":not([data-component]) [data-action]").each(function(e,t){_i_("b71:427d9c53");var i=l(t),n=l.extend({action:r.config.defaultAction,on:r.config.defaultActionEvent,autoclose:i.data("autoclose")||!1,stopPropagation:i.data("stopPropagation")||r.config.stopPropagation},i.data()),a=n.action.split(/\s+/);i.on(n.on,function(e){_i_("b71:6a43c01a"),n.model&&n.modelValue&&d.setObjectPath(r.model,n.model,n.modelValue),r.updateModel(r.currentView),n.stopPropagation&&e.stopPropagation(),a.forEach(function(e){_i_("b71:76c8fee9"),r.actions[e].call(r,n),_r_()}),_r_()}),_r_()}),r.config.stopPropagation&&this.$el.on("click",function(e){_i_("b71:0b1ac586"),e.stopPropagation(),_r_()}),_r_()},render:function(i){_i_("b71:14297540");var n=this;if(!this.views)return _r_();if(this.$el.removeClass("feedback-loop--hidden"),(i=i||this.config.defaultView)===this.currentView)return _r_();Object.keys(this.views).forEach(function(e){_i_("b71:5b0f286e");var t=this.views[e].$view;if(e===i){this.currentView=e,t.data("viewAnimated")?t.slideDown(300):t.show();t.data("autoclose")&&!/off|0|disabled|none/g.test(t.data("autoclose"))&&setTimeout(function(){_i_("b71:6893325f"),n.$el.fadeOut(300),_r_()},2e3)}else t.hide();_r_()}.bind(this)),this.triggerResize(),_r_()}}),_r_()}),o.prototype.getStorage=function(e){_i_("b71:b029f3ca");try{var t=window[e],i="__storage_test__";return t.setItem(i,i),t.removeItem(i),_r_(t)}catch(e){return _r_()}_r_()},o.prototype.saveData=function(){if(_i_("b71:6864624c"),!this._storage)return _r_();return _r_(this._storage.setItem(this.ns,JSON.stringify(this.data)))},o.prototype.loadData=function(){_i_("b71:21a7d97f");var t=this._storage.getItem(this.ns);try{t=t&&JSON.parse(t)||{}}catch(e){t={}}this.data=t,_r_()},o.prototype.removeExpired=function(){_i_("b71:a90c56f0");var e=Object.keys(this.data),t=this.data;e.filter(this.isExpired.bind(this)).forEach(function(e){_i_("b71:c2d864c6"),delete t[e],_r_()}),this.saveData(),_r_()},o.prototype.isExpired=function(e,t){_i_("b71:988d3e97"),t=t||(new Date).getTime();var i=this.data[e];if(!i||!i.expires)return _r_(!0);return _r_(t>i.expires)},o.prototype.remove=function(e){_i_("b71:052a98d2"),delete this.data[e],this.saveData(),_r_()},o.prototype.set=function(e,t,i){if(_i_("b71:d60c876d"),i&&i.constructor!==Date){var n=(new Date).getTime();i=new Date(n+i).getTime()}this.data[e]={value:t,expires:i},this.saveData(),_r_()},o.prototype.get=function(e){_i_("b71:ec4d6d94");var t,i=this.data,n=i[e];return i[e]&&(this.isExpired(e)?this.remove(e):t=n.value),_r_(t)},_r_()}(window.booking),function(c){_i_("b71:b98b9e03"),c.define("component/feedback-inline",function(s,e,t){_i_("b71:3cb6ad79");var i=s("component"),n=s("events"),_=s("jquery");t.exports=i.extend({init:function(){_i_("b71:0b5f0aa9");var i=this;this.config={url:"/receive_content_feedback",modalExtraClass:"feedback-modal-wrapper",modalMaskExtraClass:"",hideClass:"",modalPosition:"fixed",modalTopMargin:0,autoFocus:!0},this.setupComponent(),this.$el.on("click","[data-action]",function(e){_i_("b71:6c13f195");var t=_(this);e.preventDefault(),t.data("stopPropagation")&&e.stopPropagation(),i.runElementActions(t),_r_()}),_r_()},runElementActions:function(n,e){_i_("b71:10d70a4c");var a=this,t=(e||n.data("action")||"").split(/\s+/);_.each(t,function(e,t){_i_("b71:c569f635");var i=a["action_"+t];"function"==typeof i&&i.call(a,n),a.triggerActionEvents(t),_r_()}),_r_()},action_submit:function(e){_i_("b71:ba3db9ff");var t=e.data("model"),i=e.data("modelValue"),n=this.getModel();return t&&(n[t]=i),this.$el.trigger("feedbackInline_submit",n),_r_(_.ajax({url:this.config.url,method:"POST",data:n}))},action_external:function(e){_i_("b71:af1cf5c7");var t=c.env&&c.env.b_is_tdot_traffic?c.lightbox:s("lightbox"),i=e.data("url"),n=e.data("iframe_height_percentage")||90,a={iframe:!0,iframeHeight:Math.max(Math.floor(n*_(window).height()/100),550),hideCallBack:function(){_i_("b71:d179fba7"),_(document.body).css("overflow",""),_r_()}};i&&(t.show(i,a),_(document.body).css("overflow","hidden")),_r_()},action_modal:function(e){_i_("b71:e6f1de82");var t,i=this,n=c.env&&c.env.b_is_tdot_traffic?c.lightbox:s("lightbox"),a=e.data("showForm"),r=e.data("modalView"),o=a?_(a):_(".feedback-loop-lightbox").filter('[data-poll="'+this.config.poll+'"]').eq(0);if(!o.length)return _r_();r&&(t=o.data("componentInstanceFeedbackBase"))&&t.render&&t.render(r),n.show(o,{customWrapperClassName:this.config.modalExtraClass,position:this.config.modalPosition,topMargin:this.config.modalTopMargin,customMaskClassName:this.config.modalMaskExtraClass,hideCallBack:function(){_i_("b71:9bfb463f"),i.$el.trigger("feedbackInline_hideModal",{$feedbackForm:o}),i.triggerActionEvents("hideModal"),_r_()},hideBeforeCallBack:function(){_i_("b71:8e0ca5f8"),i.$el.trigger("feedbackInline_beforeHideModal",{$feedbackForm:o}),_r_()}}),o.off(".feedbackInline").on("click.feedbackInline","[data-close]",function(){_i_("b71:c4a9a11a"),n.hide(),_r_()}).on("click.feedbackInline",'[data-action~="submit"]',function(){_i_("b71:98a239bd"),i.$el.trigger("feedbackInline_submitModal"),i.triggerActionEvents("submitModal",{$modal:o}),e.data("hideOnModalSubmit")&&i.action_hide(),_r_()}).on("feedbackBase_resize",function(){_i_("b71:2a98798c"),n.rePosition({preserveAbsolute:!0}),_r_()}),i.config.autoFocus&&o.find("input:visible, textarea:visible").first().focus(),i.$el.trigger("feedbackInline_showModal"),i.triggerActionEvents("showModal",{$modal:o}),_r_()},action_extraForm:function(e){_i_("b71:ead0f947");var t,i=this,n=e.data("showForm"),a=_(n||'.feedback-loop-extra[data-poll="'+this.config.poll+'"]');if(!a.length)return _r_();a.data("tmplName")&&(a=this.replaceWithJsTmpl(a)).addClass("feedback-loop-extra").attr("data-poll",this.config.poll),e.data("extraFormAnimated")?a.slideDown(300):a.show(),this.config.autoFocus&&setTimeout(function(){_i_("b71:dceff0be"),a.find("input:text:visible,textarea:visible").focus(),_r_()},50),this.$el.trigger("feedbackInline_showExtra"),a.find('[data-action~="close"],[data-close]').off(".feedbackInline").on("click.feedbackInline",function(){_i_("b71:c0f8663c"),i.$el.trigger("feedbackInline_hideExtra"),e.data("showOnCancel")&&!t?i.$el.show():e.data("hideOnExtraClose")&&i.action_hide(),_r_()}).end().find('[data-action~="submit"]').off(".feedbackInline").on("click.feedbackInline",function(){_i_("b71:d4174a9d"),t=!0,e.data("hideOnExtraSubmit")&&i.action_hide(),i.$el.trigger("feedbackInline_submitExtra"),i.triggerActionEvents("submitExtra",{$extraForm:a}),_r_()}),_r_()},action_hide:function(e){_i_("b71:adf478a2");var t=this,i=e?e.data("hideDelay"):null,n=e?e.data("hideAnimated"):null,a=function(){_i_("b71:75a34236"),n?t.$el.slideUp(200):t.$el.hide(),t.config.hideClass&&t.$el.addClass(t.config.hideClass),_r_()};i?setTimeout(a,i):a(),_r_()},action_hideOther:function(e){_i_("b71:b8736d69"),_('[data-component*="feedback-inline"][data-poll="'+this.config.poll+'"]').not(this.$el).hide(),_r_()},action_hideForeign:function(e){_i_("b71:fa1df519");var t=(e.data("hideForeign")||"").split(/\s+/);t.length&&_.each(t,function(e,t){_i_("b71:8412f2c7"),t&&_('[data-component*="feedback-inline"][data-poll="'+t+'"]').hide(),_r_()}),_r_()},action_showView:function(e){_i_("b71:0276d38d");var n=this,a=e.data("showView"),t=this.$el.find("[data-view]"),r=t.filter('[data-view="'+a+'"]').data("viewAnimated");t.each(function(){_i_("b71:86e0d512");var e=_(this),t=e.data("view"),i=e.is(":visible");t!==a||i?t!==a&&i&&(r?e.slideUp(200):e.hide()):r?(n.$el.css({overflow:"hidden",height:n.$el.height()}),e.slideDown(300,function(){_i_("b71:80a013af"),n.$el.css({overflow:"",height:""}),_r_()}),_(".inline-feedback__hidden").focus()):e.show(),_r_()}),_r_()},action_trackGaEvent:function(e){_i_("b71:147383ab");var t,i=(e.data("feedbackGaEvent")||"").split("|"),n={nonInteraction:!0};"www"!==c.env.b_site_type&&"mdot"!==c.env.b_site_type||(t=s("ga-tracker")),2<=i.length&&(n.type=i[0],n.action=i[1]||"",n.label=i[2]||"",void 0!==i[3]&&(n.value=i[3])),t&&t.trackEvent&&n.type&&n.action&&n.label&&t.trackEvent(n.type,n.action,n.label,n.value),_r_()},replaceWithJsTmpl:function(e){_i_("b71:9cc0ce91");var t=e.data(),n={poll_id:this.config.poll},i="",a=e;return c.jstmpl&&t.tmplName&&(_.each(t,function(e,t){_i_("b71:e8a2be23");var i=e.match(/^tmplData(.+)$/);i&&i[1]&&(n[String(i[1]).toLowerCase()]=t),_r_()}),_.isPlainObject(t.tmplData)&&_.extend(n,t.tmplData),i=c.jstmpl(t.tmplName).render(n)),i&&(a=_(i),e.replaceWith(a),a.loadComponents()),_r_(a)},setupComponent:function(){_i_("b71:a765f0be"),_.extend(this.config,this.$el.data()),_r_()},getModel:function(){_i_("b71:3462e42f");var e=this.$el.find("[data-view]:visible"),i={url:window.location.href,action:window.booking&&window.booking.env&&window.booking.env.b_action,poll:this.config.poll};return e.length||(e=this.$el),e.find("[data-model]").each(function(){_i_("b71:9441e65b");var e=_(this),t=e.data();!t.hasOwnProperty("modelValue")&&t.model&&(i[t.model]=e.val()),_r_()}),_r_(i)},triggerActionEvents:function(e,t){_i_("b71:e285197f");var i=_.extend({feedbackInline:this},t||{});n&&e&&(n.emit("feedbackInline:"+e,i),this.config.poll&&n.emit("feedbackInline:"+e+":"+this.config.poll,i)),_r_()}}),_r_()}),_r_()}(window.booking),booking.jstmpl("feedback_form_ha_m_lp_faq_suggestions",function(){_i_("b71:402d4bfb");var n,a=['\n    <div\n        class="feedback-loop-extra feedback-loop-lp feedback-loop-extra_standalone ','"\n        data-component="feedback-base"\n        data-url="/receive_content_feedback"\n        data-poll="ha_m_lp_missing_info"\n        data-stop-propagation="1"\n        >\n        <span class="inline-feedback__title">\n            ',"/private/m_hc_mis_binary_bathroom_question_bold/name","</b>","<b>",'\n\t\t</span>\n        <div data-view="index">\n            <input type="hidden" data-model="hotel_id" value="3339515"/>\n            <input type="hidden" data-model="reason" value="missing_content">\n            <label><span class="invisible_spoken">',"/private/a11y_popup_input_field_survey_enter_feedback/name",'</span>\n                <span class="feedback-loop-extra__title">',"/private/prc_fds_box_head/name",'</span>\n                <textarea\n                    data-model="missing_comment"\n                    class="feedback-loop-extra__textarea-field"\n                    placeholder="We\'re sorry to hear that. Can you tell us what else you\'d like to see here?"\n                ></textarea>\n            </label>\n            <div class="feedback-loop-extra__submit">\n                <span class="feedback-loop-extra__cta"\n                    data-action="showView submit"\n                    data-view="final">\n                    ',"/private/prc_fds_submit/name",'\n                </span>\n                <span class="feedback-loop-extra__secondary-cta" data-close data-action="showView" data-view="final">\n                    ',"/private/prc_fds_no_thanks/name",'\n                </span>\n            </div>\n        </div>\n\n        <div data-view="final" data-view-animated="1">\n            <p class="feedback-loop-extra__header">',"/private/prc_fds_thanks_for_feedback/name","</p>\n            <p>","/private/prc_fds_feedback_msg/name",'</p>\n            <div class="feedback-loop-extra__submit">\n            <span class="feedback-loop-extra__secondary-cta feedback-loop-extra__secondary-cta_minor"\n                data-action="close">\n                ',"/private/prc_fds_close/name",'\n            </span>\n        </div>\n        </div>\n\n        <div data-view="error">\n            <p class="feedback-loop-extra__header">',"/private/cc_fake_test_more_details_resubmit_header/name",'</p>\n            <div class="feedback-loop-extra__submit">\n                <span class="feedback-loop-extra__secondary-cta feedback-loop-extra__secondary-cta_minor"\n                      data-action="reset showView" data-view="index">\n                    ',"/private/cc_fake_test_more_details_resubmit_button/name","\n                </span>\n            </div>\n        </div>\n    </div>\n"],r=["form_class"];return _r_(function(e){_i_("b71:4e02f20f");var t="",i=this.fn;return t+=[a[0],i.F.entities(i.MC(r[0])),a[1],(e.unshift({end_bold:a[3],start_bold:a[4]}),n=i.ME(a[2],i.MB,i.MN,null),e.shift(),n),a[5],i.ME(a[6],i.MB,i.MN,null),a[7],i.ME(a[8],i.MB,i.MN,null),a[9],i.ME(a[10],i.MB,i.MN,null),a[11],i.ME(a[12],i.MB,i.MN,null),a[13],i.ME(a[14],i.MB,i.MN,null),a[15],i.ME(a[16],i.MB,i.MN,null),a[17],i.ME(a[18],i.MB,i.MN,null),a[19],i.ME(a[20],i.MB,i.MN,null),a[21],i.ME(a[22],i.MB,i.MN,null),a[23]].join(""),_r_(t)})}()),b.env.scripts_tracking.lp.run=1;