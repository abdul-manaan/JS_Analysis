(function(a){function b(a,c){function e(a){if(e[a]!==q)return e[a];var b;if("bug-string-char-index"==a)b="a"!="a"[0];else if("json"==a)b=e("json-stringify")&&e("json-parse");else{var d,f='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==a){var i=c.stringify,k="function"==typeof i&&t;if(k){(d=function(){return 1}).toJSON=d;try{k="0"===i(0)&&"0"===i(new g)&&'""'==i(new h)&&i(s)===q&&i(q)===q&&i()===q&&"1"===i(d)&&"[1]"==i([d])&&"[null]"==i([q])&&"null"==i(null)&&"[null,null,null]"==i([q,s,null])&&i({a:[d,!0,!1,null,"\0\b\n\f\r\t"]})==f&&"1"===i(null,d)&&"[\n 1,\n 2\n]"==i([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==i(new j(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==i(new j(864e13))&&'"-000001-01-01T00:00:00.000Z"'==i(new j(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==i(new j(-1))}catch(a){k=!1}}b=k}if("json-parse"==a){var l=c.parse;if("function"==typeof l)try{if(0===l("0")&&!l(!1)){d=l(f);var m=5==d.a.length&&1===d.a[0];if(m){try{m=!l('"\t"')}catch(a){}if(m)try{m=1!==l("01")}catch(a){}if(m)try{m=1!==l("1.")}catch(a){}}}}catch(a){m=!1}b=m}}return e[a]=!!b}a||(a=f.Object()),c||(c=f.Object());var g=a.Number||f.Number,h=a.String||f.String,i=a.Object||f.Object,j=a.Date||f.Date,k=a.SyntaxError||f.SyntaxError,l=a.TypeError||f.TypeError,m=a.Math||f.Math,n=a.JSON||f.JSON;"object"==typeof n&&n&&(c.stringify=n.stringify,c.parse=n.parse);var o,p,q,r=i.prototype,s=r.toString,t=new j(-0xc782b5b800cec);try{t=-109252==t.getUTCFullYear()&&0===t.getUTCMonth()&&1===t.getUTCDate()&&10==t.getUTCHours()&&37==t.getUTCMinutes()&&6==t.getUTCSeconds()&&708==t.getUTCMilliseconds()}catch(a){}if(!e("json")){var u="[object Function]",v="[object Date]",w="[object Number]",x="[object String]",y="[object Array]",z="[object Boolean]",A=e("bug-string-char-index");if(!t)var B=m.floor,C=[0,31,59,90,120,151,181,212,243,273,304,334],D=function(a,b){return C[b]+365*(a-1970)+B((a-1969+(b=+(b>1)))/4)-B((a-1901+b)/100)+B((a-1601+b)/400)};if((o=r.hasOwnProperty)||(o=function(a){var b,c={};return(c.__proto__=null,c.__proto__={toString:1},c).toString!=s?o=function(a){var b=this.__proto__,c=a in(this.__proto__=null,this);return this.__proto__=b,c}:(b=c.constructor,o=function(a){var c=(this.constructor||b).prototype;return a in this&&!(a in c&&this[a]===c[a])}),c=null,o.call(this,a)}),p=function(a,b){var c,e,f,g=0;(c=function(){this.valueOf=0}).prototype.valueOf=0,e=new c;for(f in e)o.call(e,f)&&g++;return c=e=null,g?p=2==g?function(a,b){var c,d={},e=s.call(a)==u;for(c in a)e&&"prototype"==c||o.call(d,c)||!(d[c]=1)||!o.call(a,c)||b(c)}:function(a,b){var c,d,e=s.call(a)==u;for(c in a)e&&"prototype"==c||!o.call(a,c)||(d="constructor"===c)||b(c);(d||o.call(a,c="constructor"))&&b(c)}:(e=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],p=function(a,b){var c,f,g=s.call(a)==u,h=!g&&"function"!=typeof a.constructor&&d[typeof a.hasOwnProperty]&&a.hasOwnProperty||o;for(c in a)g&&"prototype"==c||!h.call(a,c)||b(c);for(f=e.length;c=e[--f];h.call(a,c)&&b(c));}),p(a,b)},!e("json-stringify")){var E={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},F="000000",G=function(a,b){return(F+(b||0)).slice(-a)},H="\\u00",I=function(a){for(var b='"',c=0,d=a.length,e=!A||d>10,f=e&&(A?a.split(""):a);c<d;c++){var g=a.charCodeAt(c);switch(g){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=E[g];break;default:if(g<32){b+=H+G(2,g.toString(16));break}b+=e?f[c]:a.charAt(c)}}return b+'"'},J=function(a,b,c,d,e,f,g){var h,i,j,k,m,n,r,t,u,A,C,E,F,H,K,L;try{h=b[a]}catch(a){}if("object"==typeof h&&h)if((i=s.call(h))!=v||o.call(h,"toJSON"))"function"==typeof h.toJSON&&(i!=w&&i!=x&&i!=y||o.call(h,"toJSON"))&&(h=h.toJSON(a));else if(h>-1/0&&h<1/0){if(D){for(m=B(h/864e5),j=B(m/365.2425)+1970-1;D(j+1,0)<=m;j++);for(k=B((m-D(j,0))/30.42);D(j,k+1)<=m;k++);m=1+m-D(j,k),n=(h%864e5+864e5)%864e5,r=B(n/36e5)%24,t=B(n/6e4)%60,u=B(n/1e3)%60,A=n%1e3}else j=h.getUTCFullYear(),k=h.getUTCMonth(),m=h.getUTCDate(),r=h.getUTCHours(),t=h.getUTCMinutes(),u=h.getUTCSeconds(),A=h.getUTCMilliseconds();h=(j<=0||j>=1e4?(j<0?"-":"+")+G(6,j<0?-j:j):G(4,j))+"-"+G(2,k+1)+"-"+G(2,m)+"T"+G(2,r)+":"+G(2,t)+":"+G(2,u)+"."+G(3,A)+"Z"}else h=null;if(c&&(h=c.call(b,a,h)),null===h)return"null";if((i=s.call(h))==z)return""+h;if(i==w)return h>-1/0&&h<1/0?""+h:"null";if(i==x)return I(""+h);if("object"==typeof h){for(H=g.length;H--;)if(g[H]===h)throw l();if(g.push(h),C=[],K=f,f+=e,i==y){for(F=0,H=h.length;F<H;F++)E=J(F,h,c,d,e,f,g),C.push(E===q?"null":E);L=C.length?e?"[\n"+f+C.join(",\n"+f)+"\n"+K+"]":"["+C.join(",")+"]":"[]"}else p(d||h,function(a){var b=J(a,h,c,d,e,f,g);b!==q&&C.push(I(a)+":"+(e?" ":"")+b)}),L=C.length?e?"{\n"+f+C.join(",\n"+f)+"\n"+K+"}":"{"+C.join(",")+"}":"{}";return g.pop(),L}};c.stringify=function(a,b,c){var e,f,g,h;if(d[typeof b]&&b)if((h=s.call(b))==u)f=b;else if(h==y){g={};for(var i,j=0,k=b.length;j<k;i=b[j++],((h=s.call(i))==x||h==w)&&(g[i]=1));}if(c)if((h=s.call(c))==w){if((c-=c%1)>0)for(e="",c>10&&(c=10);e.length<c;e+=" ");}else h==x&&(e=c.length<=10?c:c.slice(0,10));return J("",(i={},i[""]=a,i),f,g,e,"",[])}}if(!e("json-parse")){var K,L,M=h.fromCharCode,N={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},O=function(){throw K=L=null,k()},P=function(){for(var a,b,c,d,e,f=L,g=f.length;K<g;)switch(e=f.charCodeAt(K)){case 9:case 10:case 13:case 32:K++;break;case 123:case 125:case 91:case 93:case 58:case 44:return a=A?f.charAt(K):f[K],K++,a;case 34:for(a="@",K++;K<g;)if((e=f.charCodeAt(K))<32)O();else if(92==e)switch(e=f.charCodeAt(++K)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:a+=N[e],K++;break;case 117:for(b=++K,c=K+4;K<c;K++)(e=f.charCodeAt(K))>=48&&e<=57||e>=97&&e<=102||e>=65&&e<=70||O();a+=M("0x"+f.slice(b,K));break;default:O()}else{if(34==e)break;for(e=f.charCodeAt(K),b=K;e>=32&&92!=e&&34!=e;)e=f.charCodeAt(++K);a+=f.slice(b,K)}if(34==f.charCodeAt(K))return K++,a;O();default:if(b=K,45==e&&(d=!0,e=f.charCodeAt(++K)),e>=48&&e<=57){for(48==e&&(e=f.charCodeAt(K+1))>=48&&e<=57&&O(),d=!1;K<g&&(e=f.charCodeAt(K))>=48&&e<=57;K++);if(46==f.charCodeAt(K)){for(c=++K;c<g&&(e=f.charCodeAt(c))>=48&&e<=57;c++);c==K&&O(),K=c}if(101==(e=f.charCodeAt(K))||69==e){for(e=f.charCodeAt(++K),43!=e&&45!=e||K++,c=K;c<g&&(e=f.charCodeAt(c))>=48&&e<=57;c++);c==K&&O(),K=c}return+f.slice(b,K)}if(d&&O(),"true"==f.slice(K,K+4))return K+=4,!0;if("false"==f.slice(K,K+5))return K+=5,!1;if("null"==f.slice(K,K+4))return K+=4,null;O()}return"$"},Q=function(a){var b,c;if("$"==a&&O(),"string"==typeof a){if("@"==(A?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];"]"!=(a=P());c||(c=!0))c&&(","==a?"]"==(a=P())&&O():O()),","==a&&O(),b.push(Q(a));return b}if("{"==a){for(b={};"}"!=(a=P());c||(c=!0))c&&(","==a?"}"==(a=P())&&O():O()),","!=a&&"string"==typeof a&&"@"==(A?a.charAt(0):a[0])&&":"==P()||O(),b[a.slice(1)]=Q(P());return b}O()}return a},R=function(a,b,c){var d=S(a,b,c);d===q?delete a[b]:a[b]=d},S=function(a,b,c){var d,e=a[b];if("object"==typeof e&&e)if(s.call(e)==y)for(d=e.length;d--;)R(e,d,c);else p(e,function(a){R(e,a,c)});return c.call(a,b,e)};c.parse=function(a,b){var c,d;return K=0,L=""+a,c=Q(P()),"$"!=P()&&O(),K=L=null,b&&s.call(b)==u?S((d={},d[""]=c,d),"",b):c}}}return c.runInContext=b,c}var c="function"==typeof define&&define.amd,d={function:!0,object:!0},e=d[typeof exports]&&exports&&!exports.nodeType&&exports,f=d[typeof a]&&a||this,g=e&&d[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!g||g.global!==g&&g.window!==g&&g.self!==g||(f=g),e&&!c)b(f,e);else{var h=f.JSON,i=f.JSON3,j=!1,k=b(f,f.JSON3={noConflict:function(){return j||(j=!0,f.JSON=h,f.JSON3=i,h=i=null),k}});f.JSON={parse:k.parse,stringify:k.stringify}}c&&define(function(){return k})}).call(window.inDapIF?window.parent:window),function(a){"use strict"}(window.inDapIF?window.parent:window),Object.keys||(Object.keys=function(){"use strict";var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var f,g,h=[];for(f in e)a.call(e,f)&&h.push(f);if(b)for(g=0;g<d;g++)a.call(e,c[g])&&h.push(c[g]);return h}}()),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c,d;if(null==this)throw new TypeError(" this is null or not defined");var e=Object(this),f=e.length>>>0;if("function"!=typeof a)throw new TypeError(a+" is not a function");for(arguments.length>1&&(c=b),d=0;d<f;){var g;d in e&&(g=e[d],a.call(c,g,d,e)),d++}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c;if(null==this)throw new TypeError('"this" is null or not defined');var d=Object(this),e=d.length>>>0;if(0===e)return-1;var f=0|b;if(f>=e)return-1;for(c=Math.max(f>=0?f:e-Math.abs(f),0);c<e;){if(c in d&&d[c]===a)return c;c++}return-1}),function(a){"use strict";a.melidata_namespace={utils:{},config:{melidata_api_url:"//data.mercadolibre.com/tracks",melidata_pixel_url:"//data.mercadolibre.com/pixel.gif",retry_on_error_time:1e3,retry_on_error_limit:5,log_level:"enabled",enable_to_send:!0},test_env:!1},a.melidata_namespace.configure=function(a,b){a&&void 0!==b&&(this.config[a]=b)}}(window.inDapIF?window.parent:window),function(a){"use strict";a.melidata_namespace.utils={getCookieValue:function(a){var b,c,d,e=document.cookie.split(";");for(b=0;b<e.length;b+=1)if(c=e[b].substr(0,e[b].indexOf("=")),d=e[b].substr(e[b].indexOf("=")+1),(c=c.replace(/^\s+|\s+$/g,""))===a)return unescape(d)},setCookie:function(b,c,d,e,f){f||(f="/"),e&&(e=";domain="+e);var g=new Date;g.setTime(g.getTime()+24*d*60*60*1e3);var h="expires="+g.toUTCString(),i=b+"="+c+";"+h+";path="+f+e;a.melidata_namespace.test_env&&console.log("setting cookie",i),document.cookie=i},getBasicUserData:function(){var a={},b=this.getCookieValue("_d2id"),c=this.getCookieValue("orguseridp"),d=this.getCookieValue("orgnickp"),e=d&&"0"!=d;return b&&(b=b.replace("-n",""),a.uid=b),e&&(a.user_nick=d),c&&e&&(a.user_id=c),a},uuid:function(){if("function"==typeof String.prototype.replace){var b=Date.now();return a.performance&&"function"==typeof a.performance.now&&(b+=a.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var c=(b+16*Math.random())%16|0;return b=Math.floor(b/16),("x"===a?c:11&c).toString(16)})}var c=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return(c()+c()+"-"+c()+"-4"+c().substr(0,3)+"-"+c()+"-"+c()+c()+c()).toLowerCase()},getApplicationInfo:function(){return{version:"UNKNOWN",business:this.getBusiness(a.location.hostname),site_id:this.getSiteId(a.location.hostname),sdk_version:this.getSdkVersion()}},getBusiness:function(a){var b;return a.match(/envios(\.|^)mercadoli(v|b)re\./g)?b="mercadoenvios":a.match(/(\.|^)mercadoli(v|b)re\./g)?b="mercadolibre":a.match(/(\.|^)mercadopago\./g)?b="mercadopago":a.match(/(\.|^)mercadoclics\./g)?b="mercadoclics":a.match(/(\.|^)mercadoshops\./g)?b="mercadoshops":a.match(/(\.|^)tucarro\./g)?b="tucarro":a.match(/(\.|^)tumoto\./g)?b="tumoto":a.match(/(\.|^)tuinmueble\./g)?b="tuinmueble":a.match(/(\.|^)metroscubicos\./g)?b="metroscubicos":a.match(/(\.|^)portalinmobiliario\./g)&&(b="portalinmobiliario"),b||"UNKNOWN"},getSiteId:function(a){var b;return a.match(/\.com\.ar$/)?b="MLA":a.match(/\.com\.br$/)?b="MLB":a.match(/\.com\.co$/)?b="MCO":a.match(/\.co\.cr$/)?b="MCR":a.match(/\.cl$/)||a.match(/(\.|^)portalinmobiliario\.com$/g)?b="MLC":a.match(/\.com\.do$/)?b="MRD":a.match(/\.com\.ec$/)?b="MEC":a.match(/\.com\.mx$/)||a.match(/(\.|^)metroscubicos\.com$/g)?b="MLM":a.match(/\.com\.pa$/)?b="MPA":a.match(/\.pt$/)?b="MPT":a.match(/\.com.uy$/)?b="MLU":a.match(/\.com.ve$/)?b="MLV":a.match(/\.com.bo$/)?b="MBO":a.match(/\.com.hn$/)?b="MHN":a.match(/\.com.gt$/)?b="MGT":a.match(/\.com.ni$/)?b="MNI":a.match(/\.com.py$/)?b="MPY":a.match(/\.com.pe$/)?b="MPE":a.match(/\.com.sv$/)&&(b="MSV"),b},getTimeZone:function(a){return this.pad(100*-a.getTimezoneOffset()/60,4,!0)},getDeviceInfo:function(){!function(a){var b=/iPhone/i,c=/iPod/i,d=/iPad/i,e=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,f=/Android/i,g=/BlackBerry/i,h=/Opera Mini/i,i=/IEMobile/i,j=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,k=RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),l=function(a,b){return a.test(b)},m=function(a){var m=a||navigator.userAgent;this.apple={phone:l(b,m),ipod:l(c,m),tablet:l(d,m),device:l(b,m)||l(c,m)||l(d,m)},this.android={phone:l(e,m),tablet:!l(e,m)&&l(f,m),device:l(e,m)||l(f,m)},this.other={blackberry:l(g,m),opera:l(h,m),windows:l(i,m),firefox:l(j,m),device:l(g,m)||l(h,m)||l(i,m)||l(j,m)},this.seven_inch=l(k,m),this.any=this.apple.device||this.android.device||this.other.device||this.seven_inch};(a.isMobile=new m).Class=m}(window);var a,b,c,d={resolution_height:screen.availHeight,resolution_width:screen.availWidth,platform:"/web/desktop"};return isMobile.any&&(isMobile.android.device?(a="android",b=isMobile.android):isMobile.apple.device&&(a="apple",b=isMobile.apple),Object.keys(b).forEach(function(a){"device"!==a&&b[a]&&(c=a)}),d.vendor=a,d.device_type=c,d.platform="/web/mobile"),d},getBasicHttpData:function(){return{http_referer:document.referrer.split("?")[0],http_url:document.URL.split("?")[0],utm:this.parseUtm(),intersection_observer_supported:this.isIntersectionObserverSupported()}},getSdkVersion:function(){return{js_version:"0.0.87"}},parseUtm:function(){var a=document.location.search,b=this.parseQueryStrings(a);return{utm_source:b.utm_source,utm_medium:b.utm_medium,utm_campaign:b.utm_campaign,utm_term:b.utm_term,utm_content:b.utm_content}},parseQueryStrings:function(a){try{var b={};"?"===a.charAt(0)&&(a=a.substr(1));for(var c=a.split("&"),d=0;d<c.length;d++){var e=c[d],f=e.split("="),g=f[0],e=f[1];e=decodeURIComponent(e),e=e.replace(/\+/g," "),b[g]=e}return b}catch(a){return{}}},isIntersectionObserverSupported:function(){return"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype},pad:function(a,b,c){var d,e,f="";for(a<0?(f+="-",a=-a):c&&(f+="+"),d=String(a),e=0;e<b-d.length;e+=1)f+=0;return f+d},dateISOFormat:function(a){return a.getFullYear()+"-"+this.pad(a.getMonth()+1,2)+"-"+this.pad(a.getDate(),2)+"T"+this.pad(a.getHours(),2)+":"+this.pad(a.getMinutes(),2)+":"+this.pad(a.getSeconds(),2)+"."+this.pad(a.getMilliseconds(),2)+this.pad(100*-a.getTimezoneOffset()/60,4,!0)},dateMillis:function(a){return a.getTime()}}}(window.inDapIF?window.parent:window),function(a){var b=a.melidata_namespace.utils,c=a.melidata_namespace.test_env,d=b.getCookieValue("_d2id");if(d)if(38==d.length&&d.endsWith("-n")||36==d.length&&"0"===d.charAt(0)){d=d.substr(0,36);var e={mercadolibre:"mercadolibre",mercadopago:"mercadopago",tucarro:"tucarro",tumoto:"tumoto",portalinmobiliario:"portalinmobiliario",metroscubicos:"metroscubicos",tuinmueble:"tuinmueble"},f={MBO:{suffix:"com.bo",replicationBusinesses:[]},MCO:{suffix:"com.co",replicationBusinesses:[e.mercadopago,e.tucarro,e.tumoto]},MCR:{suffix:"co.cr",replicationBusinesses:[]},MEC:{suffix:"com.ec",replicationBusinesses:[]},MGT:{suffix:"com.gt",replicationBusinesses:[]},MHN:{suffix:"com.hn",replicationBusinesses:[]},MLA:{suffix:"com.ar",replicationBusinesses:[e.mercadopago]},MLB:{suffix:"com.br",replicationBusinesses:[e.mercadopago],domainBusinessExceptions:{}},MLC:{suffix:"cl",replicationBusinesses:[e.mercadopago,e.portalinmobiliario],domainBusinessExceptions:{}},MLM:{suffix:"com.mx",replicationBusinesses:[e.mercadopago,e.metroscubicos],domainBusinessExceptions:{}},MLU:{suffix:"com.uy",replicationBusinesses:[e.mercadopago]},MLV:{suffix:"com.ve",replicationBusinesses:[e.tucarro,e.tumoto,e.tuinmueble]},MNI:{suffix:"com.ni",replicationBusinesses:[]},MPA:{suffix:"com.pa",replicationBusinesses:[]},MPE:{suffix:"com.pe",replicationBusinesses:[e.mercadopago]},MPY:{suffix:"com.py",replicationBusinesses:[]},MRD:{suffix:"com.do",replicationBusinesses:[]},MSV:{suffix:"com.sv",replicationBusinesses:[]}};f.MLC.domainBusinessExceptions[e.portalinmobiliario]="portalinmobiliario.com",f.MLB.domainBusinessExceptions[e.mercadolibre]="mercadolivre.com.br",f.MLM.domainBusinessExceptions[e.metroscubicos]="metroscubicos.com",Object.keys(f).forEach(function(a){f[a].replicationBusinesses.push(e.mercadolibre)});var g=b.getSiteId(a.location.hostname),h=b.getBusiness(a.location.hostname),i=f[g],j="com"===a.location.host.substr(-3)&&(h===e.mercadolibre||h===e.mercadopago);if(!i&&j){var k=a.location.pathname.split("/");k.forEach(function(a){Object.keys(f).forEach(function(b){g||b.toLowerCase()!=a||(c&&console.log("site %s found in path",b),g=b,i=f[g])})})}if(i&&i.replicationBusinesses.indexOf(h)>-1){var l=1095,m=function(a,b,d,e,f){var g=new Image,h="https://melidata."+a+"/pixel.gif?name="+b+"&value="+d+"&max_age="+24*e*60*60+"&domain=."+a;f&&(h+="&path="+f),g.src=h,c&&console.log("setting cookie through gif",h)},n="/jms/"+g.toLowerCase()+"/";if(m("mercadoli"+("MLB"===g?"v":"b")+"re.com","_d2id",d,l,n),i.replicationBusinesses.indexOf(e.mercadopago)>-1){var o="/"+g.toLowerCase()+"/";m("mercadopago.com","_d2id",d,l,o)}i.replicationBusinesses.forEach(function(a){var c=a+"."+i.suffix;if(i.domainBusinessExceptions){var e=i.domainBusinessExceptions[a];e&&(c=e)}a!=h||j?m(c,"_d2id",d,l):b.setCookie("_d2id",d,l,"."+c)})}else console.warn("could not detect melidata site replication rule for current domain")}else c&&console.log("_d2id already without -n or length != 38");else c&&console.log("_d2id cookie not found")}(window.inDapIF?window.parent:window),function(a){"use strict";function b(){document.webkitHidden||a.melidata_namespace.sender.send_hidden()}void 0!==a.document.addEventListener&&a.document.addEventListener("webkitvisibilitychange",b,!1);var c=a.melidata_namespace,d=function(){var a,b=!1,c=!1;return window.XMLHttpRequest&&(a=new window.XMLHttpRequest,"withCredentials"in a?(b=!0,a=new window.XMLHttpRequest):window.XDomainRequest&&(b=!1,c=!0,a=new window.XDomainRequest)),b&&function(a){var b=new window.XMLHttpRequest;c?(b.open(a.method,a.url),b.ontimeout=a.error,b.onerror=a.error,b.onload=function(){!b||500!==b.status&&400!==b.status&&406!==b.status?a.success(b,b.responseText):a.error(b,b.responseText)}):(b.open(a.method,a.url,!0),b.onreadystatechange=function(){4===b.readyState&&(b.response&&500!==b.status&&400!==b.status&&406!==b.status?a.success(b,b.responseText):a.error(b,b.responseText))});var d=a.headers;d&&Object.keys(d).forEach(function(a){b.setRequestHeader(a,d[a])}),b.send(a.data)}}();c.sender={user_agent_whitelist_app_track:["MercadoLibre-Android","MercadoLibre-iOS","MercadoPago-Android","MercadoPago-iOS"],user_agent_blacklist_webview_track:["MercadoLibre-Android"],trackSentFromWebViewInApp:function(a){for(var b=0;b<this.user_agent_whitelist_app_track.length;b++)if(0==a.indexOf(this.user_agent_whitelist_app_track[b]))return!0;return!1},userAgentInBlacklist:function(a){for(var b=0;b<this.user_agent_blacklist_webview_track.length;b++)if(0==a.indexOf(this.user_agent_blacklist_webview_track[b]))return!0;return!1},sendTrackFromApp:function(a){var b=window.parent.MelidataCallback;void 0!==b&&void 0!==b&&b.sendTrackFromWebView(JSON.stringify(a))},onlyPixel:!1,send_queues:{melidata:[]},send_hidden_q:[],isBeaconSupported:function(){return"sendBeacon"in navigator&&"function"==typeof navigator.sendBeacon},send:function(a,b,c){var d=a.device.user_agent;if(d&&this.trackSentFromWebViewInApp(d)&&this.sendTrackFromApp(a),!d||!this.userAgentInBlacklist(d)){var e=a.stream_name?a.stream_name:b||"melidata",f=this;f.preQueue(a),this.send_queues[e]||(this.send_queues[e]=[]),(a.F?this.send_hidden_q:this.send_queues[e]).push(a),this.lastTrack=a,setTimeout(function(){var a=f.send_queues[e];f.send_queues[e]=[],f.doSend(a,e,c)},0)}},send_hidden:function(){var a=this;setTimeout(function(){var b=a.send_hidden_q;a.send_hidden_q=[],a.doSend(b,null,!1)},0)},success:function(){},preQueue:function(a){},doSend:function(b,d,e){if(void 0!==b&&0!==b.length){var f={tracks:b},g=this;if(c.config.enable_to_send)return c.test_env?(b.forEach(function(b,d){g.catalogValidate(b),"enabled"==c.config.log_level&&console.log("Track Sent: "+a.JSON.stringify(b))}),void this.success()):void setTimeout(function(){g.doSendTrack(f,d,e)},0)}},doSendTrack:function(b,e,f){var g,h=d,i=this,j=e&&"melidata"!==e,k=j?c.config.melidata_api_url.concat("/"+e):c.config.melidata_api_url;if(this.isBeaconSupported()&&f&&navigator.sendBeacon(k,JSON.stringify(b)))return void this.success();if(h&&!this.onlyPixel)h({url:k,method:"POST",headers:{"Content-Type":"text/plain;charset=UTF-8"},data:JSON.stringify(b),tryCount:0,success:function(a,d){var e=JSON.parse(d),f=b.tracks.length,g=0;e&&e.failed_record_count&&e.failed_record_count>=1&&(g=e.failed_record_count,f-=g);for(var j=0;j<f;j++)b.tracks.shift();if(this.data=JSON.stringify(b),0===b.tracks.length)i.success(this);else if(++this.tryCount<=c.config.retry_on_error_limit)return void h(this)},error:function(a){500===a.status&&++this.tryCount<=c.config.retry_on_error_limit&&h(this)}});else try{g=new Image,g.src=c.config.melidata_pixel_url+"?q="+encodeURIComponent(a.JSON.stringify(b)),this.success()}catch(a){}},catalogValidate:function(b){var e,f=d;if(f&&!this.onlyPixel)f({url:"https://api.mercadolibre.com/melidata/catalog/validate",method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify(b),tryCount:0,success:function(a,b){console.log("Validation against catalog was "+JSON.parse(b).passed+", reason :"+JSON.parse(b).messages)},error:function(a,b){400===a.status?console.log("Validation against catalog was "+JSON.parse(b).passed+", reason :"+JSON.parse(b).messages):console.log("Cant connect to catalog")}});else try{e=new Image,e.src=c.config.melidata_pixel_url+"?q="+encodeURIComponent(a.JSON.stringify(b)),this.success()}catch(a){}}}}(window.inDapIF?window.parent:window),function(a){"use strict";function b(){var a=new Date;return{path:"",user:{},type:void 0,user_local_timestamp:i.utils.dateISOFormat(a),server_id:i.utils.uuid(),id:i.utils.uuid(),event_data:{},platform:{http:{}},application:{sdk_version:{}},device:{},experiments:{},created_hidden:!1}}function c(a,b,c){return g(c[a])?g(b)?c[a]=c[a].concat(b):c[a].push(b):"object"==typeof b?d(c[a],b):c[a]=b,this}function d(a,b){"object"==typeof b&&Object.keys(b).forEach(function(c){a[c]=b[c]})}function e(a){var b={};v().length>0&&(b.fragment=v()),p(b,a);var c=window.location.search;q({utm:i.utils.parseUtm(c)},a),r({intersection_observer_supported:i.utils.isIntersectionObserverSupported()},a),t(i.utils.getSdkVersion(),a);var d={user_agent:navigator.userAgent};a.device.user_agent||u(d,a),a.id=i.utils.uuid()}function f(a,b,c){var d;e(a),d=!(!c||!c.useBeacon)&&c.useBeacon,i.sender.send(a,b,d)}function g(a){return"[object Array]"===Object.prototype.toString.call(a)}function h(b,c,d){var e;for(e in b)b.hasOwnProperty(e)&&d.indexOf(e)<0&&(c[e]=a.JSON.parse(a.JSON.stringify(b[e])))}var i=a.melidata_namespace;i.track_types={VIEW:"view",EVENT:"event"},i.clean=function(){this.actual_track&&(this.actual_track.event_data={},this.actual_track.experiments={})},i.add=function(a,b){return c(a,b,this.actual_track)},i.send=function(a,b,c){var e={event_data:{},path:""};h(this.actual_track.event_data,e.event_data,[]),b&&(b.event_data?d(e.event_data,b.event_data):b.data&&d(e.event_data,b.data),e.path=b.path);var g=i.cleanTrack();i.completeTrack(g,a,e),f(g,c,b)},i.cleanAndSend=function(a,b,c){var d=i.cleanTrack();d.experiments=void 0,d.experiments_timestamp=void 0,i.completeTrack(d,a,b),f(d,c,b)},i.cleanTrack=function(){var a=b();return h(this.actual_track,a,x),a},i.completeTrack=function(a,b,c){a.type=b,c&&(k(c.path,a),c.event_data?j(c.event_data,a):c.data&&j(c.data,a))},i.addToTrack=function(a,b,d){return c(a,b,d)},i.sendTrack=function(a,b,c){a&&f(a,b,c)},i.createViewTrack=function(a){w(a),a.type=i.track_types.VIEW},i.createEventTrack=function(a){w(a),a.type=i.track_types.EVENT},i.fillTrack=function(a){var b=this.actual_track.user;n(b,a),u(i.utils.getDeviceInfo(),a),n(i.utils.getBasicUserData(),a),s(i.utils.getApplicationInfo(),a),o(i.utils.getBasicHttpData(),a)},i.withData=function(a,b){j(a,b)},i.withPath=function(a,b){k(a,b)},i.withStream=function(a,b){m(a,b)},i.withExperiments=function(a,b){l(a,b)},i.withExperiment=function(a,b,c){if(null!==a&&null!==b){var d={};d[a]=b,l(d,c)}},i.withSdkVersion=function(a,b){withSdkVersion(a,b)};var j=function(a,b){return d(b.event_data,a),this},k=function(a,b){return a&&(b.path=a),this},l=function(a,b){return d(b.experiments,a),this},m=function(a,b){return a&&(b.stream_name=a),this},n=function(a,b){return d(b.user,a),this},o=function(a,b){return d(b.platform.http,a),this},p=function(a,b){return d(b.platform,a),this},q=function(a,b){return d(b.platform.http,a),this},r=function(a,b){return d(b.platform.http,a),this},s=function(a,b){return d(b.application,a),this},t=function(a,b){return d(b.application.sdk_version,a),this},u=function(a,b){d(b.device,a)},v=function(){var a=window.top?window.top:window.parent?window.parent:window;try{return a.location?decodeURIComponent(a.location.hash.substr(1)):""}catch(a){return""}},w=function(a){if(!a.event_data){h(b(),a,x),a.event_data={},i.fillTrack(a)}},x=["user_local_timestamp","id","type","event_data"]}(window.inDapIF?window.parent:window),function(a,b){"use strict";var c=a.melidata_namespace,d=[];for(void 0!==a[b]&&null!==a[b]&&void 0!==a[b].q&&null!==a[b].q&&(d=a[b].q),a[b]=function(){var a=Array.prototype.shift.apply(arguments),b=Array.prototype.slice.call(arguments);c.actual_track||(c.actual_track={},c.createViewTrack(c.actual_track)),c[a].apply(c,b)};d.length>0;)a[b].apply(a[b],d.shift())}(window.inDapIF?window.parent:window,"melidata");