/*
 display_switch.js 1.0.0
 Copyright (c) 2013 Rakuten.Inc
 Date : 2013-05-13 15:27:20
*/
(function(d,e){if(!(typeof localStorage===e||d.jQuery===e)){jQuery.noConflict();var b=jQuery;if(b.RJS_Helpers){var g=[];b(".switchObject").each(function(){var f=b(this).attr("id").match(/\d+/),a={switchobject:["switchObject","Str","[a-zA-Z0-9_\\-]{3,64}"],switchbutton:["switchButton","Str","[a-zA-Z0-9_\\-]{3,64}"],flagkey:["displayswitch","Str","[a-zA-Z0-9_\\-]{3,64}"]},d=b("#displaySwitchConfig"+f),a=b.RJS_Helpers.readAttr(d,a),c=b("#"+a.switchobject);if(1==c.length)g[f-1]=[a,c],a.flag=localStorage[a.flagkey],
(a.flag===e||""==a.flag?0:1==a.flag)||c.show(),c.find("."+a.switchbutton).click(function(){var a=b(this).attr("class").match(/\d+/);c=b("#switchObject"+a);c.animate({opacity:"0"},200,"linear",function(){b(this).animate({height:0},300,"linear",function(){c.remove();localStorage[g[a-1][0].flagkey]=1;var d=b("#displaySwitchConfig"+a).attr("msr");b('<img src="'+d+'">')})})}),f++})}}})(this);
/*
 Smartphone Ashiato 1.4.0
 Copyright(c) 2015 Rakuten.Inc
 Date: 2015-10-16 14:45:46
*/
(function(n,j){var e=n.jQuery;"function"!==typeof e||!e.RJS_Helpers||!e.fn.RJS_Slideshow||(new function(){var a=this;e.extend(a,{settings:{noready:[0,"Int","^[0-1]$"],maxitem:[3,"Int","^[1-9]$"],minitem:[1,"Int","^[1-9]$"],limititem:[0,"Range","0,99"],sid:["","Str","^[a-zA-Z0-9_\\-]{3,64}$"],pdtsckey:["","Str","^[a-zA-Z0-9_\\-]{3,64}$"],pdtscvalue:["","Str","^[a-zA-Z0-9_\\-]{3,64}$"],omitname:[20,"Range","0,100"],imagesize:["100x100","Str","^[1-9][0-9]{1,2}x[1-9][0-9]{1,2}$"],autoresize:[1,"Int",
"^[0-1]$"],impvar:["","Str","^[a-zA-Z0-9_]{3,64}$"],impdisp:["","Str","^[a-zA-Z0-9_]{3,64}$"],impnodisp:["","Str","^[a-zA-Z0-9_]{3,64}$"],jsonurl:["","Str","^https?://(?:[a-zA-Z0-9\\-]+\\.)+rakuten\\.co\\.jp/[a-zA-Z0-9!~_&='\\(\\)\\*\\?\\-\\.%/]+$"],ajaxtimer:[3,"Range","1,99"],slidespeed:[500,"Range","1,9999"],flickmove:[30,"Range","1,99"],nodisplaywords:["","Str","^.{1,256}$"],noslidewords:["","Str","^.{1,256}$"],noflickwords:["","Str","^.{1,256}$"],slide:[1,"Int","^[0-1]$"],flick:[1,"Int","^[0-1]$"],
disablebutton:[1,"Int","^[0-1]$"],noimageurl:["","Str","^https?://(?:[a-zA-Z0-9\\-]+\\.)+rakuten\\.co\\.jp/[a-zA-Z0-9!~_@&='\\(\\)\\*\\?\\-\\.%/]+$"],shoplogourl:["https://thumbnail.image.rakuten.co.jp/@0_mall/#SHOPURL#/logo/logo2#NOIMAGEFLAG#.jpg?_ex=280x140","Str","^https?://(?:[a-zA-Z0-9\\-]+\\.)+rakuten\\.co\\.jp/[a-zA-Z0-9!~_@&='\\(\\)\\*\\?\\-\\.#%/]+$"],shoplogo:[1,"Int","^[0-2]$"]},eobj:{config:e("#ashiatoConfig"),existItem:e("#ashiatoExistItemDisplay"),overMaxItem:e("#ashiatoOverMaxItemDisplay"),
prototypeItem:e("#prototypeAshiatoItem"),prevButton:e("#ashiatoPrevButton"),nextButton:e("#ashiatoNextButton"),loading:e("#ashiatoLoading"),altContents:e("#ashiatoAlteredContents"),itemsDisplay:e("#ashiatoItemsDisplay"),pageIndicators:e("#ashiatoPageIndicators"),toggleDel:e("#ashiatoToggleDel")},status:{error:!1,isTimeout:!1},props:{items:[],itemEvents:{remove:"#prototypeAshiatoRemove"},itemsIndex:{},removeBtnClass:".ashiatoRemoveBtn",itemPrototype:{html:"",height:0,width:0,identifiers:{itemurl:["",
"#ITEMURL#",""],imageurl:['<img class="lazyLoading lazyLoadingSize100" src="https://r.r10s.jp/com/img/home/t.gif" data-original="',"#ITEMIMGELE#",'" >'],itemname:["","#ITEMNAME#",""],itemprice:["","#ITEMPRICE#",""],shopid:["","#shopid#",""],itemid:["","#itemid#",""],Index:["","#index#",""],shopimage:["",/\#SHOPIMAGE\#/,""],shopimageclass:["",/\#SHOPIMAGECLASS\#/,""],shopurl:["",/\#SHOPURL\#/,""]}}},index:{items:{url:"itemurlfull",image:"imageurl",image64:"imageurl64",name:"itemname"},
products:{url:"url",image:"imagefilepath",image64:"",name:"productname"},origin:{url:"itemurl",image:"imageurl",name:"itemname",delUrl:"delurl"}},itemKey:{ITEM:"items",PRODUCT:"products",ITEMPDT:"itemproducts"},lazyload:{attrNameOriginal:"data-original",removeCssName:"lazyLoading lazyLoadingSize80 lazyLoadingSize100 lazyLoadingSize197",itemImages:[]},initialize:function(){a.loadSettings()?1===a.settings.noready?a.begin():e(function(){a.begin()}):a.displayDefaultContents()},loadSettings:function(){a.settings=
e.RJS_Helpers.readAttr(a.eobj.config,a.settings);if(""==a.settings.jsonurl)return!1;if(""!=a.settings.nodisplaywords){var b,c=a.settings.nodisplaywords.split(",");for(b in c)if(0<=navigator.userAgent.indexOf(c[b]))return!1}0!=a.settings.slidespeed&&(a.settings.slidespeed/=1E3);a.settings.ajaxtimer*=1E3;a.eobj.config.remove();return!0},begin:function(){a.getData();a.status.serror=!a.getPrototype()},createRecommendEvent:function(a){e.recommendPage.createRecommendEvent({item:a});return!1},getData:function(){function b(b){var c,
d,g,f,h,o,l,n,m,i,s,p,r;s=a.index.origin.name;p=a.index.origin.url;r=a.index.origin.image;if(a.status.isTimeout)return!1;if(b.code===j||b.num===j)return a.displayDefaultContents(),!1;if("1"==b.code||"8"==b.code)return a.displayDefaultContents(a.settings.impnodisp),!1;if("0"!=b.code)return a.displayDefaultContents(),!1;if(b.items!=j)i=a.itemKey.ITEM;else if(b.products!=j)i=a.itemKey.PRODUCT;else if(b.itemproducts!=j)i=a.itemKey.ITEMPDT;g=b[i].length;if(g<a.settings.minitem)return a.displayDefaultContents(a.settings.impnodisp),
!1;if(a.settings.limititem&&g>a.settings.limititem)b[i].splice(a.settings.limititem,g-a.settings.limititem),g=b[i].length;c=a.settings.imagesize;var q=g,u=0,v=function(){var b=this.width,c=this.item,d=this.i;a.props.items[d].shopimage=1>=b?c.shopname:'<img src="'+this.src+'" alt="'+c.shopname+'" title="'+c.shopname+'">';a.props.items[d].shopimageclass=1>=b?"ashiatoIchibaShopText":"ashiatoIchibaShopImage";if(++u===g)a.status.error?a.displayDefaultContents():(a.startSlideshow(),a.eobj.ashiatoButton=
a.eobj.itemsDisplay.find(".ashiato_button"),a.createRecommendEvent(a.props.items),a.regImpressionCode(a.settings.impdisp))};for(f=g-1;0<=f;f--)if(d=b[i][f],"undefined"!=typeof d.mobileflg&&"1"!==d.mobileflg)b[i].splice(f,1),g--;else{q--;if(i==a.itemKey.ITEM)h=a.itemKey.ITEM;else if(i==a.itemKey.PRODUCT)h=a.itemKey.PRODUCT;else if(i==a.itemKey.ITEMPDT)if("1"==d.ashiatoType)h=a.itemKey.ITEM;else if("4"==d.ashiatoType)h=a.itemKey.PRODUCT;m=a.index[h];o=m.url;l=m.image;n=m.image64;m=m.name;d.itemFullName=
d[m];d[s]=e.RJS_Helpers.omitStr(d[m],a.settings.omitname,"¡Ä");d[p]=d[o];if(h==a.itemKey.ITEM)d[r]=""!=d[l]?e.RJS_Helpers.urlParameter(d[l],{_ex:c}):d[n],""!=a.settings.sid&&(d[p]=e.RJS_Helpers.urlParameter(d[o],{"s-id":a.settings.sid},!1)),d.itemprice=(""+d.itemprice).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,");else if(h==a.itemKey.PRODUCT&&(d[r]="https://thumbnail.image.rakuten.co.jp/ran/img/"+e.RJS_Helpers.urlParameter(""!=d[l]?d[l]:"default/now_printing.jpg",{_ex:c}),""!=a.settings.pdtsckey&&""!=
a.settings.pdtscvalue))l={},l[a.settings.pdtsckey]=a.settings.pdtscvalue,d[p]=e.RJS_Helpers.urlParameter(d[o],l,!1);d.Index=q;a.props.itemsIndex[q]=q}a.props.items=b[i];c=[];for(f=g-1;0<=f;f--)d=b[i][f],c[f]=new Image,c[f].item=d,c[f].i=f,c[f].onload=c[f].onerror=v,2==a.settings.shoplogo?(c[f].width=1,c[f].onload()):c[f].src=a.settings.shoplogourl.replace("#SHOPURL#",d.shopurl).replace("#NOIMAGEFLAG#",1==a.settings.shoplogo?"n":"")}var c;a.status.isTimeout=!1;try{c=setTimeout(function(){a.status.isTimeout=
!0;a.displayDefaultContents()},a.settings.ajaxtimer),e.ajax({url:a.settings.jsonurl,cache:!1,dataType:"jsonp",scriptCharset:"euc-jp",timeout:a.settings.ajaxtimer,success:function(a){clearTimeout(c);b(a)},error:function(){a.displayDefaultContents();a.status.isTimeout=!0}})}catch(h){return a.displayDefaultContents(),!1}return!0},getPrototype:function(){var b=a.eobj.prototypeItem,c=a.props.itemPrototype;if(0==b.length)return!1;c.width=b.outerWidth();c.height=b.outerHeight();c.html=b.html();if(""==c.html)return!1;
b.remove();return!0},startSlideshow:function(){a.eobj.existItem.show();a.eobj.itemsDisplay.RJS_Slideshow(a,{settings:a.settings,itemPrototype:a.props.itemPrototype,eobj:a.eobj,items:a.props.items,itemEvents:a.props.itemEvents,events:{onItemRemove:a.deleteItem,onZeroItems:a.removeSlideShow,afterFirstRender:a.afterFirstRender,beforeFirstRender:a.beforeFirstRender}})},regImpressionCode:function(b){return n[a.settings.impvar]===j||""==b?"":n[a.settings.impvar]=b},calcViewItemNumber:function(){var b;b=
a.eobj.itemsDisplay.parent().width();b=Math.floor(b/a.props.itemPrototype.width);return b=Math.max(b,a.settings.maxitem)},calcCurrentPage:function(){var b,c;b=a.eobj.itemsDisplay.width();c=a.eobj.itemsDisplay.find("ul").css("transform").match(/(-?[0-9\.]+)/g)[4];return Math.abs(c/b)+1},getDisplayItemImages:function(){var b=a.calcCurrentPage(),c=a.calcViewItemNumber();1===b?b=0:(b=(b-1)*c,c=b+c);return a.eobj.itemsDisplay.find(".ichibaTopAshiatoItem").slice(b,c)},deleteItem:function(a,c){try{var h,
k,t=new Image,d,g=c.props.itemsIndex;h=c.getDisplayItemImages().find("img["+c.lazyload.attrNameOriginal+"]");c.doLazyload(h);k=g[a];t.src=c.props.items[k][c.index.origin.delUrl]+"&callback=?";c.props.items.splice(k,1);e.recommendPage.browsingHistoryItem=c.props.items;c.eobj.ashiatoButton.each(function(){var a=e(this),b=parseInt(a.attr("index"),10);b>k&&a.attr("index",b-1)});g[a]=null;for(var f in g)d=g[f],null!==d&&f>a&&(g[f]=d-1);return!0}catch(j){return!1}},onloadImage:function(b,c){b.removeAttr(a.lazyload.attrNameOriginal);
b.removeClass(a.lazyload.removeCssName);b.attr("src",c)},doLazyload:function(b){b.each(function(){var b=e(this),h=b.attr(a.lazyload.attrNameOriginal);if(h===j)return!0;if(""===h)return b.remove(),!0;var k=new Image;k.onload=function(){a.onloadImage(b,h)};k.onerror=function(){if(""===a.settings.noimageurl)b.remove();else{var e=new Image;e.onload=function(){a.onloadImage(b,a.settings.noimageurl)};e.onerror=function(){b.remove()};e.src=a.settings.noimageurl}};k.src=h});b=null},displayDefaultContents:function(b){a.eobj.loading.remove();
a.eobj.altContents.show();a.eobj.existItem.remove();b&&a.regImpressionCode(b)},afterFirstRender:function(a,c,e){c.props.items.length>a&&c.eobj.overMaxItem.show();var a=c.eobj.toggleDel.children(),k=a.eq(0),j=a.eq(1),d=!1;k.show();j.hide();c.eobj.toggleDel.click(function(a){e();c.eobj.itemsDisplay.find(c.props.removeBtnClass).toggle();k.toggle(d);j.toggle(!d);d=!d;a.preventDefault();return!1})},beforeFirstRender:function(a,c){c.eobj.loading.remove();c.eobj.itemsDisplay.show()},removeSlideShow:function(a){a.eobj.existItem.css("visibility",
"hidden").slideUp("fast",function(){e(this).remove()})}})}).initialize()})(this);
/*
 r-floating-search-1.0.0.js
 Copyright (c) 2017 Rakuten.Inc
 Date : 2017-08-31 05:38:46
*/
!function(e){function t(i){if(s[i])return s[i].exports;var n=s[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var s={};t.m=e,t.c=s,t.d=function(e,s,i){t.o(e,s)||Object.defineProperty(e,s,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(s,"a",s),s},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,s){"use strict";var i=s(1),n=function(e){return e&&e.__esModule?e:{default:e}}(i);new n.default},function(e,t,s){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}(),r=function(){function e(){i(this,e),this.body=document.body,this.html=document.querySelector("html"),this.wrap=document.getElementById("home"),this.searchForm=document.getElementById("myForm"),this.searchSubmit=document.getElementById("searchBtn"),this.searchBoxWrap=document.getElementById("r_search_box_wrap"),this.searchBox=document.getElementById("r_search_box"),this.searchInput=document.getElementById("sitem"),this.genre=document.getElementById("searchSelect"),this.cancel=document.getElementById("searchCancel"),this.bgLayer=document.createElement("div"),this.clearTextBtn=document.getElementById("clearVal"),this.historyList=void 0,this.suggest=void 0,this.bgLayer.id="r_search_box_bg",this.bgLayer.setAttribute("class","rSearchBgLayer"),this.searchBoxWrap.insertBefore(this.bgLayer,this.searchBox),this.genreSelect=document.getElementById("foo1"),this.events()}return n(e,[{key:"events",value:function(){var e=this;window.addEventListener("scroll",this.scrollHandler.bind(this)),this.searchInput.addEventListener("focus",this.focusHandler.bind(this)),this.searchInput.addEventListener("blur",this.blurHandler.bind(this)),this.bgLayer.addEventListener("click",this.blurHandler.bind(this)),this.searchSubmit.addEventListener("touchstart",function(){e.searchForm.submit()}),document.addEventListener("DOMContentLoaded",this.blurHandler.bind(this)),/iPhone/.test(window.navigator.userAgent)&&(this.genreSelect.addEventListener("focus",this.focusHandler.bind(this)),this.genreSelect.addEventListener("blur",this.blurHandler.bind(this)))}},{key:"additionalEvents",value:function(){var e=this;this.clearTextBtn.addEventListener("touchstart",function(){e.searchInput.value=""})}},{key:"scrollHandler",value:function(){var e=this;this.searchBoxWrap.getBoundingClientRect().top<0?this.searchBox.classList.add("is-fixed"):this.searchBox.classList.remove("is-fixed"),setTimeout(function(){e.setHistoryOffset("history"),e.setHistoryOffset("suggest")},1e3)}},{key:"setHistoryOffset",value:function(e){var t=e;switch(t){case"history":if(this.historyList||(this.historyList=document.getElementById("keywordHistoryContainer")),!this.historyList)return;t=this.historyList;break;case"suggest":if(this.suggest||(this.suggest=document.getElementById("suggest")),!this.suggest)return;t=this.suggest}var s={top:this.searchBox.getBoundingClientRect().height-10+"px",position:null,marginTop:0,zIndex:999};t.style.top=s.top,t.style.position=s.position,t.style.zIndex=s.zIndex}},{key:"setFixedHeight",value:function(){this.body.classList.add("is-fixedHeight"),this.html.classList.add("is-fixedHeight"),this.body.style.height=window.innerHeight+"px",this.html.style.height=window.innerHeight+"px"}},{key:"clearFixedHeight",value:function(){this.body.classList.remove("is-fixedHeight"),this.html.classList.remove("is-fixedHeight")}},{key:"focusHandler",value:function(){var e=this;this.cancel||(this.cancel=document.getElementById("searchCancel")),this.clearTextBtn||(this.clearTextBtn=document.getElementById("clearVal"),this.additionalEvents()),this.body.style.marginTop=-1*(this.searchBoxWrap.getBoundingClientRect().top+window.pageYOffset)+"px",this.searchBox.classList.add("is-focused"),setTimeout(function(){window.scrollTo(0,0)},100),setTimeout(function(){window.scrollTo(0,0)},300),this.genre.style.display="none",setTimeout(function(){e.cancel.style.display="block"},300),this.showBgLayer()}},{key:"blurHandler",value:function(){var e=this;this.clearTextBtn&&setTimeout(function(){e.clearTextBtn.style.display="none"},200),this.genre.style.display="block",this.cancel&&(this.cancel.style.display="none"),this.searchBox.classList.remove("is-focused"),this.clearFixedHeight(),this.hideBgLayer(),this.body.style.marginTop=0}},{key:"showBgLayer",value:function(){this.bgLayer.classList.add("is-show")}},{key:"hideBgLayer",value:function(){this.bgLayer.classList.remove("is-show")}}]),e}();t.default=r}]);
/*
 suggest-ipn-sd-hook1.0.1.min.js
*/
(function(){if("undefined"!=typeof jQuery){jQuery.noConflict();var b=jQuery,n=b("#sitem");b("#searchInput").click(function(){var a=n.offset().top-2;setTimeout(function(){window.scrollTo(0,a)},100)});RSuggestHook=function(){};RSuggestHook.prototype={blackList:[],postShow:function(){this.suggest.is(":visible")&&(this.ua&&this.ua.match(/android/i))&&(this.$body.css("-webkit-tap-highlight-color","rgba(255, 255, 255, 0)"),this.$searchSelect.attr("disabled","disabled"),this.$gotoExsearch.attr("disabled",
"disabled"),this.$gotoAsurakusearch.attr("disabled","disabled"),this.$gotoSortsearch.attr("disabled","disabled"))},hide:function(a){a&&0!=this.lastInput.length&&(this.input.val(this.backup),this.sggstSelectNum=-1,this.usingChar="");this.lastInput=this.input.val();this.ua&&this.ua.match(/android/i)&&(this.$body.css("-webkit-tap-highlight-color",""),this.$searchSelect.removeAttr("disabled"),this.$gotoExsearch.removeAttr("disabled"),this.$gotoAsurakusearch.removeAttr("disabled"),this.$gotoSortsearch.removeAttr("disabled"));
this.suggest.hide()},preInit:function(){var a=this;a.ajaxSearchTimeout=1E4;a.ajaxSubmitLogTimeout=3E3;a.afterWaitingforEventTimeout=100;a.justAddedToQueueTimeout=10;a.paramGenre="ge";a.paramGenreUse="gu";a.paramOutputFormat="of";a.paramSortLogic="sl";a.paramExParam="ex";a.suggestDivPos=b("body");a.maxRows=a.getValidIntValue(a.config.attr("maxRows"),10,0,30);a.maxAddGenreRows=a.getValidIntValue(a.config.attr("maxAddGenreRows"),1,0,10);a.maxEachGenreRows=a.getValidIntValue(a.config.attr("maxEachGenreRows"),
3,0,10);var e=a.config.attr("selectboxId");a.noGenreId=a.config.attr("noGenreId")||"0";a.genreSelectBox=b("undefined"!=typeof e&&0<e.length?"#"+e:[{value:a.noGenreId,isDummy:!0}]);if("undefined"==typeof a.genreSelectBox.val()||!a.genreSelectBox.attr("isDummy")&&0==a.genreSelectBox.find("option[value="+a.noGenreId+"]").length)return rsuggest.config=b(),!1;var d=a.config.attr("swgQuery")||"swg",c=a.config.attr("swgOutout")||"osgenre",f=a.config.attr("genreBoostQuery"),g=a.config.attr("genreBoostOutput")||
"osgenre",l=a.genreSelectBox.attr("name")||"g";a.genreSelectBox.getAddingQuery=function(){var b;this.val()==a.noGenreId?(b=rsuggest.paramSortLogic+"="+d,c&&(b+="&"+rsuggest.paramOutputFormat+"="+c)):(b=rsuggest.paramGenre+"="+this.val(),f&&(b+="&"+rsuggest.paramSortLogic+"="+f),g&&(b+="&"+rsuggest.paramOutputFormat+"="+g));return b};a.genreSelectBox.change(function(){a.respInput=""});a.genreSelectBox.setGenreId=function(){var c=rsuggest.getGenreId(),d=e+"_hidden_for_suggest";rsuggest.form.children("#"+
d).length&&rsuggest.form.children("#"+d).remove();this.val()==a.noGenreId&&0<c.length&&(rsuggest.genreHidden=b("<input />").attr("id",d).attr("name",l).attr("type","hidden").val(c),rsuggest.genreHidden.appendTo(rsuggest.form),this.isDummy||b(this).removeAttr("name"))};0==b("body[onunload]").length&&b(window).bind("unload",function(){});this.suggestDivPos=b("body");this.ua=navigator.userAgent;return!0},postInit:function(){var a=this;a.count=a.maxRows;a.form.bind("reset",function(){setTimeout(function(){a.genreSelectBox.val(a.noGenreId)},
a.afterWaitingforEventTimeout)});this.count=5;this.suggest.css({minHeight:"0px!important","z-index":"999"});this.$body=b("body");this.$searchSelect=b("#searchSelect").children("select");this.$gotoExsearch=b("#gotoExsearch");this.$gotoAsurakusearch=b("#gotoAsurakusearch");this.$gotoSortsearch=b("#gotoSortsearch")},getTextPos:function(){return this.input.offset()},getValidIntValue:function(a,b,d,c){a=isNaN(a)||0==a.length?b:parseInt(a);return a<d?d:a>c?c:a},getSelectText:function(a){a=a.clone();a.children("span").remove();
return a.text()},getGenreId:function(){var a=b("#suggest div:eq("+this.sggstSelectNum+"):not(."+this.cssNoSelect+") ."+this.cssKeyword+" span[key]");return a.length?a.attr("key"):""},createSuggestDiv:function(){var a=this;a.suggest=b("<div />").attr("id","suggest").hide().appendTo(a.suggestDivPos);for(var e=b("<div />").append(b("<div />").attr("class",a.cssNoSelect).append(b("<span />").attr("class",a.cssKeyword))),d="",c=0,f=a.maxRows;c<f;c++)d+=e.html();a.suggest.append(d);a.suggest.delegate("."+
a.cssKeyword,"mouseup",function(c){var e=b(this).text();1!=c.which||(rsuggest.mouseInput!=e||0==rsuggest.clickEnableFlag)||(rsuggest.over(b(this).text()),rsuggest.mouseState=2,rsuggest.input.blur(),e=a.getSelectText(b(this)),rsuggest.input.val(e),rsuggest.sggstSelectNum=rsuggest.index,rsuggest.usingChar=e,rsuggest.clickEnableFlag=0,rsuggest.decisionFlag=1,rsuggest.submitWay=2,setTimeout(function(){rsuggest.button.click()},a.justAddedToQueueTimeout),rsuggest.eventStop())});a.suggest.delegate("."+a.cssKeyword,
"mousedown",function(a){if(1!=a.which)rsuggest.input.blur();else return rsuggest.mouseInput=b(this).text(),rsuggest.mouseState=1,!1});a.suggest.delegate("."+a.cssKeyword,"mouseover",function(){rsuggest.over(b(this).text())});a.suggest.delegate("."+a.cssKeyword,"mouseout",function(){rsuggest.mouseState=0});a.suggest.delegate("."+a.cssKeyword,"mousemove",function(){rsuggest.mouseMove=1});a.remarks=b("<div />").attr("class",a.cssRemarks).append(b("<div />").attr("class",a.cssRemarksBox).append(b("<div />").attr("class",
a.cssComment).append(b("<div />").attr("class",a.cssBetaImg))))},search:function(){if(this.preSearch()&&0!=this.onoffInitFlag){var a=this.input.val();null==a||0==a.replace(this.spaceRegExp,"").length||null!=a.match(this.spaceRegExp)?(this.usingChar="",this.sggstSelectNum=-1,this.hide()):a!=this.lastInput&&(this.backup=this.lastInput=a,clearTimeout(this.ajaxEvent),this.ajaxEvent=setTimeout(function(){var a=rsuggest.lastInput.replace(rsuggest.spaceRegExp,"");if(0!=a.length){var b=rsuggest.config.attr(rsuggest.configCollection);
if(0!=b.length){var c=b+rsuggest.genreSelectBox.val();"undefined"==typeof rsuggest.resultArray[c]&&(rsuggest.resultArray[c]=[]);if("undefined"==typeof rsuggest.resultArray[c][a])try{var f=rsuggest.baseUrl+"/"+rsuggest.searchCommand+"?"+rsuggest.paramCollection+"="+b+"&"+rsuggest.paramReqid+"="+rsuggest.sggstReqid+"&"+rsuggest.paramSuggestid+"="+rsuggest.suggestId+"&"+rsuggest.paramInput+"="+encodeURIComponent(a)+"&"+rsuggest.paramEncoding+"="+rsuggest.encoding+"&"+rsuggest.genreSelectBox.getAddingQuery();
0!=rsuggest.exParam.length&&(f+="&"+rsuggest.exParam);rsuggest.read(f)}catch(g){}else rsuggest.show(rsuggest.resultArray[c][a],a,c)}}},this.justAddedToQueueTimeout),this.postSearch())}},read:function(a){try{var e=this.lastInput,d=this.encoding,c=this.config.attr(this.configCollection)+this.genreSelectBox.val();b.ajax({url:a,cache:!0,timeout:this.ajaxSearchTimeout,dataType:"jsonp",scriptCharset:d,jsonp:rsuggest.paramCallback,success:function(a){rsuggest.show(a,e,c)}})}catch(f){}},show:function(a,e,
d){var c=this;if(!c.preShow())return!1;if("object"!=typeof a[1]||"object"!=typeof a[2]||"object"!=typeof a[2][0]||"object"!=typeof a[2][1])c.maxIndex=0,c.hide();else if(0!=d.length&&"undefined"==typeof c.resultArray[d][e]&&(c.resultArray[d][e]=a),c.lastInput.replace(c.spaceRegExp,"")==e){var f=b.extend(!0,[],a),g=f[1].length;if(0==g)c.maxIndex=0,c.hide();else{g>c.count&&(g=c.count);c.suggest.children("."+c.cssRemarks).remove();c.index=-1;c.respInput=c.lastInput;var l=0,h=0,i=[""],m=0,n=0;c.suggest.children("."+
c.cssSelect).attr("class",c.cssNoSelect).end().children("."+c.cssNoSelect).each(function(a,e){if(h<g){var d=f[1][h],j=d,k=rsuggest.respInput.toLowerCase();0==d.indexOf(k)&&(j="<strong>"+c.escapeHtml(k)+"</strong>",j+=c.escapeHtml(d.replace(k,"")));"undefined"!=typeof f[2][0][h]&&0!=f[2][0][h].length&&(i=f[2][0][h].slice(0),i.unshift(""),f[2][0][h].length=0);d=i.shift();k=f[2][1][d]||" ";""!=d&&(j+='<br><span key="'+d+'">/'+k+"</span>",m++);if(m>=c.maxEachGenreRows||h>=c.maxAddGenreRows)i.length=0;
0==i.length&&(h++,0<m&&n++,m=0,i=[""]);b(e).show().children("."+rsuggest.cssKeyword).html(j);l++}else b(e).hide()});c.maxIndex=l;c.suggest.append(c.remarks);c.mouseMove=0;setTimeout(function(){rsuggest.mouseMove=1},c.afterWaitingforEventTimeout);1==c.onoff&&c.suggest.show();c.postShow()}}},select:function(a){var b=this.suggest.children("."+this.cssSelect).attr("class",this.cssNoSelect).end().children("."+this.cssNoSelect).eq(this.index);-1!=this.index&&b.attr("class",this.cssSelect);a&&(a="",-1>=
this.index||this.index>=this.maxIndex?(a=this.backup,this.usingChar="",this.sggstSelectNum=-1):(b=b.children("."+this.cssKeyword),this.usingChar=a=this.getSelectText(b),this.sggstSelectNum=this.index),this.input.val(a),this.lastInput=a)},preJump:function(){rsuggest.genreSelectBox.setGenreId();return!0},sendSubmitLog:function(a){var e=this.config.attr(this.configCollection);if(0!=e.length){var d=this.input.val().replace(this.spaceRegExp,""),a=this.baseUrl+"/"+this.submitLogCommand+"?"+this.paramSuggestid+
"="+this.suggestId+"&"+this.paramCollection+"="+e+"&"+this.paramReqid+"="+this.sggstReqid+"&"+this.paramSuggestOnOff+"="+this.onoff+"&"+this.paramSelectNum+"="+this.sggstSelectNum+"&"+this.paramSelect+"="+encodeURIComponent(this.usingChar)+"&"+this.paramSuggestUse+"="+a+"&"+this.paramSubmitWay+"="+this.submitWay+"&"+this.paramInput+"="+encodeURIComponent(d)+"&"+this.paramGenre+"="+this.genreSelectBox.val()+"&"+this.paramGenreUse+"="+("undefined"==typeof this.genreHidden?"0":this.genreHidden.val());
1==this.sendFormParam&&(a+="&"+this.paramFormParam+"="+encodeURIComponent(this.form.serialize()));0!=this.exParam.length&&(a+="&"+this.paramExParam+"="+encodeURIComponent(this.exParam));try{b.ajax({url:a,cache:!0,timeout:this.ajaxSubmitLogTimeout,async:!1,dataType:!b.browser.msie?"json":"jsonp",scriptCharset:this.encoding})}catch(c){}}}}}})();
/*
 suggest.js 2.0.1
 Copyright (c) 2012 Rakuten.Inc
 Date : 2012-11-16 11:05:00
*/
(function(){if("undefined"!=typeof jQuery){jQuery.noConflict();var e=jQuery,f=function(){};f.prototype={resultArray:[],backup:"",lastInput:"",respInput:null,sggstSelectNum:-1,usingChar:"",mouseInput:null,mouseState:0,mouseMove:0,mouseOver:0,enterFlag:1,keyCode:null,currentFontSize:null,maxIndex:0,index:-1,clickEnableFlag:1,IeVersion:0,viewEvent:null,ajaxEvent:null,suggestDivPos:null,onoff:1,onoffInitFlag:0,onElem:null,offElem:null,decisionFlag:0,scVal:0,submitWay:0,blackList:["iphone","ipod","ipad",
"android"],onOffBlackList:[],spaceRegExp:RegExp("^[\\s"+unescape("\u3000")+"]+"),preInit:function(){this.suggestDivPos=this.input.parent();return!0},postInit:function(){},checkBoolNum:function(a){return"undefined"!=typeof a&&0!=a.length&&(0==a||1==a)?a:""},escapeHtml:function(a){return e("<div/>").text(a).html()},initFailure:function(){rsuggest.input.attr("autocomplete","")},createSuggestDiv:function(){this.suggest=e("<div />").attr("id","suggest").hide().appendTo(this.suggestDivPos);for(var a=e("<div />").append(e("<div />").attr("class",
this.cssNoSelect).append(e("<span />").attr("class",this.cssKeyword))),d="",c=0,b=this.count;c<b;c++)d+=a.html();this.suggest.append(d);this.suggest.delegate("."+this.cssKeyword,"mouseup",function(a){var b=e(this).text();1!=a.which||(rsuggest.mouseInput!=b||0==rsuggest.clickEnableFlag)||(rsuggest.mouseState=2,rsuggest.input.blur(),rsuggest.input.val(b),rsuggest.sggstSelectNum=rsuggest.index,rsuggest.usingChar=b,rsuggest.clickEnableFlag=0,rsuggest.decisionFlag=1,rsuggest.submitWay=2,setTimeout(function(){rsuggest.button.click()},
10),rsuggest.eventStop())});this.suggest.delegate("."+this.cssKeyword,"mousedown",function(a){if(1!=a.which)rsuggest.input.blur();else return rsuggest.mouseInput=e(this).text(),rsuggest.mouseState=1,!1});this.suggest.delegate("."+this.cssKeyword,"mouseover",function(){rsuggest.over(e(this).text())});this.suggest.delegate("."+this.cssKeyword,"mouseout",function(){rsuggest.mouseState=0});this.suggest.delegate("."+this.cssKeyword,"mousemove",function(){rsuggest.mouseMove=1});this.remarks=e("<div />").attr("class",
this.cssRemarks).append(e("<div />").attr("class",this.cssRemarksBox).append(e("<div />").attr("class",this.cssComment).append(e("<div />").attr("class",this.cssBetaImg))))},preSearch:function(){return!0},search:function(){if(this.preSearch()&&0!=this.onoffInitFlag){var a=this.input.val();null==a||0==a.replace(this.spaceRegExp,"").length||null!=a.match(this.spaceRegExp)?(this.usingChar="",this.sggstSelectNum=-1,this.hide()):a!=this.lastInput&&(this.backup=this.lastInput=a,clearTimeout(this.ajaxEvent),
this.ajaxEvent=setTimeout(function(){var a=rsuggest.lastInput.replace(rsuggest.spaceRegExp,"");if(0!=a.length){var c=rsuggest.config.attr(rsuggest.configCollection);if(0!=c.length)if("undefined"==typeof rsuggest.resultArray[c]&&(rsuggest.resultArray[c]=[]),"undefined"==typeof rsuggest.resultArray[c][a])try{var b=rsuggest.baseUrl+"/"+rsuggest.searchCommand+"?"+rsuggest.paramCollection+"="+c+"&"+rsuggest.paramReqid+"="+rsuggest.sggstReqid+"&"+rsuggest.paramSuggestid+"="+rsuggest.suggestId+"&"+rsuggest.paramInput+
"="+encodeURIComponent(a)+"&"+rsuggest.paramEncoding+"="+rsuggest.encoding;0!=rsuggest.exParam.length&&(b+="&"+rsuggest.exParam);rsuggest.read(b)}catch(e){}else rsuggest.show(rsuggest.resultArray[c][a],a,c)}},10),this.postSearch())}},postSearch:function(){},read:function(a){try{var d=this.lastInput,c=this.encoding,b=this.config.attr(this.configCollection);e.ajax({url:a,cache:!0,timeout:1E4,dataType:"jsonp",scriptCharset:c,jsonp:rsuggest.paramCallback,success:function(a){rsuggest.show(a,d,b)}})}catch(g){}},
eventStart:function(){clearInterval(this.viewEvent);this.clickEnableFlag=!0;this.decisionFlag=!1;this.viewEvent=setInterval(function(){rsuggest.nowFontSize=e("html").css("font-size");rsuggest.currentFontSize!=rsuggest.nowFontSize&&(rsuggest.currentFontSize=rsuggest.nowFontSize,rsuggest.resize());rsuggest.controlOnElem();rsuggest.search()},100)},eventStop:function(){clearInterval(this.viewEvent);setTimeout(function(){rsuggest.hide()},200)},preShow:function(){return!0},show:function(a,d,c){var b=this;
if(!b.preShow())return!1;if("undefined"==typeof a.result||"undefined"==typeof a.status||0!=a.status)b.maxIndex=0,b.hide();else if(0!=c.length&&"undefined"==typeof b.resultArray[c][d]&&(b.resultArray[c][d]=a),b.lastInput.replace(b.spaceRegExp,"")==d){var g=a.result.length;0==g?(b.maxIndex=0,b.hide()):(g>b.count&&(g=b.count),b.maxIndex=g,b.suggest.children("."+b.cssRemarks).remove(),b.index=-1,b.respInput=b.lastInput,b.suggest.children("."+b.cssSelect).attr("class",b.cssNoSelect).end().children("."+
b.cssNoSelect).each(function(c,d){if(c<g){var f=a.result[c][0],h=rsuggest.respInput.toLowerCase();if(0==f.indexOf(h)){var i="<strong>"+b.escapeHtml(h)+"</strong>",i=i+b.escapeHtml(f.replace(h,""));e(d).show().children("."+rsuggest.cssKeyword).html(i)}else e(d).show().children("."+rsuggest.cssKeyword).text(f)}else e(d).hide()}),b.suggest.append(b.remarks),b.mouseMove=0,setTimeout(function(){rsuggest.mouseMove=1},100),1==b.onoff&&b.suggest.show(),b.postShow())}},postShow:function(){},hide:function(a){a&&
0!=this.lastInput.length&&(this.input.val(this.backup),this.sggstSelectNum=-1,this.usingChar="");this.lastInput=this.input.val();this.suggest.hide()},select:function(a){var d=this.suggest.children("."+this.cssSelect).attr("class",this.cssNoSelect).end().children("."+this.cssNoSelect).eq(this.index);-1!=this.index&&d.attr("class",this.cssSelect);a&&(a="",-1>=this.index||this.index>=this.maxIndex?(a=this.backup,this.usingChar="",this.sggstSelectNum=-1):(this.usingChar=a=d.children("."+this.cssKeyword).text(),
this.sggstSelectNum=this.index),this.input.val(a),this.lastInput=a)},up:function(){0==this.maxIndex||(0==this.lastInput.length||0==this.config.attr(this.configCollection).length)||(-1>=this.index&&(this.index=this.maxIndex),this.suggest.is(":visible")?(this.index--,this.select(1)):this.respInput==this.lastInput&&1==this.onoff&&(this.select(),this.suggest.show()))},down:function(){0==this.maxIndex||(0==this.lastInput.length||0==this.config.attr(this.configCollection).length)||(this.index>=this.maxIndex&&
(this.index=-1),this.suggest.is(":visible")?(this.index++,this.select(1)):this.respInput==this.lastInput&&1==this.onoff&&(this.select(),this.suggest.show()))},over:function(a){var d=-1;this.suggest.children("."+this.cssSelect).attr("class",this.cssNoSelect).end().children("."+this.cssNoSelect).each(function(b,c){if(a==e(c).text())return d=b,!1});var c=1==this.keywordReplaceOnMouseover&&1==this.mouseMove;c&&(this.mouseOver=1,this.input.blur(),this.input.focus());this.index=d;this.select(c);setTimeout(function(){rsuggest.mouseOver=
0},50)},preJump:function(){return!0},jump:function(){if(this.preJump()){var a=this.isUse();this.scVal=1==this.decisionFlag?a:0;this.sendSubmitLog(a)}},sendSubmitLog:function(a){var d=this.config.attr(this.configCollection);if(0!=d.length){var c=this.input.val().replace(this.spaceRegExp,""),a=this.baseUrl+"/"+this.submitLogCommand+"?"+this.paramSuggestid+"="+this.suggestId+"&"+this.paramCollection+"="+d+"&"+this.paramReqid+"="+this.sggstReqid+"&"+this.paramSuggestOnOff+"="+this.onoff+"&"+this.paramSelectNum+
"="+this.sggstSelectNum+"&"+this.paramSelect+"="+encodeURIComponent(this.usingChar)+"&"+this.paramSuggestUse+"="+a+"&"+this.paramSubmitWay+"="+this.submitWay+"&"+this.paramInput+"="+encodeURIComponent(c);1==this.sendFormParam&&(a+="&"+this.paramFormParam+"="+encodeURIComponent(this.form.serialize()));0!=this.exParam.length&&(a+="&"+this.paramExParam+"="+encodeURIComponent(this.exParam));try{var b=this.encoding;this.config.attr(this.configCollection);e.ajax({url:a,cache:!0,timeout:3E3,async:!1,dataType:!e.browser.msie?
"json":"jsonp",scriptCharset:b,jsonp:rsuggest.paramCallback,success:function(){}})}catch(g){}}},isUse:function(){return 0!=this.usingChar.length&&0==this.input.val().indexOf(this.usingChar)?1:0},judge:function(){for(var a=this,d=navigator.userAgent.toLowerCase(),c=0;c<a.blackList.length;c++){var b=a.blackList[c];if(0!=b.length&&(b=RegExp("("+b+")"),null!=b.exec(d)))return-1}if(0!=a.addBlackList.length)for(var g=a.addBlackList.split(","),c=0;c<g.length;c++)if(b=g[c],0!=b.length&&-1!=d.indexOf(b))return-1;
e.browser.msie&&(a=this,c=e.browser.version,5<c&&7>c?a.IeVersion=6:6<c&&8>c&&(a.IeVersion=7));6==a.IeVersion&&(rsuggest.onoffEnable=0);for(c=0;c<a.onOffBlackList.length;c++)if(b=a.onOffBlackList[c],0!=b.length&&(b=RegExp("("+b+")"),null!=b.exec(d))){rsuggest.onoffEnable=0;break}return a.IeVersion},preResize:function(){return!0},resize:function(){if(this.preResize()){var a=this.getTextPos(),d;7==this.IeVersion&&(a=this.getIe7TextPos(a));d=a.top;var a=a.left,c=Math.ceil(this.input.outerHeight());this.suggest.css({top:d+
c,left:a});this.changeSuggestWidth();this.postResize()}},postResize:function(){},getTextPos:function(){return this.input.position()},getIe7TextPos:function(a){var d=[],c=document.body,b=c.getBoundingClientRect(),e=(b.right-b.left)/c.offsetWidth;d.top=Math.ceil(a.top/((b.bottom-b.top)/c.offsetHeight));d.left=Math.ceil(a.left/e);return d},changeSuggestWidth:function(){var a=this.input.outerWidth(),d=this.suggest.outerWidth();a!=d&&(this.suggest.css({width:a}),d=this.suggest.find("."+this.cssKeyword),
d.css({width:a-parseInt(d.css("paddingLeft"))-parseInt(d.css("paddingRight"))}))},onoffReady:function(){1==this.onoffEnable?(this.createOnElm(),this.createOffElm(),this.checkCookie()):this.setInitOnoffNum(1)},checkCookie:function(){e.ajax({type:"GET",url:this.baseUrl+"/"+this.cookieCommand+"?"+this.paramGroupId+"="+this.groupId+"&"+this.paramCookieMethod+"="+this.paramCookieCheck,dataType:"jsonp",timeout:500,jsonp:rsuggest.paramCallback,success:function(a){a=a.result;if("undefined"!=typeof a&&(0==
a||1==a))rsuggest.setInitOnoffNum(0==a?1:0)}});setTimeout(function(){rsuggest.setInitOnoffNum(1)},1E3)},setInitOnoffNum:function(a){1!=this.onoffInitFlag&&(this.onoff=a,this.onoffInitFlag=1,this.displayOnoff())},createOnElm:function(){this.onElem=e("<div />").hide().attr({"class":this.cssOn,title:this.openToolTips}).click(function(){rsuggest.setOnoffNum(1);rsuggest.input.focus();setTimeout(function(){rsuggest.lastInput=""},120)});this.input.after(this.onElem)},createOffElm:function(){this.offElem=
e("<div />").attr({"class":this.cssOff,title:this.hideToolTips}).append(e("<span />").attr("class",this.cssOffImage));this.remarks.children().append(this.offElem);this.suggest.delegate("."+this.cssOff,"mousedown",function(a){if(1!=a.which)rsuggest.input.blur();else return rsuggest.mouseState=1,rsuggest.setOnoffNum(0),rsuggest.input.blur(),!1});this.suggest.delegate("."+this.cssOff,"mouseout",function(){rsuggest.mouseState=0})},setOnoffNum:function(a){this.onoff=a;this.setCookie(a);this.displayOnoff()},
setCookie:function(a){e.ajax({type:"GET",url:this.baseUrl+"/"+this.cookieCommand+"?"+this.paramGroupId+"="+this.groupId+"&"+this.paramCookieMethod+"="+(1==a?this.paramCookieDelete:this.paramCookieAdd),dataType:"jsonp",timeout:500,jsonp:rsuggest.paramCallback,success:function(){}})},displayOnoff:function(){1==this.onoffEnable&&(1==this.onoff?(this.onElem.hide(),this.resize(),this.input.attr("autocomplete","off")):(this.resize(),this.input.attr("autocomplete",""),this.controlOnElem(),rsuggest.suggest.hide()))},
controlOnElem:function(){1!=this.onoffEnable||(0!=this.onoff||0==this.byteNumToHideOpenSggst)||(1==this.isByteLengthOver(this.input.val(),this.byteNumToHideOpenSggst)?this.onElem.hide():this.onElem.is(":visible")||this.onElem.show())},isSuggestUse:function(){return"undefined"!=typeof this.scVal&&1==this.scVal},isByteLengthOver:function(a,d){if(void 0===a)return 0;var c=0,b="",e=a.length,f;for(f=0;f<e;f++)if(b=escape(a.charAt(f)),c+=4>b.length&&!/%[0|1|8-9|A-F]\w|%7F/.test(b)?1:2,c>d)return 1;return 0}};
"undefined"!==typeof RSuggestHook&&e.extend(f.prototype,RSuggestHook.prototype);rsuggest=new f;rsuggest.config=e("#sggstConfig");rsuggest.input=e("#"+rsuggest.config.attr("input"));rsuggest.input.attr("autocomplete","off");e(document).ready(function(){rsuggest.preInit()||rsuggest.initFailure();rsuggest.form=e("#"+rsuggest.config.attr("form"));rsuggest.baseUrl=rsuggest.config.attr("baseUrl")||"";rsuggest.button=e("#"+rsuggest.config.attr("button"));rsuggest.suggestId=rsuggest.config.attr("suggestId")||
"";rsuggest.encoding=rsuggest.config.attr("encoding")||"";rsuggest.exParam=rsuggest.config.attr("exParam")||"";rsuggest.groupId=rsuggest.config.attr("groupId")||"";rsuggest.sendFormParam=rsuggest.checkBoolNum(rsuggest.config.attr("sendFormParam"))||1;rsuggest.onoffEnable=rsuggest.checkBoolNum(rsuggest.config.attr("onoff"))||1;rsuggest.keywordReplaceOnMouseover=rsuggest.checkBoolNum(rsuggest.config.attr("keywordReplaceOnMouseover"))||0;rsuggest.hookRequired=rsuggest.checkBoolNum(rsuggest.config.attr("hookRequired"))||
0;rsuggest.addBlackList=rsuggest.config.attr("uaBlackList")||"";var a=rsuggest.config.attr("byteNumToHideOpenSggst")||0;rsuggest.byteNumToHideOpenSggst=isNaN(a)||1>parseInt(a)?0:a;rsuggest.nowFontSize=e("html").css("font-size");rsuggest.hideToolTips=rsuggest.config.attr("hideToolTips")||"";rsuggest.openToolTips=rsuggest.config.attr("openToolTips")||"";if(0==rsuggest.input.length||0==rsuggest.form.length||0==rsuggest.baseUrl.length||0==rsuggest.button.length||0==rsuggest.suggestId.length||0==rsuggest.encoding.length||
0==rsuggest.groupId.length||0==rsuggest.sendFormParam.length||0==rsuggest.onoffEnable.length||0==rsuggest.keywordReplaceOnMouseover.length||0==rsuggest.hookRequired.length||-1==rsuggest.judge()||1!=rsuggest.input.parent(".sggstInputWrap").length||1==rsuggest.hookRequired&&"undefined"==typeof RSuggestHook){try{rsuggest.initFailure()}catch(d){}return!1}rsuggest.count=10;rsuggest.cssSelect="sggstSelect";rsuggest.cssNoSelect="sggstNoselect";rsuggest.cssKeyword="sggstKeyword";rsuggest.cssOnoff="sggstOnoff";
rsuggest.cssOffImage="sggstHideimg";rsuggest.cssOnImage="sggstOpenimg";rsuggest.cssRemarks="sggstComment";rsuggest.cssRemarksBox="sggstCommentbox";rsuggest.cssComment="sggstBetabtn01";rsuggest.cssBetaImg="betaimg";rsuggest.cssOff="sggstBetabtn02";rsuggest.cssOn="openSuggest";rsuggest.configCollection="col";rsuggest.paramInput="q";rsuggest.paramCollection="cl";rsuggest.paramSuggestid="sid";rsuggest.paramSuggestUse="su";rsuggest.paramSelectNum="sn";rsuggest.paramSuggestOnOff="so";rsuggest.paramFormParam=
"fp";rsuggest.paramReqid="rid";rsuggest.sggstReqid=Math.floor(1E10*Math.random());rsuggest.paramEncoding="oe";rsuggest.paramSelect="ss";rsuggest.sggstSelect="";rsuggest.searchCommand="suggest";rsuggest.submitLogCommand="submit";rsuggest.cookieCommand="conf";rsuggest.paramGroupId="gi";rsuggest.paramCookieMethod="mt";rsuggest.paramCookieCheck="c";rsuggest.paramCookieAdd="a";rsuggest.paramCookieDelete="d";rsuggest.paramSubmitWay="sw";rsuggest.paramCallback="cb";rsuggest.paramExParam="ex";rsuggest.createSuggestDiv();
rsuggest.onoffReady();rsuggest.resize();e(window).resize(function(){rsuggest.resize()});rsuggest.input.keydown(function(a){rsuggest.enterFlag=0;rsuggest.keyCode=a.keyCode;switch(a.keyCode){case 40:rsuggest.down();break;case 38:rsuggest.up();break;case 9:rsuggest.hide()}}).keypress(function(a){rsuggest.keyCode=a.keyCode;rsuggest.enterFlag=1;switch(a.keyCode){case 27:return 27==rsuggest.keyCode&&rsuggest.hide(!0),!1;case 13:return 13==rsuggest.keyCode&&(1==rsuggest.enterFlag&&1==rsuggest.clickEnableFlag)&&
(rsuggest.clickEnableFlag=0,rsuggest.decisionFlag=1,rsuggest.submitWay=1,setTimeout(function(){rsuggest.button.click()},10),rsuggest.eventStop()),!1}}).keyup(function(a){switch(a.keyCode){case 27:return 27==rsuggest.keyCode&&rsuggest.hide(!0),!1;case 13:return 13==rsuggest.keyCode&&(1==rsuggest.enterFlag&&1==rsuggest.clickEnableFlag)&&(rsuggest.clickEnableFlag=0,rsuggest.decisionFlag=1,rsuggest.submitWay=1,setTimeout(function(){rsuggest.button.click()},10),rsuggest.eventStop()),!1}}).focus(function(){rsuggest.lastInput=
rsuggest.input.val();0==rsuggest.mouseOver&&(rsuggest.backup=rsuggest.input.val());rsuggest.eventStart()}).blur(function(){0==rsuggest.mouseState&&0==rsuggest.mouseOver?rsuggest.eventStop():(1==rsuggest.mouseState||1==rsuggest.mouseOver)&&rsuggest.input.focus();rsuggest.mouseState=0}).mouseover(function(){1==rsuggest.keywordReplaceOnMouseover&&(rsuggest.suggest.is(":visible")&&-1!=rsuggest.index&&0!=rsuggest.backup.length&&rsuggest.lastInput==rsuggest.input.val())&&(rsuggest.input.val(rsuggest.backup),
rsuggest.sggstSelectNum=-1,rsuggest.usingChar="")}).attr("maxlength",2048);rsuggest.button.click(function(){try{rsuggest.jump()}catch(a){}return!0});document.activeElement.id==rsuggest.input.attr("id")&&(rsuggest.input.blur(),rsuggest.input.focus());rsuggest.postInit()})}})();
/*
 smt_keyword_history-1.0.0.js
 Copyright (c) 2016 Rakuten.Inc
 Date : 2016-05-10 15:05:09
*/
"function"===typeof window.jQuery&&window.jQuery(function(a){if(!(0<=navigator.userAgent.indexOf("Android 2."))){var b=a("input.clearValueButton");if(0!=b.length){var m=b.outerHeight(),e=a("<span>").css({display:"block",position:"relative"});/iPhone|iPod|iPad/.test(navigator.userAgent)&&e.css("overflow","hidden");b.wrap(e);var c=a("<div>").css({width:m+"px",height:m+"px"}).attr("id","clearVal").append(a("<img>").attr("src","https://r.r10s.jp/com/inc/home/20080930/ris/img/xicon.svg")).hide();
b.after(c);c.toggle(""!==b.val());c.on("touchstart",function(){c.attr("data-button-touched","1")}).on("click",function(){b.val("");c.hide();c.attr("data-button-touched","")});var d;b.on("focus",function(){d=setInterval(function(){c.toggle(""!==b.val())},300)}).on("blur",function(){c.toggle(""!==b.val());clearInterval(d)})}}});
"function"===typeof window.jQuery&&window.jQuery(function(a){if(!(0<=navigator.userAgent.indexOf("Android 2."))){0<=navigator.userAgent.indexOf("iPhone OS 8_")&&a("#searchInput").off("click");var b=a("#sitem"),m=a("#clearVal"),e=a("#searchInput"),c=a(".floatingSearchWrap"),d=a(window),i=a("#keywordHistoryConfig"),s=+i.attr("data-maxnum"),t=+i.attr("data-delete-dialog"),u=+i.attr("data-fixed-height"),v=i.attr("data-cancel-text"),w=i.attr("data-api-url"),j=a("<ul>").attr("id","keywordHistory"),f=a("<div>").attr("id",
"keywordHistoryContainer").append(j),k=a("<div>").attr("id","searchCancel").html(v||"¥­¥ã¥ó¥»¥ë").on("click",function(){b.val("");m.hide();b.blur()});e.after(k.hide());var x=a("#keywordHistoryTemplateTitle").html(),y=a("#keywordHistoryTemplateItem").html(),z=a("#keywordHistoryTemplateDelete").html(),e=a("#keywordHistoryTemplateDialog").html();a("body").append(f).append(a(e).hide());var n=a("#keywordHistoryDialogBack"),l=a("#keywordHistoryDialog"),A=a("#keywordHistoryDialogOK"),B=a("#keywordHistoryDialogCancel"),
g=null,o=null,p=null,C=function(){if(0==g.length)return"";var a;a=""+(x||"");for(var b="",c=0;g.length>c;c++){var h=g[c],d=h.genres[h.genres.length-1];a+=y.replace(/#ID#/g,c+1).replace(/#KEYWORD#/g,h.keyword).replace(/#URL#/g,h.searchurlfull).replace(/#GENRENAME#/g,0===d.genre?"":d.genrename);b+=0==c?h.delurl:"&"+h.delurl.split("&").pop()}return a+=(z||"").replace(/#URL#/g,b)},q=function(){f.hide();k.hide();n.hide();l.hide();d.off("resize.keywordHistoryDialog")},D=function(a){d.on("resize.keywordHistoryDialog",
function(){var a=d.width(),b=d.height();n.css({width:a,height:2*b});l.css({left:0.5*(a-l.width()),top:0.3*(b-l.height())})}).trigger("resize");n.show();l.show();A.one("click",function(){a();q()});B.one("click",q)},r=function(){k.css("display","inline-block");j.html(C());var d=j.children("li");1===u||j.height(Math.min(j.height(),d.length*d.outerHeight()));var e=a("#keywordHistoryDelete");e.on("click",function(a){var b=function(){(new Image).src=e.attr("href");g=null};1===t?(clearTimeout(p),D(b)):b();
a.preventDefault();return!1});f.css("top",b.offset().top+b.outerHeight()+"px");o=setInterval(function(){f.toggle(""===b.val()&&c.is(":hidden"))},100)};b.on("focus",function(){null!=g?r():a.ajax({url:w||"https://ashiato.rakuten.co.jp/rms/sd/ashiato/vc?k=2&act=6&sid=51",dataType:"jsonp",scriptCharset:"euc-jp",success:function(b){b&&a.isArray(b.searchs)&&0===b.code&&(g=b.searchs.slice(0,s||b.searchs.length),r())}})}).on("blur",function(){clearInterval(o);a("#clearVal").attr("data-button-touched")&&k.is(":visible")&&
f.is(":hidden")?b.focus():p=setTimeout(function(){f.hide();k.hide()},100)});a(window).on("resize",function(){f.css("top",b.offset().top+b.outerHeight()+"px")})}});

/*
 r-hamburger-1.0.0.js
 Copyright (c) 2017 Rakuten.Inc
 Date : 2017-09-05 02:08:23
*/
!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(){i(this,e),this.d=document,this.root=document.querySelectorAll("html, body"),this.openBtn=this.d.querySelector("#hamburger_btn"),this.wrapper=this.d.querySelector("#hamburger_nav"),this.inner=this.d.querySelector("#hamburger_inner"),this.bgWrap=this.d.querySelector(".hamburgerBg"),this.bgInner=this.d.querySelector(".hamburgerBg__inner"),this.windowHeight=window.innerHeight,this.closeBtn=this.d.querySelector(".hamburgerNav__close"),this.closeBtnBottom=this.d.querySelector(".hamburgerNav__closeBottom"),this.events()}return r(e,[{key:"events",value:function(){this.openBtn.addEventListener("click",this.open.bind(this,"openBtn")),this.bgWrap.addEventListener("click",this.close.bind(this,"bgWrap")),this.closeBtn.addEventListener("click",this.close.bind(this,"closeBtn")),this.closeBtnBottom.addEventListener("click",this.close.bind(this,"closeBtnBottom")),window.addEventListener("resize",this.resizeHandler.bind(this))}},{key:"open",value:function(e){var t=this;this.bgWrap.classList.add("is-open"),this.setHeight(),this.wrapper.classList.add("is-open");for(var n=0,i=this.root.length;n<i;n++)this.root[n].classList.add("is-rootFixed");setTimeout(function(){t.bgInner.classList.add("is-open"),t.inner.classList.add("is-open")},100),this.sendRat(e)}},{key:"close",value:function(e){var t=this;this.bgInner.classList.remove("is-open"),this.inner.classList.remove("is-open");for(var n=0,i=this.root.length;n<i;n++)this.root[n].classList.remove("is-rootFixed");setTimeout(function(){t.wrapper.classList.remove("is-open"),t.bgWrap.classList.remove("is-open"),t.inner.style.height=null,t.bgWrap.style.height=null},210),this.sendRat(e)}},{key:"resizeHandler",value:function(){this.windowHeight!==window.innerHeight&&(this.windowHeight=window.innerHeight,this.setHeight())}},{key:"setHeight",value:function(){this.bgWrap.style.height=window.innerHeight+"px",this.inner.style.height=window.innerHeight+"px"}},{key:"sendRat",value:function(e){"object"===("undefined"==typeof Rmodules?"undefined":o(Rmodules))&&Rmodules.define(["R^1"],function(t){var n={accountId:1,serviceId:1,eventType:"click"};switch(n.pData={pgn:"top",pgl:"sp"},n.cpData={widget:"hamburger"},n.options=["url","ua"],e){case"openBtn":n.cpData.page_layer="none",n.cpData.action="open";break;case"closeBtn":n.cpData.page_layer="popup",n.cpData.action="close_x";break;case"closeBtnBottom":n.cpData.page_layer="popup",n.cpData.action="close_text";break;case"bgWrap":n.cpData.page_layer="popup",n.cpData.action="close_blank"}t.sendToRat(n)})}}]),e}();t.default=s},function(e,t,n){"use strict";var i=n(0);new(function(e){return e&&e.__esModule?e:{default:e}}(i).default)}]);
