this["@ali/lib-smartbanner-plus-loader"]=function(e){function t(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.bizKey||Z(e.bizKey))return Q.onError({code:"1001",msg:"`bizKey` not Found or in bizKey env",eventName:"init"});if(H)return Q.onError({code:"1010",msg:"alipayMiniProgram dont load mtop",eventName:"init"});window.smbBizConfig=window.smbBizConfig||{},window.sbActiveConfig=window.sbActiveConfig||{},Q.bizKey=e.bizKey,Q.pageCode=e.pageCode||(0,z.default)();var t=[],o=[],n=window["@ali/lib-smb/wake"];n||g(Q.pageCode),window.lib&&window.lib.mtop||t.push("mtop"),G||V||Y||r(),k(t,o)}function r(){if(!J){var e=document.createElement("iframe");e.src="https://h5.m.taobao.com/applink/smb-fid-sender.html",e.frameborder="0",e.style.cssText="display:none;border:0;width:0;height:0;",document.body.appendChild(e),window.addEventListener("message",function(e){if("https://h5.m.taobao.com"===e.origin&&/^[A-Za-z0-9]{11}$/.test(e.data)){J=e.data;try{var t=window.localStorage;t.setItem("SMB_FID",J)}catch(e){}}},!1)}}function s(){if(!J)try{var e=window.localStorage;J=e.getItem("SMB_FID")}catch(e){}return/^[A-Za-z0-9]{11}$/.test(J)?J:""}function c(e,t,o){var n=X,i={api:"mtop.taobao.baichuan.smb.get",v:"1.0",data:e,type:"POST",dataType:"jsonp",timeout:1e4};return n&&(i.H5Request=!0),lib.mtop.request(i,t,o)}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"!=typeof e||!Q.bizKey||Q.bizKey&&Z(Q.bizKey))return Q.onError({code:"1001",msg:"`bizKey` not Found or in bizKey env",eventName:"ready"});var o=window.setInterval(function(){var n=window["@ali/lib-smb/wake"];if(j){if(!n)return window.clearInterval(o),Q.onError({code:"2001",msg:"`@ali/lib-smb/wake` not Found",eventName:"onLoad"});v(n)}if(window.lib&&window.lib.mtop&&window.Promise&&!N){N=!0;var i=(new Date).getTime(),a=function(){var e=u();window.smbBizConfig.fid=s(),c({pageCode:Q.pageCode,ua:window.navigator.userAgent,params:JSON.stringify({url:window.location.href,referrer:document.referrer,oneId:e,fid:window.smbBizConfig.fid})},function(e){T=!0;var t=(new Date).getTime();window.smbBizConfig.mtopCostTime=t-i,e.data&&e.data.auto&&e.data.act?(f(Q.pageCode,e.data),p(e.data)):Q.onError({code:"3001",msg:"`mtop.taobao.baichuan.smb.get` biz error",eventName:"onLoad"})},function(e){T=!0;var t=b(Q.pageCode);t?p(t):Q.onError({code:"3002",msg:"`mtop.taobao.baichuan.smb.get` mtop error",eventName:"onLoad"})})};document.domain.indexOf("taobao.")<0?lib.mtop.request({api:"mtop.user.getUserSimple",v:"1.0",H5Request:!0,jsonpIncPrefix:"smb_xc",timeout:2e3},a,a):a()}if(j&&T){window.clearInterval(o);var r=window.smbBizConfig;window.sbActiveConfig=window.sbActiveConfig||{};var l=$&&("mainIndex"===Q.pageCode||"mainSearch"===Q.pageCode||"mainDetail"===Q.pageCode),d=(0,E.default)({isInvoke:!1,isShow:!1,isInvokeDay:!0,fatigue:10});if((0,S.default)().isActive||t.isActive){if(e(n,{isInvoke:d.isInvoke||d.isInvokeDay,isShow:d.isShow,autoLinkKey:r.autoLinkKey}),O)return;if(O=!0,d.isShow){var m=w(Q.pageCode,r.pageConf),g=m.some(function(e){return"pop"===e.type});h(m,function(){var e=window.setInterval(function(){var t=n.bizText;!g&&l&&(t.theme.pop={linkKey:r.autoLinkKey,pageType:Q.pageCode,callType:"universalLink",unlUrl:"https://b.mashort.cn/ulk/taobao",popImg:"//gw.alicdn.com/tfs/TB1DfjHIxGYBuNjy0FnXXX5lpXa-640-723.png",type:"pop",styles:{sbPop:"padding:0;"},limitCount:1,limitPeriod:15}),t&&(window.clearInterval(e),n.render(t))},100)})}}}},100)}function p(e){var t=window.smbBizConfig;if(e.themes){var o=[];e.themes.map(function(e){var t={},n={},i={};try{t=JSON.parse(e.style)}catch(e){}try{n=JSON.parse(e.defaultConfig),n.type="default"}catch(e){}try{i=JSON.parse(e.freshConfig),i.type="fresh"}catch(e){}o.push({config:[n,i],styles:t,type:e.type,linkKey:e.linkKey})}),t.pageConf={act:e.act,theme:o}}e.blackUa&&(window.sbActiveConfig.show_black_ua=e.blackUa),e.whiteUa&&(window.sbActiveConfig.show_white_ua=e.whiteUa),e.config!=-1&&(window.sbActiveConfig.config=e.config),t.content=e.contents||{},d(e),m(e)}function u(){var e=q(),t="";if(e._oneId){t=e._oneId;try{var o=window.localStorage;o.setItem("SMB_ONEID",e._oneId)}catch(e){}}else try{var n=window.localStorage;t=n.getItem("SMB_ONEID")}catch(e){}return t}function d(e){var t=window.smbBizConfig;if(e.extra&&e.extra.rbb&&(t.rbbt=e.extra.rbbt),e.tipParams){var o=e.tipParams,n=o.appkey,i=o.backURL;n&&(t.appkey=n),i&&(t.backURL=i)}}function m(e){var t=window.smbBizConfig,o=(e.protocol,e.auto),n=e.manual,i={2:"portListen",3:"universalLink"};o&&(o.linkKey&&(t.autoLinkKey=o.linkKey),o.type&&(t.callType=i[o.type]||"scheme"),o.scheme&&(t.scheme=o.scheme),o.path&&(t.path=o.path),o.packageName&&(t.packageName=o.packageName),o.params&&(t.params=o.params),o.unlUrl&&(t.unlUrl=o.unlUrl),o.ports&&o.portUrl&&(t.ports=o.ports,t.surl=o.portUrl)),n&&"object"===("undefined"==typeof n?"undefined":C(n))&&(t.protocolEnum={},Object.keys(n).map(function(e){var o={};n[e].linkKey&&(o.linkKey=n[e].linkKey),n[e].type&&(o.callType=i[n[e].type]||"scheme"),n[e].scheme&&(o.scheme=n[e].scheme),n[e].unlUrl&&(o.unlUrl=n[e].unlUrl),n[e].ports&&(o.ports=n[e].ports),n[e].portUrl&&(o.surl=n[e].portUrl),t.protocolEnum[e]=o}))}function f(e,t){try{if(window.localStorage){var o=window.localStorage.getItem("SMB_SERVER_CONFIG"),n=o&&JSON.parse(o)||{};n[e||"default"]=t,window.localStorage.setItem("SMB_SERVER_CONFIG",JSON.stringify(n))}}catch(e){}}function b(e){var t=null;try{if(window.localStorage){var o=window.localStorage.getItem("SMB_SERVER_CONFIG");o&&(t=JSON.parse(o)[e||"default"])}}catch(e){}return t}function w(e,t){var o=t&&t.theme||[];return o}function v(e){var t=e;t.bizKey=Q.bizKey,Object.keys(t).map(function(e){Q[e]=Q[e]||t[e]})}function g(e){var t=M[D];y(t,function(){j=!0})}function y(e,t){var o=document.createElement("script");return o.src=e,o.onload=function(){t&&t()},document.body.appendChild(o),o}function h(e,t){var o=[];if(e.map(function(e){var t=void 0,n=e.linkKey||"taobao";switch(t=F[e.linkKey],e.type){case"banner":t=F[n]+"Banner";break;case"tip":t=F[n]+"Tip";break;case"pop":t=F[n]+"Pop"}R[t]&&o.push(R[t])}),"mainDetail"==Q.pageCode&&o.push(R.taopass),o.length>0)if("local"==D){var n=o.length;o.map(function(e){var o=""+L[D]+e.replace(".js",".debug.js"),i=document.createElement("script");i.onload=function(){n-=1,0===n&&t()},i.src=o,document.body.appendChild(i)})}else{var i=L[D]+"??"+o.join(","),a=document.createElement("script");a.src=i,a.onload=function(){t()},document.body.appendChild(a)}}function k(e,t){var o={mtop:"lib-mtop/2.4.12/mtop.js"};if(!(e.length<1)){var n=e.map(function(e){return o[e]}),i="//g.alicdn.com/mtb/??"+n.join(","),a=document.createElement("script");a.src=i,a.onload=function(){t.map(function(e){e()})},document.body.appendChild(a)}}var C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I=o(1),S=i(I),A=o(2),E=i(A),_=o(3),B=n(_),x=o(4),z=i(x),K="0.0.86",j=!1,N=!1,T=!1,O=!1,P=window.location.host.match(/.*\.(wapa|waptest)\.(taobao|tmall)\.com/),U=window.location.host.match(/shilei\.m\.taobao\.com/),D="publish",L={publish:"//g.alicdn.com/mtb/lib-smb-wake/"+K+"/",daily:"//g.assets.daily.taobao.net/mtb/lib-smb-wake/"+K+"/",local:"//shilei.m.taobao.com/lib-smb-wake/build/"},M={publish:L.publish+"wake.js",daily:L.daily+"wake.js",local:L.local+"wake.debug.js"},R={tbBanner:"ui-tbBanner.js",tbTip:"ui-tbTip.js",tbPop:"ui-tbPop.js",tmBanner:"ui-tmBanner.js",tmTip:"ui-tmTip.js",tmPop:"ui-tmPop.js",taopass:"taopass.js"},F={taobao:"tb",tmall:"tm"};P&&(D="daily"),U&&(D="local");var J=void 0,Z=B.bizKeyEnv,q=B.getLocationParams,G=B.isAlipay,V=B.isTmall,X=B.isYouku,H=B.isAlipayMiniProgram,Y=B.isEleme,$=B.isSafari,Q={init:a,ready:l,activeControl:S.default,invokeControl:E.default,onError:function(){}};e.exports=Q},function(e,t){"use strict";function o(){var e=window.navigator.userAgent,t={isActive:!0},o=window.sbActiveConfig||{},n=e.match(/AliApp\(([A-Z\-]+)\/([\d\.]+)\)/i);if(n&&(t.isActive=!1),o){if(o.show_white_ua)try{var i=new RegExp(o.show_white_ua);i.test(window.navigator.userAgent)&&(t.isActive=!0)}catch(e){}if(o.show_black_ua)try{var a=new RegExp(o.show_black_ua);a.test(window.navigator.userAgent)&&(t.isActive=!1)}catch(e){}}return t}e.exports=o},function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function i(e){var t=window.sbActiveConfig||{},o=c();if(o.visa||0!=o.forceCallApp||(e.isInvoke=!1,e.isInvokeDay=!1),void 0!=t.config){var n=t.config?s(parseInt(t.config).toString(2),3):"000";e.isInvoke=!!n[n.length-3]&&Boolean(parseInt(n[n.length-3])),e.isShow=!!n[n.length-2]&&Boolean(parseInt(n[n.length-2])),e.isInvokeDay=!!n[n.length-1]&&Boolean(parseInt(n[n.length-1]))}return window.self!==window.top&&o.shareurl&&(e.isInvoke=!1),window.smbInvokeControlDecorator&&window.smbInvokeControlDecorator(e),e}var a=o(3),r=n(a),s=r.prefixInteger,c=(r.boolFixed,r.getLocationParams);e.exports=i},function(e,t){"use strict";function o(e){return"string"==typeof e}function n(e){return o(e)&&(e=e.toLowerCase()),"true"===e||e===!0||1===e||"false"!==e&&e!==!1&&0!==e&&"0"!==e&&!!e}function i(){var e=[];e=document.referrer&&/\/\/s\.click\.taobao\.com/.test(document.referrer)?document.referrer.replace(/^(http|https):\/\/.+\?/,"").split("&"):location.search.replace(/^\?/,"").split("&");var t={};return e.forEach(function(e,o){var n=e.split("=");t[n[0]]=n[1]}),t}function a(e,t){return(Array(t).join(0)+e).slice(-t)}function r(e){var t={TB:"taobao",TM:"tmall"},o=window.navigator.userAgent,n="",i=void 0;return(i=o.match(/AliApp\(([A-Z\-]+)\/([\d\.]+)\)/i))&&(n=i[1]),!n&&o.indexOf("TBIOS")>0&&(n="TB"),t[n]===e}var s=window.navigator.userAgent,c=/AlipayClient/.test(s),l=/AliApp\(TM\//.test(s),p=c&&/MiniProgram/i.test(s),u=/iPhone|iPad|iPod/.test(s)&&/Safari\/([0-9\.]+$)/.test(s)&&!/Chrome/i.test(s)&&/Version\/([\d\.]+)/.test(s),d=/Eleme/i.test(s),m=/youku/i.test(s);t.boolFixed=n,t.getLocationParams=i,t.prefixInteger=a,t.bizKeyEnv=r,t.isAlipay=c,t.isTmall=l,t.isAlipayMiniProgram=p,t.isSafari=u,t.isEleme=d,t.isYouku=m},function(e,t){"use strict";function o(){var e=document.getElementsByName("data-spm")[0]||document.getElementsByName("spm-id")[0],t=document.body.getAttribute("data-spm");t&&t.indexOf("_")>0&&(t=t.split("_")[0]);var o=void 0,a=void 0;return e&&(o=e.content),o&&t&&(o=o+"."+t),a=i[o]||n(window.location.host)||"smbDefault"}function n(e){for(var t=Object.keys(a),o="",n=0;n<t.length;n++)if(new RegExp(t[n]).test(e)){o=a[t[n]];break}return o}var i={"a215s.7406091":"mainIndex","a2141.7c":"mainDetail","a2141.7756461":"mainMyTaobao","weapp.shop/acticvity":"shopActivity","a3113.8592669":"aliyxCoupon","a2147.7632989":"juNative","a311n.9159044/a":"itaobao","a311n.9159044/c":"itaobao"},a={"shop([0-9a-zA-Z]*)\\.m\\.taobao\\.com":"mainShop","s\\.m\\.taobao\\.com":"mainSearch"};e.exports=o}]);