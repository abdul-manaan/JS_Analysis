!function(e){function t(t){for(var s,i,r=t[0],c=t[1],l=t[2],p=0,u=[];p<r.length;p++)i=r[p],o[i]&&u.push(o[i][0]),o[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);for(d&&d(t);u.length;)u.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,r=1;r<a.length;r++){var c=a[r];0!==o[c]&&(s=!1)}s&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var s={},o={0:0},n=[];function i(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=s,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/assets/";var r=window.webpackJsonp=window.webpackJsonp||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var d=c;n.push([461,1]),a()}({12:function(e,t,a){e.exports={modal:"_2s1b",close:"_3J9l",title:"_1nlP",iconCheck:"TFkm",iconCheckVisible:"_14cw",inputContainer:"eDCA",option:"_1q5G",radio:"_3AZQ",optionAuto:"_3EQu",optionLabel:"kWxX",note:"TPxi",buttons:"_1WhS",button:"_1Bqp"}},121:function(e,t,a){e.exports={hidden:"_3TDt",wrapper:"E30g"}},122:function(e,t,a){e.exports={root:"OrSc",input:"_2v2V"}},123:function(e,t,a){e.exports={root:"rH3e",noSearch:"_2q0S"}},124:function(e,t,a){e.exports={root:"_3DTr"}},125:function(e,t,a){e.exports={root:"_3Zik",inner:"_3lI3",item:"GOS9",itemActive:"_3RsC",pagination:"_10X5",paginationItem:"_3HrI",paginationItemActive:"_8GuL"}},14:function(e,t,a){e.exports={aside:"DhUc",visible:"pnXw",fixedHeight:"_2o8E",header:"_1Ghl",controls:"_2gkR",logo:"s5FS",subtitle:"_2q9F",body:"_2cif",menu:"_23sv",menuItem:"_2SdB",item:"_2Kgw",more:"_3XHe",close:"_29Rs",search:"jyTB",mailCounter:"_2TYQ",mobileApps:"_10rS",footer:"_3rW1",icon:"_3Tku"}},159:function(e,t){e.exports={timezone:"Europe/Moscow",declinationCases:["Москвы","Москве","Москву","Москвой","Москве"],parent:{parent:{parent:{timezone:"UTC",type:20,name:"Европа",id:1005},timezone:"Europe/Moscow",type:30,name:"Россия",id:1009},timezone:"Europe/Moscow",type:35,name:"Центральный ФО",id:54118935},type:50,country:1009,name:"Москва",id:54118936}},16:function(e,t,a){e.exports={root:"_2bAX",isMarked:"_3Nwq",imageWrapper:"_57vA",image:"_3fji",body:"_2u1V",headline:"jO7t",datetime:"_26ET",titleWrapper:"I4f-",short:"I2gu",comments:"l7BI",withComments:"_3gNm",title:"_3GmP",icon:"_1lgu",photoIcon:"Aou7",topic:"_1rFK"}},161:function(e,t,a){e.exports={root:"_1TGu"}},162:function(e,t,a){e.exports={root:"_14TK",icon:"_3Zbf",city:"_3h7i"}},163:function(e,t,a){e.exports={root:"haN1",icon:"eFLd",city:"_2ySw"}},165:function(e,t,a){e.exports={root:"_1ew_",inner:"_2haI",item:"_2nq2",itemActive:"_2sfx"}},166:function(e,t,a){e.exports={root:"_3gBv",inner:"LhFd",item:"Usqy",itemActive:"_1xQw"}},167:function(e,t){e.exports={menu:[{title:"Почта",code:"mail",url:"https://mail.rambler.ru/"},{title:"Все новости",code:"head",utm:"news",url:"https://news.rambler.ru/"},{title:"Бизнес и финансы",code:"finance",url:"https://finance.rambler.ru/business/"},{title:"Женский",code:"woman",url:"https://woman.rambler.ru/"},{title:"Спорт",code:"sport",url:"https://sport.rambler.ru/"},{title:"Автомобили",code:"auto",url:"https://auto.rambler.ru/"},{title:"Гороскопы",code:"horoscopes",url:"https://horoscopes.rambler.ru/"},{title:"Погода",code:"weather",url:"https://weather.rambler.ru/"},{title:"Знакомства",code:"dating",url:"https://dating.rambler.ru/?track=allrambler"},{title:"Топ-100",code:"top100",url:"https://top100.rambler.ru/"},{title:"Поиск",code:"r0",url:"https://r0.ru/"},{title:"Субботний",code:"weekend",url:"https://weekend.rambler.ru/"},{title:"Путешествия",code:"travel",url:"https://travel.rambler.ru/"},{title:"Кино",code:"kino",utm:"kino_media",url:"https://kino.rambler.ru/"},{title:"Класс",code:"klass",utm:"class",url:"https://class.rambler.ru/"},{title:"Касса",code:"kassa",url:"https://kassa.rambler.ru/"},{title:"Игры",code:"games",url:"https://games.rambler.ru/"}],footer:[{title:"Помощь",code:"help",url:"https://help.rambler.ru/"}]}},168:function(e,t,a){e.exports={icon:"_3qDI"}},169:function(e,t,a){e.exports={root:"_1FhD",inner:"_34xW",item:"y0Kt",itemActive:"_2uDI",pagination:"_2c-6",paginationItem:"_38II",paginationItemActive:"_3F-i"}},170:function(e,t,a){e.exports={root:"otWy",inner:"_2hx_",item:"ZUMd",itemActive:"_1DUm"}},171:function(e,t,a){e.exports={root:"Tsny",inner:"_2grM",item:"RT1l",itemActive:"_3Z9i"}},172:function(e,t,a){e.exports={root:"_8sxx",inner:"_25PN",item:"_2Eet",itemActive:"_30Sv"}},173:function(e,t,a){e.exports={root:"_3JgU",inner:"_13WD",item:"Zdd0",itemActive:"I9Bh",pagination:"_2e6x",paginationItem:"_32Om",prevNext:"_1JR9",buttonNext:"_3_xM",buttonPrev:"_34Cs",paginationItemActive:"_1L-X"}},174:function(e,t,a){e.exports={root:"_2g_k",inner:"_2pqC",item:"GByF",itemActive:"_3W4B",pagination:"_37mG",paginationItem:"_2zfO",paginationItemActive:"_2YzX"}},175:function(e,t,a){e.exports={root:"_1iSt",tw:"_24et",ok:"_2deB",vk:"_2RhP",fb:"_27DB",tg:"_3FAX",lj:"_1-I0",yt:"_2X4v",rss:"_3Tj3",ig:"_1xk-"}},176:function(e,t,a){e.exports={root:"_2Gox",ramblerShare:"_3DcC"}},18:function(e,t,a){e.exports={root:"_3r5J",inner:"UbXQ",title:"_3pSj",icon:"Qz54",signTitle:"_2_nR",text:"_13yJ",element:"_19X0",common:"_2N9k",fire:"_10Sh",air:"W3c_",earth:"_2HWF",water:"_34Ia",sign:"yk3H",aquarius:"_3U4f",aries:"_1Kf8",cancer:"_3vnR",capricorn:"S50H",gemini:"_106V",leo:"_2w_U",libra:"jcbp",pisces:"_27gv",sagittarius:"_3ks1",scorpio:"_14UV",taurus:"_1c92",virgo:"_3Xpe",wideButton:"_2T5Q"}},23:function(e,t,a){"use strict";var s=a(6);a.d(t,"a",function(){return o}),a.d(t,"c",function(){return n}),a.d(t,"b",function(){return i}),a.d(t,"d",function(){return r}),a.d(t,"e",function(){return c});const o="ssp",n="sspScroll",i="reloadssp",r={[s.k]:"HEAD_MAIN",[s.f]:"HEAD_MAIN",[s.l]:"HEAD_MOSCOWCITY",[s.m]:"HEAD_POLITICS",[s.h]:"HEAD_INCIDENTS",[s.p]:"HEAD_STARLIFE",[s.g]:"HEAD_HEALTH",[s.j]:"HEAD_KINO",[s.e]:"HEAD_ECONOMICS",[s.d]:"HEAD_AUTO",[s.o]:"HEAD_SPORT",[s.s]:"HEAD_WOMAN"},c={MEDIUM:[0,3,4,6,9,18,28,42],SMALL:[0,3,4,6,9,14,28,38]}},24:function(e,t,a){e.exports={root:"_3FWJ",single:"_3bM-",item:"DX_E",image:"_9ppB",title:"_8M4m",link:"_3h54",meta:"IzO_",section:"nuBX",comments:"_3F_L",timestamp:"_3ajY"}},241:function(e,t,a){"use strict";(function(e){var s=a(2),o=a.n(s),n=a(1),i=a.n(n),r=(a(8),a(118)),c=a.n(r),l=a(11),d=a.n(l),p=a(21),u=a.n(p),m=a(3),h=a.n(m),g=a(23),w=a(242),v=a.n(w);class f extends i.a.Component{constructor(...e){super(...e),o()(this,"init",!1),o()(this,"loaded",!1),o()(this,"bannerVisible",!1),o()(this,"params",{bannerName:this.props.id,adfoxParams:{pageNumber:1},placeholderID:this.getBannerPlaceholderId(),method:g.a}),o()(this,"scrollWatcherCallback",()=>{const e=this.node;if(!e)return!1;e.getBoundingClientRect().top<=window.innerHeight&&(window.removeEventListener("scroll",this.scrollWatcherCallback),window.requestAnimationFrame(()=>{window.ads.push(this),this.executeClientsideBanner()}))}),o()(this,"bannerLoadCallback",e=>{const{id:t,logAd:a}=this.props;this.bannerInfo=e,a&&console.info("onrender",t,e),void 0!==e&&(this.props.onRender&&this.props.onRender({id:t,node:this.node,isVisible:e.status}),this.node&&(this.loaded=!0))})}static onCapirsInit(){for(let e=0;e<window.ads.length;e++){window.ads[e].init||window.ads[e].draw()}}componentWillMount(){"undefined"!=typeof window&&(window.ads||(window.ads=[]),window.begun_callbacks||(window.begun_callbacks={lib:{init:f.onCapirsInit}}))}componentDidMount(){const{id:e,banner:t,pageNumber:a}=this.props;if(!t)return console.error(`Ad: Отсутствует Баннер ${e}`),this.bannerLoadCallback({status:!1,reason:`Ad: Отсутствует Баннер ${e}`}),!1;this.params=c()({adfoxParams:t.adfoxParams,begunParams:t.begunParams,method:g.a},this.params),this.params.adfoxParams.pageNumber=a,t.method!==g.c?(window.ads.push(this),t.serverSide?this.loaded=!0:204===t.status||t.isServerFetchError?this.bannerLoadCallback({status:!1,reason:"NothingToDo"}):this.executeClientsideBanner()):window.addEventListener("scroll",this.scrollWatcherCallback)}componentWillUnmount(){window.ads&&(window.ads=window.ads.filter(e=>e.node!==this.node))}getBannerPlaceholderId(){const{id:e,index:t}=this.props;return`xmrij-${e+(t?`-${t}`:"")}`}getBannerHtml(){const{banner:e,id:t}=this.props;return d()(e)||!e.serverSide?null:`\x3c!--bid:${t}--\x3e`}getClassname(){let e=this.props.className;return this.props.debug&&(e+=" ad--debug"),e}redraw(){this.node.innerHTML="",this.loaded=!1;const t=this.params.adfoxParams;window.Adf&&window.Adf.banner?(t.pageNumber=this.props.pageNumber,e.Adf.banner.reloadssp(this.params.placeholderID,t,this.params.begunParams).then(this.bannerLoadCallback).then(this.props.onRedraw.bind(this))):console.error("Ad: window.Adf не найден")}executeClientsideBanner(){const{weather:e,pageNumber:t,puids:a}=this.props;e&&e.now&&(this.params.adfoxParams.puid29=u()(e,"now.temp","").replace("-","M").replace("+",""),this.params.adfoxParams.puid30=e.now.alias),d()(a)||Object.assign(this.params.adfoxParams,a),this.params.adfoxParams.pageNumber=t,this.draw()}draw(){const{banner:e}=this.props;e.serverSide||204===e.status||e.isServerFetchError||window.Adf&&window.Adf.banner&&(this.init=!0,window.Adf.banner[g.a](this.params.placeholderID,this.params.adfoxParams,this.params.begunParams).then(this.bannerLoadCallback))}render(){const{onLoadStyle:e}=this.props;return i.a.createElement("div",{id:this.params.placeholderID,className:this.getClassname(),ref:e=>this.node=e,style:e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:this.getBannerHtml()}})}}f.defaultProps={index:0,debug:!1,pageNumber:1,className:"ad",onRender:()=>{},onRedraw:()=>{},onLoadStyle:{},logAd:!1,puids:{}},t.a=h()(v.a)(f)}).call(this,a(39))},242:function(e,t,a){e.exports={hidden:"_3Cm0"}},243:function(e,t){e.exports=[{title:"Почта",os:{ios:"https://redirect.appmetrica.yandex.com/serve/1033550703391431797",android:"https://redirect.appmetrica.yandex.com/serve/745320327877297404"},icon:"mail",landing:"https://mail.rambler.ru/apps/?utm_source=mhead&utm_content=mail&utm_medium=mheadapp&utm_campaign=self_promo"},{title:"Новости",os:{ios:"https://redirect.appmetrica.yandex.com/serve/1106070939293978751",android:"https://redirect.appmetrica.yandex.com/serve/1106070939293978751"},icon:"news",landing:"http://news.rambler.ru/apps/?utm_source=mhead&utm_content=news&utm_medium=mheadapp&utm_campaign=self_promo"},{title:"Знакомства",os:{ios:"https://redirect.appmetrica.yandex.com/serve/241043329008075558",android:"https://play.google.com/store/apps/details?id=ru.rambler.lp.app"},icon:"dating",landing:""}]},247:function(e,t,a){e.exports={root:"HMbX",inner:"_3vIz",item:"cXP8",itemActive:"_1ngj"}},25:function(e,t,a){e.exports={root:"_2faX",main:"_1mAB",poster:"_1wr7",info:"_2Thb",wide:"_1WF8",rating:"Racn",title:"_28zW",genre:"wVzN",wideButton:"_2CDF",whitestar:"_3RtB",yellowstar:"_1iyG"}},250:function(e,t){e.exports={socialLinks:[{type:"vk",href:"https://vk.com/rambler"},{type:"fb",href:"https://www.facebook.com/newsrambler/"},{type:"tw",href:"https://twitter.com/ramblerru"},{type:"ok",href:"https://ok.ru/rambler"},{type:"yt",href:"https://www.youtube.com/channel/UCjYZSfD0GcZ3BjhqZei6smA"},{type:"tg",href:"https://t.me/news_rambler"},{type:"rss",href:"https://news.rambler.ru/rss"}]}},251:function(e,t){e.exports=["верни, пожалуйста, доллар \nпо 30 рублей","подари мне билет на концерт в честь \nюбилея Стаса Михайлова","пусть предсказания Ванги \nне сбудутся","выключи наконец аналоговое \nтелевещание по всей России","я хочу попасть на первый за десять \nлет концерт Spice Girls","подари мне немножко \nвыспаться","в этом году помоги мне точно сесть \nна диету и начать бегать","подари мне беспрецедентный \nрост зарплат","пусть на Новый год подарки будут \nлучше, чем на День рождения","верни, пожалуйста, бензин \nпо 30 рублей","сделай так, чтобы меня \nотпустило","избавь меня от утреннего \nпохмелья навсегда","отпиши меня от рекламных \nSMS-рассылок","подари мне \nСнегурочку","пусть США не выходят \nиз договора РСМД","пусть мой дурной кот перестанет \nесть «дождик» с елки","подари мне жиклер, сальник \nи шкворень","подари мне \nпятилетний шенген","пусть на работе никто не будет греть \nрыбу в микроволновке","пусть стиральная машина \nперестанет воровать носки","научи меня проходить \nкапчи с первого раза","пусть в новом году я ни разу \nне ударюсь мизинцем о кровать","пусть оливье никогда \nне кончается","положи мне в весеннюю \nкуртку 500 рублей","пусть почта не теряет \nмои посылки","верни бесплатную \nпарковку","подари мне билет \nв Нижневартовск","пусть я перестану \nзабывать зонтик","избавь мир от майнеров \nи криптоинвесторов","подари мне \nмайнинговую ферму","пусть неубраная елка никому \nне мешает до марта","пусть летом перестанут \nотключать горячую воду","пусть мой кот перестанет \nдебоширить по ночам","накажи всех, кто наступает \nна мои белые кроссовки","отбери у моих \nсоседей дрель","пусть в родительском чате \nбудет мир и согласие","подари мне \nвяленой хурмы","подари мне мешок \nсанкционки","подари людям в метро \nдезодорант","пусть в такси всегда играет моя \nлюбимая музыка","научи наконец соседского \nребенка играть на пианино","подари мне \nипотеку под 3%","выберите уже что-нибудь, я устал придумывать желания","пусть моя собака перестанет \nлаять на пустоту","погуляй 1 января с моей \nсобакой, пожалуйста","пусть все уличные котейки \nнайдут свой дом","помоги всем моим соседям \nзакончить ремонт","подари мне бюджет побольше \nи kpi попроще","избавь мир от мяса \nпо-французски","пусть дети сообщают о поделках \nдля школы заранее","избавь игры от доната \nи лутбоксов","научи меня не путать \nPresent Perfect и Past Simple","пусть холодильник после 18:00 \nпрячется в параллельной Вселенной","я буду петь свою \nмузыку — подпевай","пусть Тони Роббинс \nвернет деньги","научи других водителей \nвключать поворотники","помоги мне снять квартиру \nбез этих «евроремонтов»","научи моего мужа вешать \nодежду в шкаф, а не на стул","пусть у меня перестанут \nспрашивать паспорт в магазине","подари мне прямые руки, \nрастущие из нужного места","пусть на новогоднем столе будет \nне только рюмка водки","подари мне время на просмотр \nкрутых сериалов на ТНТ-PREMIER"]},252:function(e,t){e.exports=[13]},265:function(e,t,a){0},30:function(e,t,a){e.exports={sliderVideo:"_1jj3",sliderImage:"QVTS",titleWrap:"PDun",title:"_22Xs",duration:"_3KgE",tags:"Q1_D",tag:"xoSJ",sliderVideoInner:"_3A4Z",play:"_2_8I"}},31:function(e,t,a){e.exports={root:"_21FC",guest:"FskK",avatar:"_2j81",name:"_3bBD",registrationFrame:"_3DIv",showReg:"_37wx",login:"_1VQw",loginText:"XjcJ",authIcon:"_17LF",logout:"_2Ng3"}},32:function(e,t,a){e.exports={root:"_2XlB",newsList:"_2g2p",categories:"S_GG",news:"rbLY",more:"_16PA",wideButton:"_3S_C",iconArrow:"_9jHf",feature:"_3sSU"}},34:function(e,t,a){e.exports={root:"_1OO2",aside:"_1Jr8",title:"_1QRo",appTitle:"_3v_f",apps:"_3mOJ",iconDownload:"_3tIH",app:"_1EGZ",appImg:"_3MkC",more:"htUG"}},35:function(e,t,a){e.exports={root:"_3Adx",form:"_2YWg",clear:"_3oOi",visible:"_3_HH",iconClear:"XNFN",input:"_3mQp",button:"my6p",iconSearch:"_2-SN",makeHomepage:"_2oy-"}},36:function(e,t,a){e.exports={root:"_10d5",now:"_3OmF",date:"_1Idk",tomorrow:"_1AQ_",degree:"pHC1",icon:"_2Y5N",weather:"_2Nso",icon20x20:"_35hb",cloudy:"_2ZhE","clear-night":"SIC8",clear:"_2r2B",fog:"_24Y5","light-rain":"_3HbH","light-rain-night":"_2fDa","rain-night":"_17Dr","occ-rain":"_22ti","occ-snow":"RatH","light-snow-night":"_3c37","snow-night":"Yj8O",thunder:"_1PDa",snow:"_1UMa",rain:"_224J",sleet:"L71R","partly-cloudy":"vChW","partly-cloudy-night":"_3_Ld",icon40x40:"_2Uuh"}},37:function(e,t,a){e.exports={root:"_2ETT",image:"_3hJ2",datetime:"_1hoT",title:"_3wTj",topic:"_3CHk",emptyComments:"_2kAq",comments:"_38YZ",footer:"_1irp",newsInner:"W_pP"}},38:function(e,t,a){e.exports={root:"nGJe",blur:"xGJ5",in:"_3pOo",widgetTitle:"DgPT",widgetTitleIcon:"_1NPP",linkWrapper:"_1vG2",featured:"_2hIj",video:"_2_uc",picture:"_3BOJ",camera:"_3NX1",duration:"_2CJ5",title:"_1rLJ",more:"_3PKZ",wideButton:"_1X-S",iconArrow:"_2A2H"}},43:function(e,t,a){e.exports={root:"_2OWl",doodled:"_19lk",mobile:"_3CMa",doodleImg:"_9ZV",logo:"jdU6"}},44:function(e,t,a){e.exports={root:"_2I68",item:"_3_gD",brent:"_1b8u",iconBrent:"_2LT6",iconDown:"_1U0I",iconUp:"_2IbY",value:"_3jKy",USD:"_3_Cm",EUR:"_2XLp"}},45:function(e,t,a){e.exports={root:"_2b3g",dummy:"_3o7t",link:"_3rE-",linkLoaded:"_2x8v",icon:"_31L_",iconMail:"_2mz2",counter:"_1_xW",title:"_2ZMc"}},46:function(e,t,a){e.exports={root:"AB56",newsList:"_1SeU",more:"U2g5",categories:"_2x3_",news:"_2aP0",wideButton:"_2OBh",iconArrow:"_2WUd"}},461:function(e,t,a){"use strict";a.r(t);var s=a(0),o=a.n(s),n=a(5),i=a.n(n),r=a(1),c=a.n(r),l=a(74),d=a.n(l),p=a(116),u=a.n(p),m=a(62);const h="SET_RUNTIME_VARIABLE",g="SET_UI_STATE",w="REQUEST_SUGGEST_DATA",v="CLEAR_SUGGEST_DATA",f="FETCH_SEARCH_HINT",b="FETCH_SEARCH_HINT_FAILURE",_="FETCH_GAMES_DATA",y="FETCH_GAMES_DATA_FAILURE",N="GET_DATING_LINK",S="GET_GAME_LINK",I="GET_YABRO_LINK",C="FETCH_NY2019_BUNDLE",x="FETCH_NY2019_BUNDLE_FAILURE",A="FETCH_RNET",k="FETCH_RNET_FAILURE";function E({name:e,value:t}){return{type:h,payload:{name:e,value:t}}}var T=a(231);var M=a.n(T)()();function O(e,t,a,s,o){const n=document.head.querySelector(`${e}[${t}="${a}"]`);if((!n||n.getAttribute(s)!==o)&&(n&&n.parentNode.removeChild(n),"string"==typeof o)){const n=document.createElement(e);n.setAttribute(t,a),n.setAttribute(s,o),document.head.appendChild(n)}}function L(e,t){O("meta","name",e,"content",t)}a(265);var R=a(117),$=a.n(R),D=a(11),P=a.n(D);let U=[],F=[];const B={isLoaded:!1,init(){const e=Date.now(),t=setInterval(()=>{Date.now()-e>=1e4?(clearInterval(t),U=[]):window.top100&&window.top100options&&(this.createCounter(),U.forEach(e=>e()),U=[],this.isLoaded=!0,clearInterval(t))},100)},createCounter(){window.top100Counter=new window.top100(window.top100options)},push(e){this.isLoaded?e():U.push(e)},sendCustomVars(e){P()(e)||(this.isLoaded?window.top100Counter.sendCustomVars(e):this.push(()=>{window.top100Counter.sendCustomVars(e)}))},throttledSendCustomVars:$()(()=>{if(F.length>0){const e=Object.assign(...F);B.sendCustomVars(e),F=[]}},1500,{leading:!1}),bufferizedSendCustomVars(e){if(F.push(e),F.length>=9){const e=Object.assign(...F);B.sendCustomVars(e),F=[]}this.throttledSendCustomVars()}};var H=B;const j={COUNTER:"counter",GAUGE:"gauge",HISTOGRAM:"histogram"},G=2,W=3;const V=1,z=2,q=1;var Y=a(2),Q=a.n(Y);var K=class{constructor(e){Q()(this,"eventsPool",[]),Q()(this,"onCounterInit",()=>{this.eventsPool.forEach(e=>this.send(e)),this.eventsPool=[]}),this.id=e,document.addEventListener(`yacounter${this.id}inited`,this.onCounterInit)}send(e){window[`yaCounter${this.id}`]&&window.ym?(window.ym(this.id,e.type,e.data),document.removeEventListener(`yacounter${this.id}inited`,this.onCounterInit)):this.eventsPool.push(e)}};const X={COMMON:28161048,PORTAL:26649402,DESKTOP_UNIQUE:25662806,DESKTOP_OLD_UNIQUE:28161027,MOBILE_PORTAL:27440552,MOBILE_UNIQUE:30260297,PROMO:32861467};var J=a(232),Z=a.n(J);let ee=[];const te=$()(e=>{fetch("/metrics/",{method:"POST",credentials:"include",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(e)}),ee=[]},2e3,{leading:!1});function ae(e,t,a,s=""){ee.push({name:e,value:t,type:a,prefix:s}),te(ee)}function se(e,...t){if(!t||!t.length)return;let a;const s=setTimeout(()=>{clearInterval(a)},65e3);a=setInterval(()=>{if(t.every(e=>{const t=window.performance.timing[e];return t>0&&Number.isFinite(t)})){const o=2===t.length?window.performance.timing[t[0]]-window.performance.timing[t[1]]:window.performance.timing[t[0]];ae(e,o,j.HISTOGRAM,"perf"),clearInterval(a),clearTimeout(s)}},5e3)}window.App.state.runtime.splitID===W&&window.performance&&window.performance.timing&&(window.addEventListener("load",()=>{if("PerformanceObserver"in window?function(){try{new PerformanceObserver(e=>{const t=e.getEntriesByType("navigation");t&&t.length&&(ae("latency",t[0].responseStart-t[0].fetchStart,j.HISTOGRAM,"perf"),ae("transfer",t[0].responseEnd-t[0].responseStart,j.HISTOGRAM,"perf"),ae("DOMContentLoaded",t[0].domInteractive,j.HISTOGRAM,"perf"),ae("load",t[0].loadEventEnd,j.HISTOGRAM,"perf"))}).observe({entryTypes:["navigation"]})}catch(e){console.error(e)}}():(se("latency","responseStart","fetchStart"),se("transfer","responseEnd","responseStart"),se("DOMContentLoaded","domInteractive","navigationStart"),se("load","loadEventEnd","navigationStart")),!window.performance.getEntriesByType)return!1;window.performance.getEntriesByType("paint").forEach(e=>{const t=Math.round(e.startTime+e.duration);ae(e.name.replace("-","_"),t,j.HISTOGRAM,"perf")});const e=window.performance.getEntriesByType("navigation");if(e&&e.length&&e[0]){ae("main_page_size",Math.round(e[0].decodedBodySize/1024),j.HISTOGRAM,"perf")}}),Z.a.getFirstConsistentlyInteractive().then(e=>{e&&ae("time_to_interactive",e,j.HISTOGRAM,"perf")}));var oe=function(e,{baseUrl:t,cookie:a}){const s={method:"POST",mode:t?"cors":"same-origin",credentials:t?"include":"same-origin",headers:i()({Accept:"application/json","Content-Type":"application/json"},a?{Cookie:a}:null)};return async(a,o)=>a.startsWith("/api")?e(`${t}${a}`,i()({},s,o,{headers:i()({},s.headers,o&&o.headers)})):e(a,o)},ne=a(8);const ie={insertCss:ne.func.isRequired,fetch:ne.func.isRequired,pathname:ne.string.isRequired,query:ne.object,store:ne.shape({subscribe:ne.func.isRequired,dispatch:ne.func.isRequired,getState:ne.func.isRequired}).isRequired};class re extends r.PureComponent{getChildContext(){return this.props.context}render(){return r.Children.only(this.props.children)}}Q()(re,"childContextTypes",ie);var ce=a(33),le=a(233),de=(a(283),self.fetch.bind(self));self.Headers,self.Request,self.Response;function pe(e){return{fetch:function({cookie:e}){return de}(e),statsd:{}}}function ue(e={},t){switch(t.type){case h:return i()({},e,{[t.payload.name]:t.payload.value});default:return e}}function me(e={}){return e}const he={topline:{showShadow:!1},toplineAside:{isAsideVisible:!1,isMenuOpen:!1,pageYOffset:0},geoModal:{isModalVisible:!1,selectedOption:""},geoModalSuggest:{isTyping:!1,isFocused:!1,isSuggestVisible:!1,selectedSuggestItem:{index:-1,geoID:null}},headerSearch:{isTyping:!1,isSuggestVisible:!1,selectedSuggestItem:-1},news:{currentSectionIndex:0},mediaNews:{currentSectionIndex:0},search:{isSticky:!1},registrationFrame:{isModalVisible:!1}};const ge="FETCH_API_DATA",we="FETCH_API_DATA_FAILURE",ve="FETCH_API_PERSONALIZED_DATA",fe="FETCH_API_PERSONALIZED_DATA_HEAD",be="FETCH_API_PERSONALIZED_DATA_FAILURE";var _e=a(235),ye=a.n(_e),Ne=a(236),Se=a.n(Ne);const Ie="72f7d5c021c442c8a40aa3cff2c117a6",Ce={profile:{authorized:!1}},xe=({recommendations:e})=>{const t=ye()(e,24),a=t.map((e,t)=>`block${t+1}`);return Se()(a,t)};function Ae(e=Ce,t){switch(t.type){case ge:return i()({},e,{isDataFetched:!0},t.payload.data);case we:return i()({},e,{isDataFetched:!1,error:t.payload.error,data:{}});case ve:return i()({},e,{isPersonalizedDataFetched:!0},t.payload.data);case fe:{const{recommendationSplitRequested:a,recommendationSplitActual:s,recommendationId:o}=t.payload.data;return i()({},e,{isPersonalizedDataFetched:!0,recommendationSplitRequested:a,recommendationSplitActual:s,recommendationId:o,recommendations:xe(t.payload.data)})}case be:return i()({},e,{error:t.payload.error,isPersonalizedDataFetched:!1,data:{}});default:return e}}const ke={query:"",suggest:[],suggestCount:0,hint:""};function Ee(e=ke,t){switch(t.type){case w:return i()({},e,{query:t.payload.query,suggest:t.payload.data});case v:return i()({},ke,{hint:e.hint});case f:return i()({},e,{hint:t.payload.hint});case b:return i()({},e,{hint:"Звёздные войны"});default:return e}}const Te="1",Me="2",Oe="FETCH_GEO_AUTODETECT_DATA",Le="FETCH_GEO_AUTODETECT_DATA_FAILURE",Re="FETCH_GEO_CURRENT_DATA",$e="FETCH_GEO_CURRENT_DATA_FAILURE",De="FETCH_GEO_SUGGEST_DATA",Pe="FETCH_GEO_SUGGEST_DATA_FAILURE",Ue="CLEAR_GEO_SUGGEST_DATA",Fe=7;var Be=a(237),He=a.n(Be),je=a(159),Ge=a.n(je);const We={auto:Ge.a,current:Ge.a,suggest:[]};function Ve(e=We,t){switch(t.type){case Oe:return i()({},e,{auto:t.payload});case Re:return i()({},e,{current:t.payload});case De:return i()({},e,{suggest:He()(Object.values(t.payload.data),["weight"]).slice(0,Fe)});case Ue:return i()({},e,{suggest:[]});default:return e}}function ze(e={},t){switch(t.type){case _:return i()({},e,{games:t.payload.data});case y:return i()({},e,{games:[]});default:return e}}var qe=function(e={},t){switch(t.type){case"SET_BANNERS":return i()({},e,t.payload);default:return e}};function Ye(e={},t){switch(t.type){case N:return i()({},e,t.payload.data);default:return e}}function Qe(e={},t){switch(t.type){case S:return i()({},e,t.payload.data);default:return e}}function Ke(e={},t){switch(t.type){case A:return i()({},e,{rnet:t.payload.data});case k:return i()({},e,{error:t.payload.error});default:return e}}const Xe="FETCH_USER_EXIST_FAILURE",Je="FETCH_USER_LOGIN_FAILURE",Ze="RESET_AUTH_ERRORS",et="FETCH_CAPTCHA",tt="FETCH_USER_NEED_CAPTCHA",at="FETCH_USER_HIJACKED",st="CAPTCHA_PASSED",ot="CAPTCHA_ERROR",nt={serverError:!1,needCaptcha:!1,captchaError:!1};function it(e=nt,t){switch(t.type){case Xe:case Je:return i()({},e,{serverError:!0,needCaptcha:!1,captchaError:!1});case Ze:return i()({},e,{serverError:!1,needCaptcha:!1,captchaError:!1});case tt:return i()({},e,{serverError:!0,needCaptcha:!0});case at:return i()({},e,{serverError:!0,isHijacked:!0});case et:return i()({},e,{captcha:t.payload.captcha.result,captchaError:!1,needCaptcha:!0,serverError:!0});case st:return i()({},e,{captcha:{},serverError:!1,needCaptcha:!1,captchaError:!1});case ot:return i()({},e,{needCaptcha:!0,captchaError:!0});default:return e}}function rt(e={},t){switch(t.type){case I:return i()({},e,t.payload.data);default:return e}}const ct="GET_PROFILE_INFO",lt="GET_MOBILE_PROFILE_INFO",dt="GET_DATING_COUNT",pt="GET_DATING_COUNT_FAILURE",ut="GET_MAIL_COUNT",mt="GET_MAIL_COUNT_FAILURE",ht="CLEAR_PROFILE",gt="ID_HELPER_DEAD",wt="GET_PROFILE_TIMED_OUT",vt={mailCount:0,datingCount:0,fetched:!1,fetchSuccessful:!1,isMailFetched:!0};function ft(e=vt,t){switch(t.type){case ct:return i()({},e,{profileInfo:t.payload,isProfileFetched:!0});case lt:return i()({},e,{profileInfo:t.payload,fetched:!0,fetchSuccessful:!1});case ut:return i()({},e,{mailCount:t.mailCount,isMailFetched:!0});case dt:return i()({},e,{datingCount:t.payload.data.newmess});case ht:return i()({},e,vt,{fetched:!0,fetchSuccessful:!1});case gt:return console.error("ramblerIdHelper not found, check the resource network status: id.rambler.ru/rambler-id-helper/auth_events.js"),i()({},e,{fetched:!0,fetchSuccessful:!1});case pt:default:return e}}function bt(e={},t){switch(t.type){case C:return i()({},e,t.payload,{loaded:!0});case x:return i()({},e,{loaded:!1});default:return e}}const _t=Object(ce.c)({config:me,runtime:ue,mobileUI:function(e=he,t){switch(t.type){case g:return i()({},e,{[t.payload.component]:i()({},e[t.payload.component],{[t.payload.name]:t.payload.value})});default:return e}},api:Ae,search:Ee,geo:Ve,games:ze,banners:qe,datingLink:Ye,gameLink:Qe,yabroLink:rt,rnet:Ke,auth:it,profile:ft,ny2019:bt});var yt=a(238),Nt=a(6);var St=a(23),It=(e,t,a)=>{t?m.withScope(a=>{a.setExtra(t),m.captureException(e)}):m.captureException(e),"function"==typeof a&&a(e)};function Ct(){return async(e,t,{fetch:a})=>{let s;try{const{splits:o,geoid:n}=t().runtime,i="/api/v3/mobile/personalized/",r=await a(i,{credentials:"include",headers:{"X-Geo":n,"X-New-Recomends":o.recommendationsMobile,"Cache-control":"no-cache",Pragma:"no-cache",Expires:0}});if(!1===r.ok)throw s={requestUrl:r.url,requestStatus:r.status},new Error("Не удалось получить данные из personalized API");const c=await r.json();e(E({name:"splitRecommendationsFromModel",value:c.modelSplitId||"error"})),e({type:ve,payload:{data:c}})}catch(t){e({type:be,payload:{error:{stack:t.stack,message:t.message,status:500}}}),It(t,s)}}}var xt=a(91),At=a.n(xt);var kt=a(29),Et=a.n(kt),Tt=a(7),Mt=a(21),Ot=a.n(Mt),Lt=a(4),Rt=a.n(Lt),$t=a(118),Dt=a.n($t),Pt=a(92),Ut=a.n(Pt),Ft=a(3),Bt=a.n(Ft);const Ht={reconnect(){if(this.antiadblock)try{return this.antiadblock.reconnect()}catch(e){console.error(e)}return!1},addBlock2Place(e){if(this.antiadblock&&e>-1)try{return this.antiadblock.addBlock2Place(e)}catch(e){console.error(e)}return!1}};Object.defineProperties(Ht,{antiadblock:{get:()=>window&&window.QW50aS1BZEJsb2Nr?window.QW50aS1BZEJsb2Nr:null}});var jt=Ht,Gt=a(121),Wt=a.n(Gt);const Vt=["billboard","240x400","direct-horizontal","superfooter"];class zt extends c.a.PureComponent{static onCapirsInit(){console.info("capirs initialized");for(let e=0;e<window.ads.length;e++){window.ads[e].init||window.ads[e].draw()}}static removeDSP(){const e=window["DSP-Branding"];if(!e||!e.banners)return!1;Object.keys(window["DSP-Branding"].banners).forEach(e=>{window["DSP-Branding"].banners[e].removeBanner()})}static removeBranding(){try{const e=Ot()(window,"Adf.util.removeBranding");e&&e(),zt.removeDSP()}catch(e){console.error(`Adf.util.removeBranding error: ${e}`)}}constructor(e){super(e),Q()(this,"getNodeRef",e=>this.node=e),Q()(this,"scrollWatcherCallback",()=>{if(!this.node)return!1;this.node.getBoundingClientRect().top<=window.innerHeight&&(window.removeEventListener("scroll",this.scrollWatcherCallback),window.ads.push(this),this.executeClientsideBanner())}),Q()(this,"bannerLoadCallback",e=>{const{id:t,logAd:a,children:s}=this.props;if(a&&console.info("onrender",t,e),void 0===e)return void this.setState({loaded:!0,visible:!1});const o=!!s,n=!o||e.status;!window.isAdblockEnabled&&o&&setTimeout(()=>{this.checkBannerStatus(t,e)},300),this.props.onRender&&this.props.onRender({node:this.node,id:t,isVisible:n}),this.setState({loaded:!0,visible:n})}),Q()(this,"checkBannerStatus",(e,t)=>{if(this.node){const a={bannerStatus:t.status,bannerParams:t.optionsB},s=document.getElementById(this.params.placeholderID),o=e=>{console.error(e,s)};t.status&&this.node.clientHeight<=5?(It(new Error(`Рекламный блок ${this.props.id} пришел со статусом true, но оказался пустым`),a,o),ae(`wrong_banner_status_true.${e}`,1,j.COUNTER)):!t.status&&this.node.clientHeight>5&&(It(new Error(`Рекламный блок ${this.props.id} по статусу false, но на самом деле пришел`),a,o),ae(`wrong_banner_status_false.${e}`,1,j.COUNTER))}});const{banner:t,id:a,currentSection:s}=e;this.state={loaded:t.serverSide,visible:t.serverSide},this.params={bannerName:a,adfoxParams:{puid6:St.d[s]},placeholderID:this.getBannerPlaceholderId(),method:St.a},this.init=!1}componentDidMount(){window.ads||(window.ads=[]),window.begun_callbacks||(window.begun_callbacks={lib:{init:zt.onCapirsInit}});const{banner:e,id:t,AABEnabled:a,antiadblockID:s}=this.props;return window.isAdblockEnabled?(a&&jt.addBlock2Place(s),this.bannerLoadCallback({status:!1,reason:"Adblock"}),!1):P()(e)?(console.error(`Ad: Отсутствует Баннер ${t}`),this.bannerLoadCallback({status:!1,reason:`Ad: Отсутствует Баннер ${t}`}),!1):(this.params=Dt()({adfoxParams:e.adfoxParams,begunParams:e.begunParams},this.params),void(e.method!==St.c?(window.ads.push(this),e.serverSide||(204===e.status||e.isServerFetchError?this.bannerLoadCallback({status:!1,reason:"NothingToDo"}):this.executeClientsideBanner())):window.addEventListener("scroll",this.scrollWatcherCallback)))}componentWillUnmount(){window.ads&&(window.ads=window.ads.filter(e=>e.node!==this.node)),this.props.banner.method===St.c&&window.removeEventListener("scroll",this.scrollWatcherCallback)}getBannerPlaceholderId(){const{id:e,index:t}=this.props;return`xmrij-${e+(t?`-${t}`:"")}`}executeClientsideBanner(){const{weather:e,pageNumber:t,puids:a}=this.props;e&&e.now&&(this.params.adfoxParams.puid29=e.now.temp.replace("-","M").replace("+",""),this.params.adfoxParams.puid30=e.now.alias),P()(a)||Object.assign(this.params.adfoxParams,a),this.params.adfoxParams.pageNumber=t,this.draw()}draw(){const{banner:e}=this.props;e.serverSide||204===e.status||e.isServerFetchError||(window.Adf&&window.Adf.banner?(this.init=!0,window.Adf.banner[this.params.method](this.params.placeholderID,Ut()({},this.params.adfoxParams),Ut()({},this.params.begunParams)).then(this.bannerLoadCallback)):console.error("Ad: window.Adf не найден"))}redraw(){const{AABEnabled:e,antiadblockID:t,currentSection:a,pageNumber:s}=this.props;if(e)return void jt.addBlock2Place(t);if(!window.Adf||!window.Adf.banner)return void console.error("Ad: window.Adf не найден");const o=this.params.adfoxParams;o.puid6=St.d[a],o.pageNumber=s,this.setState({loaded:!1,visible:!1},()=>{window.Adf.banner[St.b](this.params.placeholderID,Ut()({},this.params.adfoxParams),Ut()({},this.params.begunParams)).then(this.bannerLoadCallback)})}renderAd(){const{visible:e}=this.state,{className:t,onLoadStyle:a,banner:s,id:o}=this.props;return P()(s)?null:c.a.createElement("div",{id:this.params.placeholderID,className:Rt()(t),ref:this.getNodeRef,style:e?a:{},suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`\x3c!--bid:${o}--\x3e`}})}renderAdWithChildren(){const{wrapperClassName:e,children:t,banner:a,id:s}=this.props,{loaded:n,visible:i}=this.state;return a.hidden?c.a.createElement(c.a.Fragment,null,o()("div",{className:Wt.a.hidden},void 0,this.renderAd()),t):!n||i?o()("div",{className:Rt()(Wt.a.wrapper,e)},`ad-markup-${s}`,this.renderAd()):t}render(){const{id:e,children:t,className:a,AABEnabled:s}=this.props;return s&&Vt.includes(e)?c.a.createElement("div",{className:a,ref:this.getNodeRef,id:this.params.placeholderID}):t?this.renderAdWithChildren():this.renderAd()}}zt.defaultProps={index:0,banner:{},className:"ad",children:null,pageNumber:1,logAd:!1,onRender:()=>{},onLoadStyle:{},puids:{},weather:{},wrapperClassName:"",antiadblockID:-1};var qt=Bt()(Wt.a)(zt);var Yt=Object(Tt.a)((e,t)=>{let a=e.banners[t.id];return window.adsStatus&&window.adsStatus[t.id]&&(a=i()({},a,window.adsStatus[t.id])),{weather:Ot()(e,"api.weather",{}),banner:a,logAd:e.runtime.logAd,split:e.runtime.splitID,pageNumber:e.runtime.pageNumber,currentSection:e.runtime.currentSection,AABEnabled:e.runtime.antiadblockEnabled}})(qt);location.pathname;Et()(()=>{window.isAdblockEnabled?jt.reconnect():(Yt.removeBranding(),Array.isArray(window.ads)&&window.ads.forEach(e=>e&&e.redraw()))},100);let Qt=window.location.pathname;const Kt=()=>{window.ga&&window.ga("send","pageview"),H.push(()=>{window.top100Counter.trackPageview()});const e=[X.COMMON,X.PORTAL,X.MOBILE_PORTAL,X.MOBILE_UNIQUE];window.ym&&e.forEach(e=>{window.ym(e,"hit",window.location.pathname,{referer:Qt})}),window.tnsCounterRambler_ru&&window.tnsID&&window.tnsCounterRambler_ru.hit(window.tnsID,window.location.pathname),Qt=window.location.pathname},Xt=()=>{Array.isArray(window.ads)&&window.ads.map(e=>e&&e.redraw())};function Jt(e){const{isAutoRefresh:t,shouldUpdateAds:a}=e;return async(e,s)=>{if(await e(async(e,t,{fetch:a,statsd:s})=>{let o=new Date;const{clid:n,geoid:i}=t().runtime;let r;try{let t="/api/v3/mobile/";n&&(t+=`?clid=${n}`);const s=await a(t,{credentials:"include",headers:{"X-Geo":i,"Cache-control":"no-cache",Pragma:"no-cache",Expires:0}});if(!1===s.ok)throw r={requestUrl:s.url,requestStatus:s.status},new Error("Не удалось получить данные из API");o=new Date;const c=await s.json();e({type:ge,payload:{data:c}})}catch(t){e({type:we,payload:{error:{stack:t.stack,message:t.message,status:500}}}),It(t,r)}}),await e(Ct()),await e(ea()),t||Kt(),t&&window.ym&&window.ym(X.COMMON,"reachGoal","update"),a){const{pageNumber:t}=s().runtime;await e(E({name:"pageNumber",value:t+1})),Xt()}}}function Zt(){return async(e,t,{fetch:a})=>{try{const t=await a("/location/autodetect");if(!1===t.ok)throw new Error(`Не удалось определить местоположение автоматически (${t.status} ${t.statusText})`);const s=await t.json();e({type:Oe,payload:{declinationCases:s.declination_cases,name:s.name,id:+s.id}})}catch(t){It(t),e({type:Le})}}}function ea(){return async(e,t,{fetch:a})=>{try{const t=await a("/location/current",{credentials:"include"});if(!1===t.ok)throw new Error(`Не удалось определить текущее местоположение (${t.status} ${t.statusText})`);const s=await t.json();if(s.message)throw new Error(s.message);e({type:Re,payload:{declinationCases:s.declination_cases,name:s.name,id:+s.id}})}catch(t){It(t),e({type:$e})}}}function ta(e){return async t=>{document.cookie=At.a.serialize("geoid",e,{domain:".rambler.ru",path:"/",expires:!1===e?new Date(0):new Date(Date.now()+94608e7)}),await t(Jt({shouldUpdateAds:!0}))}}function aa(){return{type:Ue,payload:{}}}var sa=a(240),oa=a.n(sa),na={[Nt.f]:{title:"Рамблер/новости, почта и поиск — медийный портал: новости России и мира, электронная почта, погода, развлекательные и коммуникационные сервисы. Новости сегодня и сейчас",description:"Рамблер — медийный портал. Поиск информации в интернете, электронная почта, погода, новости России и мира, развлекательные и коммуникационные сервисы",keywords:"новости, новости сегодня, новости сейчас, медийный портал, электронная почта, поиск информации в интернете",url:"https://www.rambler.ru/"},[Nt.m]:{title:"Рамблер/новости - Последние новости политики сегодня, последние политические новости и события мира",description:"Новости политики. Дискуссии мировых лидеров, встречи и форумы, отношения России и США, политические новости Украины, Турции и всего мира",keywords:"новости политики сегодня, последние политические новости",url:"https://www.rambler.ru/politics/"},[Nt.l]:{title:"Рамблер/новости Москва - Последние новости Москвы сегодня, последние события и происшествия в Москве и области",description:"Последние новости Москвы и Московской области. Интересные события и происшествия, обновление улиц и транспортной сети",keywords:"новости Москвы, происшествия в Москве, события в Москве и Подмосковье",url:"https://www.rambler.ru/moscow_city/"},[Nt.d]:{title:"Рамблер/авто - Автомобильные новости: новости авто, автомобильные выставки, автообзоры, тест-драйвы. Автоновости, мировой авторынок",description:"Автомобильные новости, концепты и новинки авто, авторынок России и мира. Обзоры, тест-драйвы, выставки, интервью на Рамблер",keywords:"автомобильные новости, авто, новости, автомобиль, новинки",url:"https://www.rambler.ru/auto/"},[Nt.t]:{title:"Рамблер/новости - Последние новости мира сегодня, аналитика событий в мире, мировые новости дня",description:"Мировые новости и события, происходящие прямо сейчас. Аналитика и фотографии со всего мира на Рамблер",keywords:"новости мира, мировые новости, события в мире, аналитика новостей",url:"https://www.rambler.ru/world/"},[Nt.e]:{title:"Рамблер/финансы - Бизнес-новости сегодня: новости экономики и финансов сегодня. Последние экономические, деловые и финансовые новости мира",description:"Новости бизнеса и мира финансов. Мировые индексы бирж и цены на сырьё, курсы доллара, евро и других валют, сделки и банкротства, тренды и кризисы",keywords:"бизнес-новости сегодня, бизнес, новости сегодня, финансы, курс, доллар, евро",url:"https://www.rambler.ru/economics/"},[Nt.p]:{title:"Рамблер/шоу-бизнес - Новости шоу-бизнеса сегодня, новости знаменитостей, кино, моды со всего мира",description:"Новости знаменитостей шоу-бизнеса, киноиндустрии, моды. Российские и зарубежные актеры, певцы и светские львицы. Гламурные новости на Рамблер",keywords:"новости, шоу-бизнес, знаменитости, новости кино, артисты, актеры, селебрити, красная дорожка",url:"https://www.rambler.ru/starlife/"},[Nt.g]:{title:"Рамблер/здоровье - Новости медицины и здравоохранения",description:"Новости здоровья и здравоохранения. Новые лекарства и вакцины, эпидемии вирусов, лечение в России и зарубежом",keywords:"новости, здоровье, сегодня, медицина",url:"https://www.rambler.ru/health/"},[Nt.h]:{title:"Рамблер/происшествия - Новости происшествий сегодня, криминальные новости. Последние события в мире, сводка чрезвычайных происшествий",description:"Последние новости о происшествиях в мире. Криминальные новости, катастрофы и стихийные бедствия. Подробности и фото на Рамблер",keywords:"происшествия, новости происшествий сегодня, криминальные новости, последние события, черезвычайное происшествие",url:"https://www.rambler.ru/incidents/"},[Nt.n]:{title:"Рамблер/новости - Новости науки и техники: технологии и методы, устройства и гаджеты",description:"Новости науки и техники: технологии и методы, устройства и гаджеты, изобретения и инновации, последние открытия и достижения, ученые и изобретатели. Премиальный медийно-сервисный портал Рамблер",keywords:"наука, техника, технологии, инновации, достижения, новости, космос, планета, ученые, изобретатели",url:"https://www.rambler.ru/scitech/"},[Nt.o]:{title:"Рамблер/спорт - Новости спорта сегодня - Мировые спортивные новости: биатлон, футбол, хоккей, теннис",description:"Новости спорта. Спортивная аналитика, репортажи с главных спортивных событий, результаты спортивных матчей, турнирные таблицы на Рамблер",keywords:"новости спорта сегодня, спорт, новости матч, футболл, чемпионат, хоккей, волейбол, баскетбол",url:"https://www.rambler.ru/sport/"},[Nt.s]:{title:"Рамблер/женский - Последние новости моды и стиля: мода и красота, отношения и психология",description:"Статьи о красоте, моде, отношениях и здоровье. Ответы на самые важные женские вопросы на Рамблере",keywords:"последние новости моды, новости стиля, Женский, Рамблер, красота, мода, отношения, психология, новости",url:"https://www.rambler.ru/woman/"},[Nt.j]:{title:"Рамблер/кино - Новости кино и сериалов: кино, концерты, выставки, театры, рестораны, клубы, фестивали Москвы",description:"Премьеры фильмов, концерты и выставки. Лучшие мероприятия и места Москвы",keywords:"новости кино, новости сериалов, афиша, расписание, премьера, спектакль, концерт",url:"https://www.rambler.ru/kino/"},[Nt.r]:{title:"Рамблер/новости Украина - Последние новости Украины сегодня, последние события и происшествия Украины",description:"Последние новости Киева. Интересные события и происшествия, обновление улиц и транспортной сети",keywords:"новости киева, происшествия в киеве, события в киеве",url:"https://www.rambler.ua/"},[Nt.i]:{title:"Рамблер/новости Киев - Последние новости Киева сегодня, последние события и происшествия в Киеве",description:"Последние новости Украины. Интересные события и происшествия, обновление улиц и транспортной сети",keywords:"новости украины, происшествия в украины, события в украины",url:"https://rambler.ua/kiev"},[Nt.q]:{title:"Рамблер/путешествия - Новости туризма и путешествий",description:"Статьи о путешествиях, горячие скидки на авиаперелеты, новости и просто все для хорошего отдыха - Рамблер/путешествия",keywords:"путешествия, туризм, путеводитель, новости",url:"https://travel.rambler.ru/"}};var ia=function(e=""){return na[e]?na[e]:na[Nt.f]},ra=a(161),ca=a.n(ra);const la=12e4;var da=Bt()(ca.a)(class extends c.a.Component{constructor(...e){super(...e),Q()(this,"onVisibilityChanged",()=>{document.hidden?this.onTabDeactivate():this.onTabActivate()}),Q()(this,"onTabDeactivate",()=>{this.updater||(this.isUpdated=!1,this.updater=setTimeout(()=>{this.props.updateAll(),this.updater=null,this.isUpdated=!0},la))})}componentDidMount(){this.props.toggleCSRMode(!0),document.addEventListener("visibilitychange",this.onVisibilityChanged),this.onVisibilityChanged()}componentWillUnmount(){document.removeEventListener("visibilitychange",this.onVisibilityChanged),this.updater&&clearTimeout(this.updater)}onTabActivate(){this.updater&&(clearTimeout(this.updater),this.updater=null),this.isUpdated&&this.props.updateCounters()}render(){return o()("main",{className:ca.a.root},void 0,this.props.children)}});var pa=Object(Tt.a)(()=>({}),e=>({toggleCSRMode(t){e(E({name:"CSR",value:t}))},updateAll(){e(Jt({isAutoRefresh:!0}))},updateCounters(){e(Kt)}}))(da),ua=a(241);var ma=Object(Tt.a)((e,t)=>{let a=e.banners[t.id];return window.adsStatus&&window.adsStatus[t.id]&&(a=i()({},a,window.adsStatus[t.id])),{banner:a,weather:e.api.weather,logAd:e.runtime.logAd,pageNumber:e.runtime.pageNumber}})(ua.a),ha=a(10),ga=a.n(ha),wa=function(e){class t extends c.a.Component{constructor(...e){super(...e),Q()(this,"state",{isMounted:!1})}componentDidMount(){this.setState({isMounted:!0})}render(){return this.state.isMounted?c.a.createElement(e,this.props):null}}return t.displayName=e.displayName||e.name,t};function va(e){return{type:g,payload:e}}function fa(e){class t extends c.a.Component{constructor(e){super(e),this.state={error:!1}}componentDidCatch(e,t){this.setState({error:e}),It(e,t,console.error),this.state.info&&console.error(this.state.info.componentStack)}render(){return this.state.error?null:c.a.createElement(e,this.props)}}return t.displayName=e.displayName||e.name,t}var ba=a(17),_a=a.n(ba),ya=a(75),Na=a.n(ya);class Sa extends c.a.Component{render(){const e=this.props,{href:t,target:a,className:s,children:n,disabled:c,buttonType:l,buttonClass:d}=e,p=_a()(e,["href","target","className","children","disabled","buttonType","buttonClass"]),u=i()({},p,{className:Rt()(Na.a.button,Na.a.primary,d),disabled:c?"disabled":null}),m=[o()("div",{className:Na.a.content},void 0,n)],h=t?o()("a",{href:t,target:a}):o()("button",{type:l});return o()("div",{className:Rt()(Na.a.root,s)},void 0,Object(r.cloneElement)(h,u,...m))}}Sa.defaultProps={href:"",target:"_self",className:"",disabled:!1,children:"",buttonType:"button",buttonClass:""};var Ia=Bt()(Na.a)(Sa),Ca=a(119);function xa(){return(xa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}var Aa=function(e){e.styles;var t=function(e,t){var a={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=e[s]);return a}(e,["styles"]);return c.a.createElement("svg",xa({xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",y:"571",viewBox:"0 0 14 14"},t),c.a.createElement("path",{d:"M7.875 7L14 .875 13.125 0 7 6.125.875 0 0 .875 6.125 7 0 13.125.875 14 7 7.875 13.125 14l.875-.875L7.875 7z"}))};function ka(){return(ka=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}var Ea=function(e){e.styles;var t=function(e,t){var a={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=e[s]);return a}(e,["styles"]);return c.a.createElement("svg",ka({width:"10",height:"8",viewBox:"0 0 10 8",xmlns:"http://www.w3.org/2000/svg"},t),c.a.createElement("path",{d:"M4.385 6.76l.013.015-.896.896-3.41-3.41 1.04-1.04 2.212 2.408 4.9-4.9 1.088 1.086L4.385 6.76z"}))},Ta=a(93),Ma=a.n(Ta);class Oa extends c.a.Component{static locationGenerate(e,t){let a=e;return t&&(a+=`, ${t}`),a}onSelect(e){this.context.closeAndReverse(),this.props.saveLocation(e.id)}render(){const{data:e,suggestQuery:t,selectedSuggestItem:a,geoModalSuggestIsFocused:s}=this.props;return P()(e)||""===t||!s?null:o()("div",{className:Ma.a.root},void 0,e.map((e,t)=>o()("div",{className:Rt()(Ma.a.item,{[Ma.a.itemActive]:a.index===t}),onClick:()=>this.onSelect(e),onKeyDown:()=>{},role:"button",tabIndex:"-1"},e.id,Oa.locationGenerate(e.name,e.parents))))}}Oa.contextTypes={closeAndReverse:ne.func.isRequired};var La=Bt()(Ma.a)(Oa);var Ra=Object(Tt.a)(e=>({data:e.geo.suggest,suggestQuery:e.geo.suggestQuery,selectedSuggestItem:e.mobileUI.geoModalSuggest.selectedSuggestItem,geoModalSuggestIsFocused:e.mobileUI.geoModalSuggest.isFocused}),e=>({saveLocation(t=!1){e(aa()),e(ta(t)),t&&e(E({name:"geoid",value:t}))}}))(La),$a=a(122),Da=a.n($a),Pa=o()(Ra,{});class Ua extends c.a.Component{constructor(...e){super(...e),Q()(this,"onSearchInput",Et()(()=>{const{onSearchInput:e,modalUiState:{isModalVisible:t}}=this.props;if(!t)return!1;e(this.inputNode.value)},300)),Q()(this,"onFocus",()=>{this.inputNode.select(),this.context.selectOption(Me),this.props.setInputFocus(!0)})}componentDidUpdate(e){this.props.uiState.isFocused&&this.inputNode.focus(),this.props.modalUiState.isModalVisible&&!e.modalUiState.isModalVisible&&(this.inputNode.value="")}render(){return o()("div",{className:Da.a.root},void 0,c.a.createElement("input",{className:Da.a.input,ref:e=>this.inputNode=e,autoComplete:"off",onFocus:this.onFocus,onChange:this.onSearchInput}),Pa)}}Ua.contextTypes={closeAndReverse:ne.func.isRequired,selectOption:ne.func.isRequired};var Fa=Bt()(Da.a)(Ua);var Ba=Object(Tt.a)(e=>({uiState:e.mobileUI.geoModalSuggest,modalUiState:e.mobileUI.geoModal,suggestItems:e.geo.suggest,auto:e.geo.auto,current:e.geo.current,suggestQuery:e.geo.suggestQuery}),e=>({selectSuggestItem(t,a){e(va({component:"geoModalSuggest",name:"selectedSuggestItem",value:{index:t,geoID:a}}))},setSuggestVisibility(t){e(va({component:"geoModalSuggest",name:"isSuggestVisible",value:t}))},onSearchInput(t){t.length?e(function(e){return async t=>{try{const a=await fetch(`/location/geo_list/?s=${encodeURIComponent(e)}`);if(!1===a.ok)throw new Error(`Не удалось получить подсказки по местоположению (${a.status} ${a.statusText})`);let s={};200===a.status&&(s=await a.json()),t({type:De,payload:{data:s,query:e}})}catch(e){It(e),t({type:Pe})}}}(t)):e(aa())},setMobileGeoLocation(t){e(ta(t))},setInputFocus(t=!1){e(va({component:"geoModalSuggest",name:"isFocused",value:t}))}}))(Fa),Ha=a(12),ja=a.n(Ha),Ga=o()(Ba,{});class Wa extends c.a.Component{constructor(...e){super(...e),Q()(this,"onOptionSelect",e=>{const{selectOption:t,setInputFocus:a}=this.props,s=e.target.value;a(s===Me),t(s)}),Q()(this,"onSave",()=>{const{auto:e,current:t,saveLocation:a,saveGeoid:s}=this.props;e.id!==t.id&&(s(e.id),a(!1)),this.closeAndReverse()}),Q()(this,"setReversFocus",e=>{e?e.current.id===e.auto.id?this.setModeManual():this.setModeAuto():this.props.current.id===this.props.auto.id?this.setModeManual():this.setModeAuto()}),Q()(this,"closeAndReverse",()=>{this.props.closeModal(),this.setReversFocus()}),Q()(this,"handleClickOutside",()=>{const{uiState:{isModalVisible:e}}=this.props;e&&this.closeAndReverse()})}getChildContext(){return{closeAndReverse:this.closeAndReverse,selectOption:this.props.selectOption}}componentDidMount(){this.setReversFocus()}componentWillUpdate(e){this.props.current.id!==e.current.id&&this.setReversFocus(e)}setModeAuto(){this.props.selectOption(Te),this.props.setInputFocus(!1)}setModeManual(){this.props.selectOption(Me),this.props.setInputFocus(!0)}render(){const{auto:e,uiState:{selectedOption:t}}=this.props;return o()("div",{className:ja.a.modal,"data-geo-modal":"geo-modal"},void 0,o()("div",{className:ja.a.title},void 0,"Изменение региона"),o()(Aa,{className:ja.a.close,onClick:this.closeAndReverse}),o()("div",{className:Rt()(ja.a.option,ja.a.optionAuto)},void 0,o()("div",{className:ja.a.inputContainer},void 0,o()(Ea,{className:Rt()(ja.a.iconCheck,{[ja.a.iconCheckVisible]:t===Te})}),o()("input",{className:ja.a.radio,type:"radio",name:"geolocation",checked:t===Te,onChange:this.onOptionSelect,id:"geolocation-option-1",value:Te})),o()("label",{htmlFor:"geolocation-option-1",className:ja.a.optionLabel},void 0,e.name)),o()("div",{className:ja.a.option},void 0,o()("div",{className:ja.a.inputContainer},void 0,o()(Ea,{className:Rt()(ja.a.iconCheck,{[ja.a.iconCheckVisible]:t===Me})}),o()("input",{className:ja.a.radio,type:"radio",name:"geolocation",checked:t===Me,id:"geolocation-option-2",onChange:this.onOptionSelect,value:Me})),o()("label",{htmlFor:"geolocation-option-2",className:ja.a.optionLabel},void 0,"Задать")),Ga,o()("div",{className:ja.a.note},void 0,"По возможности будут показаны события и прогноз погоды для выбранного региона"),o()("div",{className:ja.a.buttons},void 0,o()(Ia,{className:ja.a.button,disabled:t===Me,onClick:this.onSave},void 0,"Сохранить"),o()(Ia,{className:ja.a.button,onClick:this.closeAndReverse},void 0,"Отмена")))}}Q()(Wa,"childContextTypes",{closeAndReverse:ne.func.isRequired,selectOption:ne.func.isRequired});var Va=ga()(Bt()(ja.a),fa,Ca.a)(Wa);var za=Object(Tt.a)(e=>({auto:e.geo.auto,current:e.geo.current,uiState:e.mobileUI.geoModal}),e=>({closeModal(){e(aa()),function(e){const t=document.getElementsByTagName("body")[0];e?t.classList.add("overlay"):t.classList.remove("overlay")}(!1),e(va({component:"geoModal",name:"isModalVisible",value:!1})),e(va({component:"geoModalSuggest",name:"selectedSuggestItem",value:{index:-1,geoID:null}}))},selectOption(t){e(va({component:"geoModal",name:"selectedOption",value:t}))},setInputFocus(t){e(va({component:"geoModalSuggest",name:"isFocused",value:t}))},saveLocation(t=!1){e(aa()),e(ta(t))},saveGeoid(t){t&&e(E({name:"geoid",value:t}))},clearForm(){e(va({component:"geoModalSuggest",name:"selectedSuggestItem",value:{index:-1,geoID:null}})),e(aa())}}))(Va),qa=a(94),Ya=a.n(qa),Qa=o()(za,{});var Ka=ga()(Bt()(Ya.a),wa)(class extends c.a.Component{render(){const{uiState:{isModalVisible:e}}=this.props;return o()("div",{className:Rt()(Ya.a.root,{[Ya.a.visible]:e})},void 0,Qa,o()("div",{className:Ya.a.overlay}))}});var Xa=Object(Tt.a)(e=>({uiState:e.mobileUI.geoModal}))(Ka),Ja=a(162),Za=a.n(Ja),es=a(163),ts=a.n(es);const as={default:Za.a,dark:ts.a};class ss extends c.a.Component{constructor(...e){super(...e),Q()(this,"s",as[this.props.theme]),Q()(this,"activateModal",()=>{const{uiState:{isModalVisible:e},setModalVisibility:t}=this.props;t(!e)})}render(){const{showCity:e,current:t}=this.props;return o()("div",{className:this.s.root,onClick:this.activateModal,onKeyDown:()=>{},tabIndex:"-1",role:"button","data-cerber-topline":"tpln::geo"},void 0,o()("i",{className:this.s.icon}),e&&o()("div",{className:this.s.city},void 0,t.name))}}ss.defaultProps={current:{},showCity:!1,theme:"default"};var os=ga()(Bt()(Za.a,ts.a),fa,wa)(ss);var ns=Object(Tt.a)(e=>({uiState:e.mobileUI.geoModal,current:e.geo.current}),e=>({setModalVisibility(t){const a=document.getElementsByTagName("body")[0];t?a.classList.add("overlay"):a.classList.remove("overlay"),e(va({component:"geoModal",name:"isModalVisible",value:t}))}}))(os),is=(e,t,a="head")=>`?utm_source=${a}&utm_campaign=self_promo&utm_medium=${t}&utm_content=${e}`;const rs="head",cs="head_old";var ls=a(43),ds=a.n(ls);class ps extends c.a.Component{constructor(...e){super(...e),Q()(this,"state",{doodleImageFailed:!1}),Q()(this,"utmSource",this.props.split===G?cs:rs)}componentDidMount(){const{doodle:e,alwaysGeneric:t,isMobile:a}=this.props;if(e&&!t){const t=new window.Image;t.onerror=(()=>{this.setState({doodleImageFailed:!0})}),t.src=a?e.imageMobile:e.image}}get isDoodled(){const{doodle:e,alwaysGeneric:t}=this.props;return e&&!t&&!this.state.doodleImageFailed}get top100(){const e=this.props.isMobile?"tpln":"header";return this.isDoodled?`${e}::logo_doodle`:`${e}::logo_rambler`}renderDoodle(e){const{isMobile:t}=this.props,a=t?`${is("tpln","logo")}`:`${is("head","logo",this.utmSource)}`,s=t?e.imageMobile:e.image;return o()("div",{className:Rt()(ds.a.root,ds.a.doodled,t&&ds.a.mobile)},void 0,o()("a",{href:e.url||`/${a}`,"data-logo":this.top100,className:ds.a.doodleImg,style:{backgroundImage:`url(${s})`},title:e.title},void 0," "))}renderGenericLogo(){const{isMobile:e}=this.props,t=e?`${is("tpln","logo")}`:`${is("head","logo",this.utmSource)}`;return o()("div",{className:Rt()(ds.a.root,e&&ds.a.mobile)},void 0,o()("a",{href:`/${t}`,className:ds.a.logo,title:"Рамблер","data-logo":this.top100}))}render(){return this.isDoodled?this.renderDoodle(this.props.doodle):this.renderGenericLogo()}}Q()(ps,"defaultProps",{doodle:null,alwaysGeneric:!1,isMobile:!1,split:W});var us=Bt()(ds.a)(ps);var ms=Object(Tt.a)(e=>({split:e.runtime.splitID,doodle:e.runtime.selectedDoodle}))(us),hs=a(52),gs=a.n(hs);function ws(e){return e&&e.__type&&"general"===e.__type}var vs=a(22),fs=a.n(vs),bs=a(243),_s=a.n(bs),ys=a(13),Ns=a.n(ys),Ss=a(244);function Is(){return(Is=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}var Cs=function(e){e.styles;var t=function(e,t){var a={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=e[s]);return a}(e,["styles"]);return c.a.createElement("svg",Is({xmlns:"http://www.w3.org/2000/svg",width:"40",height:"30",viewBox:"0 0 40 30"},t),c.a.createElement("path",{fill:"#DFE3EB",fillRule:"evenodd",d:"M29.139 12.959a1.486 1.486 0 0 1-1.14-1.54.491.491 0 0 1 .146-.317l.954-.954a.491.491 0 0 1 .317-.146l.081-.002c.695 0 1.304.465 1.459 1.142a1.504 1.504 0 0 1-1.817 1.817zm-3.868 1.016a.25.25 0 0 1 .413.094c.254.761.363 1.589.292 2.441-.24 2.896-2.572 5.228-5.468 5.469a6.117 6.117 0 0 1-2.441-.292.25.25 0 0 1-.094-.413l1.244-1.244a.253.253 0 0 1 .216-.07 4.016 4.016 0 0 0 4.525-4.525.25.25 0 0 1 .069-.215l1.244-1.245zM35.997 26a1 1 0 0 1-1 1H12.851a.25.25 0 0 1-.177-.427l1.427-1.427a.497.497 0 0 1 .353-.146h19.543V7h-1.146a.25.25 0 0 1-.177-.427l1.427-1.427A.497.497 0 0 1 34.454 5h.543a1 1 0 0 1 1 1v20zm-27.42-1h-2.58V7h6.789c.398 0 .779-.158 1.06-.44L16.407 4h7.18l3 3-3.73 3.72a6.019 6.019 0 0 0-2.86-.72 6.005 6.005 0 0 0-5.28 8.86L8.577 25zm7.66-7.66c-.16-.42-.24-.87-.24-1.34 0-.57.12-1.1.34-1.59.39-.93 1.14-1.68 2.07-2.07.49-.22 1.02-.34 1.59-.34.47 0 .92.08 1.34.24l-5.1 5.1zM31.991 2a1 1 0 0 0-.707.293l-3.292 3.292-3.146-3.146A1.499 1.499 0 0 0 23.786 2h-7.578a1.5 1.5 0 0 0-1.06.439L12.587 5h-7.59a1 1 0 0 0-1 1v20a1 1 0 0 0 1 1h1.58l-2.573 2.573a.25.25 0 0 0 .177.427h1.822c.265 0 .519-.106.707-.293l27.28-27.28A.25.25 0 0 0 33.813 2h-1.822z"}))},xs=a(95),As=a.n(xs);const ks="x1",Es="x2";var Ts=o()(Cs,{});class Ms extends c.a.PureComponent{constructor(...e){super(...e),Q()(this,"state",{isMounted:!1,imageSrc:!1,srcLoaded:!1,srcFailed:!1}),Q()(this,"loadImage",()=>{if(!this.rootNode)return;const e=this.getSrc();this.setState({imageSrc:e});const t=new window.Image;t.src=e,t.onload=(()=>{const{height:e,width:a}=t,s={srcLoaded:!0};1!==e&&1!==a||(s.srcFailed=!0),this.setState(s)}),t.onerror=(()=>this.setState({srcFailed:!0}))})}componentDidMount(){this.setState({isMounted:!0}),this.props.isLazy||this.loadImage()}componentDidUpdate(e){this.props.srcSet&&this.props.srcSet[ks]!==e.srcSet[ks]&&this.state.isMounted&&this.loadImage()}getSrc(){return window.devicePixelRatio>=2?this.props.srcSet[Es]:this.props.srcSet[ks]}render(){const e=this.props,{tagType:t,srcSet:a,isLazy:s}=e,n=_a()(e,["tagType","srcSet","isLazy"]);if(!a)return null;let i={};return s&&this.state.imageSrc?i={backgroundImage:`url('${this.state.imageSrc}')`}:s||(i={backgroundImage:`url('${a[Es]}')`}),c.a.createElement(t,Ns()({},n,{className:Rt()(As.a.root,this.props.className,{[As.a.loaded]:this.state.srcLoaded||!s}),ref:e=>this.rootNode=e,style:i}),this.state.srcFailed&&o()("div",{className:As.a.placeholder},void 0,Ts),this.state.isMounted&&s&&o()(Ss.a,{onEnter:this.loadImage,scrollableAncestor:"window"}),this.props.children)}}Ms.defaultProps={tagType:"div",children:[],isLazy:!0};var Os=Bt()(As.a)(Ms);function Ls(){return(Ls=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}var Rs=function(e){e.styles;var t=function(e,t){var a={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=e[s]);return a}(e,["styles"]);return c.a.createElement("svg",Ls({width:"18",height:"18",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg"},t),c.a.createElement("path",{d:"M9.5 10.939V2.75a.75.75 0 0 0-1.5 0v8.192L5.665 8.607a.75.75 0 0 0-1.061 1.06l3.536 3.536a.757.757 0 0 0 .052.048.748.748 0 0 0 1.112.005.759.759 0 0 0 .013-.013l3.536-3.536a.75.75 0 1 0-1.06-1.06L9.5 10.938zM13 15.75l.75-.75h-10l.75.75v-3a.75.75 0 0 0-1.5 0v3c0 .414.336.75.75.75h10a.75.75 0 0 0 .75-.75v-3a.75.75 0 0 0-1.5 0v3z"}))},$s=a(34),Ds=a.n($s),Ps=a(165),Us=a.n(Ps),Fs=a(166),Bs=a.n(Fs);class Hs extends c.a.Component{constructor(...e){super(...e),Q()(this,"AppItem",({item:e})=>{const{isAsideVisible:t,onAside:a}=this.props,s={x1:`/i/apps/${e.icon}.png`,x2:`/i/apps/${e.icon}@2x.png`};let n;return n=a?!!t&&s:s,o()("a",{href:e.link,className:Ds.a.app,"data-cerber-mhead":`apps::app.${e.icon}`},void 0,o()(Os,{className:Ds.a.appImg,srcSet:n,alt:e.title,isLazy:!this.props.onAside}),o()("div",{className:Ds.a.appTitle},void 0,e.title))})}static getTitle(e){switch(e){case"ios":return"Приложения для iOS";case"androidos":return"Приложения для Android";default:return"Мобильные приложения"}}static detectLink(e,t){switch(e){case"ios":return t.os.ios;case"androidos":return t.os.android;default:return t.landing?t.landing:""}}componentWillMount(){this.apps=this.formingApps()}formingApps(){const{mobileOS:e}=this.props,t=[];return _s.a.forEach(a=>{if(!["androidos","ios"].includes(e)&&"news"===a.icon)return;const s=Hs.detectLink(e,a);s&&t.push({title:a.title,icon:a.icon,link:s})}),t}render(){const{mobileOS:e,onAside:t}=this.props,a=t?Bs.a:Us.a;return o()("div",{className:Rt()(Ds.a.root,{[Ds.a.aside]:t})},void 0,o()("h4",{className:Ds.a.title},void 0,o()(Rs,{width:18,height:18,className:Ds.a.iconDownload}),Hs.getTitle(e)),c.a.createElement("div",{className:Ds.a.apps,ref:e=>this.rootNode=e},o()(fs.a,{gap:20,classNames:a,isMobile:!0},void 0,this.apps.map((e,t)=>o()(this.AppItem,{item:e,index:t},e.icon)))))}}Hs.defaultProps={onAside:!1};var js=ga()(Bt()(Ds.a,Us.a,Bs.a),wa)(Hs);var Gs=Object(Tt.a)(e=>({mobileOS:e.runtime.mobileOS,isAsideVisible:e.mobileUI.toplineAside.isAsideVisible}))(js),Ws=a(167),Vs=a.n(Ws);const zs=3e3;function qs(){return e=>{let t=!1;window.ramblerIdHelper?(window.ramblerIdHelper.getProfileInfo({},a=>{t||(e({type:lt,payload:a}),a&&e(async(e,t,{fetch:a})=>{try{const t=await a("https://mail.rambler.ru/rpc",{method:"POST",credentials:"include",headers:{"x-rambler-mail-client-version":"1.0.0","x-rambler-mail-client-type":"topline","x-rambler-mail-method":"Rambler::Mail::get_mailbox_folders","content-type":"application/json; charset=utf-8",Cookie:document.cookie},body:JSON.stringify({jsonrpc:"2.0",method:"Rambler::Mail::get_mailbox_folders",params:[{create_system_folders:!1}],id:83})}),s=await t.json();if(Ot()(s,"result.error"))return e({type:mt,payload:{error:{message:Ot()(s,"result.error.strerror")}}});e({type:ut,mailCount:Ot()(s,"result.mailbox.unseen_incoming",0)})}catch(t){e({type:mt,payload:{error:{message:t.message}}})}}),t=!0)}),setTimeout(()=>{t||(e({type:wt,payload:{}}),t=!0)},zs)):e({type:gt})}}var Ys=a(31),Qs=a.n(Ys);class Ks extends c.a.Component{constructor(...e){super(...e),Q()(this,"state",{isMounted:!1}),Q()(this,"onUserStateChange",()=>{const{getProfileInfo:e,clearProfileInfo:t,updatePersonalizedData:a}=this.props;t(),a(),e()}),Q()(this,"onFrameRedirect",(e,t)=>{window.location=t}),Q()(this,"showAuthIframe",e=>{e.preventDefault(),window.ramblerIdHelper=window.ramblerIdHelper||[],window.ramblerIdHelper.push(()=>{window.ramblerIdHelper.openAuth({rname:"head"})})}),Q()(this,"logout",e=>{e.preventDefault(),window.ramblerIdHelper.logout()})}static getIDBack(){return encodeURIComponent(window.location)}componentDidMount(){const{getProfileInfo:e}=this.props;window.ramblerIdHelper=window.ramblerIdHelper||[],window.ramblerIdHelper.push(()=>{window.ramblerIdHelper.addListener("login",this.onUserStateChange),window.ramblerIdHelper.addListener("oauthlogin",this.onUserStateChange),window.ramblerIdHelper.addListener("logout",this.onUserStateChange),window.ramblerIdHelper.addListener("redirect",this.onFrameRedirect)}),e(),this.setState({isMounted:!0})}renderAuthorized(){const{user:e}=this.props;return o()("div",{className:Qs.a.root},void 0,o()("div",{className:Qs.a.avatar,"data-cerber-topline":"tpln::inbox",style:{backgroundImage:`url('${e.display.avatar.url}')`},onTouchEnd:this.showUserDetailed}),o()("a",{"data-cerber-topline":"tpln::id::name",href:`https://id.rambler.ru/account/?back=${Ks.getIDBack()}`,className:Qs.a.name},void 0,e.display.display_name),o()("button",{type:"button",className:Qs.a.logout,onClick:this.logout,"data-cerber-topline":"tpln::id::logout"}))}renderUnauthorized(){return o()("div",{className:Qs.a.guest},void 0,o()("button",{type:"button",onClick:this.showAuthIframe,className:Qs.a.login,"data-cerber-topline":"tpln::login"},void 0,o()("i",{className:Qs.a.authIcon}),o()("span",{className:Qs.a.loginText},void 0,"Войти")))}render(){const{user:e,isDataFetched:t}=this.props,{isMounted:a}=this.state;return a&&t?P()(e)?this.renderUnauthorized():this.renderAuthorized():o()("div",{className:Qs.a.root})}}Ks.defaultProps={user:{},isDataFetched:!1};var Xs=ga()(Bt()(Qs.a),fa)(Ks);var Js=Object(Tt.a)(e=>({user:e.profile.profileInfo,isDataFetched:e.profile&&e.profile.fetched}),e=>({updatePersonalizedData:()=>{e(Jt({shouldUpdateAds:!0}))},getProfileInfo(){e(qs())},clearProfileInfo(){e(async e=>{await e({type:ht})})}}))(Xs),Zs=e=>{const t=document.body;e?t.classList.add("noScroll"):t.classList.remove("noScroll")},eo=a(14),to=a.n(eo),ao=o()(Js,{}),so=o()(ns,{theme:"dark",showCity:!0}),oo=o()(Gs,{onAside:!0});class no extends c.a.Component{constructor(...e){super(...e),Q()(this,"menuItem",(e,t)=>{const{mailCount:a,user:s}=this.props,n="mail"===e.code&&a>0,i=e.utm||e.code;return o()("a",{className:to.a.menuItem,href:`${e.url}?utm_content=${"rambler"===e.code?"head":i}&utm_medium=topline&utm_source=mhead`,"data-cerber-topline":`tpln::projects::${e.cerber||e.code}`,rel:"noopener noreferrer"},`topline-menu-${t}`,o()("i",{className:to.a.icon,style:{backgroundImage:`url("/i/aside/${e.code}.svg")`}}),o()("span",{className:Rt()(to.a.item,to.a[e.code])},void 0,e.title,n&&ws(s)&&o()("span",{className:to.a.mailCounter},void 0,a)))}),Q()(this,"closeAside",()=>{Zs(!1),window.scrollTo(0,this.props.pageYOffset),this.props.toggleAside(!1)}),Q()(this,"bodyOverflow",()=>{const{isAsideVisible:e}=this.props;e&&(Zs(this.props.isAsideVisible),window.scrollTo(0,this.props.pageYOffset))})}render(){return c.a.createElement("aside",{ref:e=>this.rootNode=e,className:Rt()(to.a.aside,{[to.a.visible]:this.props.isAsideVisible},{[to.a.fixedHeight]:this.props.isModalVisible}),onTransitionEnd:this.bodyOverflow},o()("div",{className:to.a.header},void 0,ao,o()("div",{className:to.a.controls},void 0,o()("a",{href:"https://r0.ru/"},void 0,o()("i",{className:to.a.search})),o()("button",{type:"button",className:to.a.close,onClick:this.closeAside,width:20,height:20}))),o()("div",{className:to.a.body},void 0,c.a.createElement("div",{className:to.a.menu,ref:e=>this.menuNode=e},o()("div",{className:to.a.menuItem},void 0,so),Vs.a.menu.map((e,t)=>this.menuItem(e,t))),o()("div",{className:to.a.mobileApps},void 0,oo),o()("div",{className:to.a.footer},void 0,Vs.a.footer.map((e,t)=>this.menuItem(e,t)))))}}Q()(no,"defaultProps",{mailCount:0,user:{}});var io=Bt()(to.a)(no);var ro=Object(Tt.a)(e=>({user:e.profile.profileInfo,mailCount:e.profile.mailCount,profile:e.profile,isModalVisible:e.mobileUI.registrationFrame.isModalVisible,pageYOffset:e.mobileUI.toplineAside.pageYOffset,isMobile:e.runtime.isMobile}))(io);const co=1;var lo=o()(ms,{isMobile:!0}),po=o()(ns,{});class uo extends c.a.Component{constructor(...e){super(...e),Q()(this,"state",{direction:"up"}),Q()(this,"prevPageYOffset",co),Q()(this,"toggleTopline",Et()(()=>{const e=this.state.direction;if(window.pageYOffset<=0)return"up"!==e&&(this.prevPageYOffset=co,this.setState({direction:"up"})),!1;window.pageYOffset-this.prevPageYOffset>0&&"down"!==e?this.setState({direction:"down"}):this.prevPageYOffset-window.pageYOffset>0&&"up"!==e&&this.setState({direction:"up"}),this.prevPageYOffset=window.pageYOffset},10)),Q()(this,"scrollHandler",()=>{const{toggleShadow:e,showShadow:t}=this.props;window.pageYOffset>=co&&!t?e(!0):window.pageYOffset<co&&t&&e(!1),this.toggleTopline()}),Q()(this,"toggleAside",()=>{const{isAsideVisible:e,toggleAside:t,setYOffset:a}=this.props;a(window.pageYOffset),t(!e)})}componentDidMount(){window.addEventListener("scroll",this.scrollHandler)}render(){const{showShadow:e}=this.props;return o()("div",{className:gs.a.wrapper},void 0,o()("div",{className:Rt()(gs.a.root,gs.a[this.state.direction],{[gs.a.shadow]:e})},void 0,o()("button",{type:"button",className:gs.a.burger,onClick:this.toggleAside,"data-cerber-topline":"tpln::burger"}),lo,o()("div",{className:gs.a.right},void 0,po)),c.a.createElement(ro,this.props))}}var mo=Bt()(gs.a)(uo);var ho=Object(Tt.a)(e=>({isMobile:e.runtime.isMobile,isAsideVisible:e.mobileUI.toplineAside.isAsideVisible,showShadow:e.mobileUI.topline.showShadow}),e=>({toggleAside(t){e(va({component:"toplineAside",name:"isAsideVisible",value:t}))},toggleShadow(t){e(va({component:"topline",name:"showShadow",value:t}))},setYOffset(t){e(va({component:"toplineAside",name:"pageYOffset",value:t}))}}))(mo),go=a(245),wo=a.n(go);function vo(){return{type:v,payload:{}}}var fo=a(246),bo=a.n(fo);function _o(e,t){H.push(()=>{window.top100Counter.sendCustomVars({[e]:t})})}function yo(){return(yo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}var No=function(e){e.styles;var t=function(e,t){var a={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=e[s]);return a}(e,["styles"]);return c.a.createElement("svg",yo({xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"},t),c.a.createElement("path",{fill:"#C6CAD8",fillRule:"evenodd",d:"M18.353 2.353l-.707-.707a.5.5 0 0 0-.707 0L10 8.585 3.06 1.646a.5.5 0 0 0-.707 0l-.707.707a.5.5 0 0 0 0 .707L8.585 10l-6.939 6.939a.5.5 0 0 0 0 .707l.707.707a.5.5 0 0 0 .707 0L10 11.414l6.939 6.939a.5.5 0 0 0 .707 0l.707-.707a.5.5 0 0 0 0-.707L11.414 10l6.939-6.94a.5.5 0 0 0 0-.707M20 20H0M0 0h20"}))};function So(){return(So=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}var Io=function(e){e.styles;var t=function(e,t){var a={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=e[s]);return a}(e,["styles"]);return c.a.createElement("svg",So({xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"},t),c.a.createElement("path",{fill:"#FFF",fillRule:"evenodd",d:"M20 20H0M0 0h20M8.5 15A6.508 6.508 0 0 1 2 8.5C2 4.916 4.916 2 8.5 2S15 4.916 15 8.5 12.084 15 8.5 15m10.853 2.939l-4.182-4.182a8.475 8.475 0 0 0 1.72-6.634C16.329 3.569 13.475.692 9.924.116A8.51 8.51 0 0 0 .116 9.924c.576 3.551 3.453 6.405 7.007 6.967a8.475 8.475 0 0 0 6.634-1.72l4.182 4.182a.5.5 0 0 0 .708 0l.706-.706a.5.5 0 0 0 0-.708"}))},Co=a(53),xo=a.n(Co);const Ao="&utm_source=mhead&utm_content=msearch&utm_campaign=self_promo&utm_medium=suggest&utm_term=new";class ko extends c.a.Component{static renderSuggestItem(e,t){const a=e.split(" "),s=t.replace(/[.*+#&?^${}()|[\]\\]/g,"\\$&");return o()("div",{className:xo.a.suggestQueryContainer},void 0,a.map((e,n)=>o()("span",{},`${e}-${n}`,e.match(new RegExp(s,"gi"))?o()("span",{className:xo.a.suggestQuery},void 0,t):"",e.replace(new RegExp(s,"gi"),""),n!==a.length-1?" ":"")))}getOpenstat(){const e=this.props.openstat;return e?`&_openstat=${e}`:""}render(){const{data:e,query:t,selectedSuggestItem:a,visible:s}=this.props;return e&&e.length&&t.trim().length?o()("div",{className:Rt()(xo.a.root,{[xo.a.rootShow]:s})},void 0,e.map((e,s)=>o()("a",{href:`https://nova.rambler.ru/search?query=${encodeURIComponent(e[1])}${Ao}${this.getOpenstat()}`,className:Rt()(xo.a.item,{[xo.a.itemActive]:a===s}),rel:"noopener noreferrer","data-cerber-mhead":`search::suggest::${encodeURIComponent(e[1])}`},encodeURIComponent(e[1]),ko.renderSuggestItem(e[1],t)))):null}}ko.defaultProps={visible:!1};var Eo=Bt()(xo.a)(ko);var To=Object(Tt.a)(e=>({visible:e.mobileUI.headerSearch.isSuggestVisible,data:e.search.suggest,query:e.search.query,selectedSuggestItem:e.mobileUI.headerSearch.selectedSuggestItem,openstat:e.runtime.openstat||"UmFtYmxlcl9NYWluOzs7"}))(Eo),Mo=a(35),Oo=a.n(Mo),Lo=o()("input",{type:"hidden",name:"utm_source",value:"mhead"}),Ro=o()("input",{type:"hidden",name:"utm_content",value:"msearch"}),$o=o()("input",{type:"hidden",name:"utm_campaign",value:"self_promo"}),Do=o()("input",{type:"hidden",name:"utm_term",value:"new"}),Po=o()(To,{});class Uo extends c.a.Component{constructor(...e){super(...e),Q()(this,"onClickInput",()=>{this.props.setSuggestVisibility(!0);const e=document.getElementById("sticky-search-mark");e&&e.getBoundingClientRect().top<0&&bo()(e)}),Q()(this,"onClearButtonClick",()=>{this.inputNode.focus(),this.props.clearForm()}),Q()(this,"onKeyDownInput",e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),_o("cerber-mhead","search::key"),this.form.appendChild(Uo.getUtmInput("enter")),this.form.submit())}),Q()(this,"onSubmitButtonClick",e=>{e.preventDefault(),e.stopPropagation(),this.form.appendChild(Uo.getUtmInput("button")),this.form.submit()}),Q()(this,"handleClickOutside",e=>{if("touchstart"===e.type)return!1;const{uiState:{isSuggestVisible:t},setSuggestVisibility:a}=this.props;t&&a(!1)})}static getUtmInput(e){const t=document.createElement("input");return t.type="hidden",t.name="utm_medium",t.value=e,t}componentDidMount(){const{onSearchInput:e}=this.props;this.onSearchInput=Et()(()=>e(this.inputNode.value),300)}render(){const{uiState:{isTyping:e},openstat:t}=this.props;return o()("div",{className:Oo.a.root},void 0,c.a.createElement("form",{className:Oo.a.form,method:"GET",action:"https://nova.rambler.ru/search",ref:e=>this.form=e},c.a.createElement("input",{className:Oo.a.input,type:"text",autoComplete:"off",maxLength:"200",name:"query",placeholder:"Поиск в интернете","data-cerber-mhead":"search::enter",onClick:this.onClickInput,onChange:this.onSearchInput,onKeyDown:this.onKeyDownInput,ref:e=>this.inputNode=e}),Lo,Ro,$o,Do,t?o()("input",{type:"hidden",name:"_openstat",value:t}):null,o()("button",{type:"reset",className:Rt()(Oo.a.clear,{[Oo.a.visible]:e}),onClick:this.onClearButtonClick,"data-cerber-mhead":"search::clear"},void 0,o()(No,{className:Oo.a.iconClear})),o()("button",{type:"submit",className:Oo.a.button,onClick:this.onSubmitButtonClick,"data-cerber-mhead":"search::button"},void 0,o()(Io,{width:20,height:20,className:Oo.a.iconSearch}))),Po)}}Uo.defaultProps={};var Fo=ga()(Bt()(Oo.a),Ca.a)(Uo);var Bo=Object(Tt.a)(e=>({uiState:e.mobileUI.headerSearch,suggestItems:e.search.suggest,openstat:e.runtime.openstat||"UmFtYmxlcl9NYWluOzs7"}),e=>({selectSuggestItem(t){e(va({component:"headerSearch",name:"selectedSuggestItem",value:t}))},toggleTyping(t){e(va({component:"headerSearch",name:"isTyping",value:t}))},clearForm(){e(va({component:"headerSearch",name:"isTyping",value:!1})),e(va({component:"headerSearch",name:"selectedSuggestItem",value:-1})),e(vo())},setSuggestVisibility(t){e(va({component:"headerSearch",name:"isSuggestVisible",value:t}))},onSearchInput(t){e(va({component:"headerSearch",name:"isTyping",value:""!==t})),t.length?e(function(e){return async t=>{try{const a=await wo()(`https://nova.rambler.ru/suggest?v=4&isearchv=2&isearchp=50&query=${encodeURIComponent(e)}`,{jsonpCallback:"jsonp"});if(a.ok){const s=await a.json();t({type:w,payload:{query:e,data:s[1]}})}}catch(e){console.error(e)}}}(t)):e(vo())}}))(Fo),Ho=a(123),jo=a.n(Ho),Go=o()(Bo,{});var Wo=Bt()(jo.a)(class extends c.a.Component{render(){return o()("div",{className:jo.a.root},void 0,o()("div",{className:jo.a.input},void 0,Go))}});var Vo=Object(Tt.a)(e=>({uiSearch:e.mobileUI.search,uiInput:e.mobileUI.headerSearch}),e=>({setSuggestVisibility(t){e(va({component:"headerSearch",name:"isSuggestVisible",value:t}))}}))(Wo),zo=a(44),qo=a.n(zo);const Yo=(e="")=>`?utm_source=mhead\n    &utm_content=finance\n    &utm_campaign=self_promo\n    ${""!==e?`&utm_term=${e}`:""}`.replace(/(\r\n|\n|\r)\s+/gm,""),Qo=({item:e})=>!(!e||!e.value)&&o()("a",{className:qo.a.item,href:`${e.url}${Yo(e.code)}`,"data-cerber-mhead":`widgets::widgets.finance.${e.code}`},void 0,"brent"===e.code?o()("i",{className:qo.a.iconBrent}):o()("span",{className:qo.a[e.code]}),o()("span",{className:qo.a.value},void 0,e.value.toFixed(2)),e.delta>0?o()("i",{className:qo.a.iconUp}):null,e.delta<0?o()("i",{className:qo.a.iconDown}):null);var Ko=ga()(Bt()(qo.a),fa)(class extends c.a.Component{render(){const{rates:e}=this.props;return e&&e.length?o()("div",{className:qo.a.root},void 0,o()(Qo,{item:e[0]}),o()(Qo,{item:e[1]}),o()(Qo,{item:e[2]})):null}});var Xo=Object(Tt.a)(e=>({rates:e.api.rates}))(Ko),Jo=a(50);const Zo={aries:"fire",taurus:"earth",gemini:"air",cancer:"water",leo:"fire",virgo:"earth",libra:"air",scorpio:"water",sagittarius:"fire",capricorn:"earth",aquarius:"air",pisces:"water",common:"common"},en=Object.keys({aries:"овен",taurus:"телец",gemini:"близнецы",cancer:"рак",leo:"лев",virgo:"дева",libra:"весы",scorpio:"скорпион",sagittarius:"стрелец",capricorn:"козерог",aquarius:"водолей",pisces:"рыбы"});var tn=Object(Jo.a)([e=>e.api.horoscope,e=>e.api.profile],(e,t)=>t&&e&&t.authorized?en.filter(t=>t!==e.sign):en);const an=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],sn=["Января","Февраля","Марта","Апреля","Мая","Июня","Июля","Августа","Сентября","Октября","Ноября","Декабря"],on=["January","February","March","April","May","June","July","August","September","October","November","December"];function nn(e){return e<10?`0${e}`:`${e}`}function rn(e){const t=new Date(e);return`${nn(t.getHours())}:${nn(t.getMinutes())}`}function cn(e=0){return sn[e]}function ln(e=0){return on[e]}var dn=function(e,t,a="...",s=""){if(!e)return!1;""!==s&&(e.innerText=s);const o=a.length+1;if(e.offsetHeight>t){const s=e.innerHTML.split(" ");for(;e.offsetHeight>t;)s.pop(),e.innerHTML=`${s.join(" ")}${a}`;const n=e.innerHTML[e.innerHTML.length-o];/[\/.,!?;:\-–—$£¥€%]/.test(n)&&(e.innerHTML=`${e.innerHTML.slice(0,-o)}${a}`)}},pn=a(18),un=a.n(pn),mn=a(247),hn=a.n(mn);const gn="https://m.horoscopes.rambler.ru/",wn="?utm_source=mhead&utm_campaign=self_promo&utm_content=horoscopes",vn=70;class fn extends c.a.Component{constructor(...e){super(...e),Q()(this,"state",{mounted:!1})}componentDidMount(){this.setState({mounted:!0})}componentDidUpdate(e,t){t.mounted!==this.state.mounted&&dn(this.textNode,vn)}render(){const{horoscope:e,profile:t}=this.props,a=!P()(t);if(!this.state.mounted||P()(e))return null;const s=new Date,n=`${s.getDate()} ${cn(s.getMonth()).toLowerCase()}`;return o()("div",{className:Rt()(un.a.root,un.a[e.sign])},void 0,o()("div",{className:un.a.title},void 0,o()("i",{className:un.a.icon})," Гороскоп на ",n),o()("div",{className:un.a.inner},void 0,o()("div",{className:Rt()(un.a.element,un.a[Zo[e.sign]])},void 0,o()("span",{className:Rt()(un.a.sign,un.a[e.sign],{[un.a.guest]:!a},{[un.a.authorized]:a})})),o()("div",{className:un.a.signTitle},void 0,a?e.title:"Общий"),c.a.createElement("div",{className:un.a.text,ref:e=>this.textNode=e},e.annotation)),o()("a",{href:`${gn}${a&&"common"!==e.sign?`${e.sign}/`:""}${wn}`,"data-cerber-mhead":`dailyhoro_button::split1::${a?`personal::${e.sign}`:"common"}`,className:un.a.wideButton},void 0,"Читать гороскоп"))}}Q()(fn,"defaultProps",{horoscope:{},profile:null});var bn=ga()(Bt()(un.a,hn.a),fa)(fn);var _n=Object(Tt.a)(e=>({horoscope:e.api.horoscope,profile:e.profile&&e.profile.profileInfo,signs:tn(e)}))(bn);function yn(e,t){const[a,s,o]=e.split("_");return t%10==1&&t%100!=11?a:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?s:o}var Nn=a(45),Sn=a.n(Nn);const In="https://mail-pda.rambler.ru/#/folder/INBOX/?utm_source=mhead&utm_content=mail&utm_campaign=self_promo",Cn="https://mail-pda.rambler.ru/?utm_source=mhead&utm_content=mail&utm_campaign=self_promo",xn="https://id.rambler.ru/account/registration/?utm_source=mhead&utm_content=id&utm_campaign=self_promo",An=500;class kn extends c.a.Component{constructor(...e){super(...e),Q()(this,"state",{isMounted:!1,isCounterLoaded:!1})}componentDidMount(){this.setState({isMounted:!0}),setTimeout(()=>{this.setState({isCounterLoaded:!0})},An)}getLink(e,t){const{user:a}=this.props;return e&&ws(a)?In:e&&!ws(a)&&t?xn:Cn}getCerber(e,t){const{user:a}=this.props;return e&&ws(a)?"widgets::widgets.mail::inbox":e&&!ws(a)&&t?"widgets::widgets.mail::register":"widgets::widgets.mail::login"}getTitleText(e,t){const{user:a}=this.props;return e&&ws(a)?this.getMailSuffix():e&&!ws(a)&&t?"почту":"в почту"}getMarkedText(e,t){const{user:a}=this.props;return e&&ws(a)?this.getUnseenMails():e&&!ws(a)&&t?"Завести ":"Войти "}getUnseenMails(){const e=this.props.mailCount;if(!e)return"";const t=e>99?"99+":e;return`${t} ${yn("новое_новых_новых",parseInt(t,10))} `}getMailSuffix(){const e=this.props.mailCount;return e?yn("письмо_письма_писем",parseInt(e>99?"99+":e,10)):"Нет писем"}render(){const{user:e,mailCount:t,isProfileFetched:a,isMailFetched:s}=this.props,n=a&&this.state.isMounted,i=!P()(e),r=!P()(e)&&!t,c=t>99?"99+":t;return o()("div",{className:Sn.a.root},void 0,n?o()("a",{href:this.getLink(i,r),"data-cerber-mhead":this.getCerber(i,r),className:Rt()(Sn.a.link,{[Sn.a.linkLoaded]:this.state.isCounterLoaded})},void 0,o()("div",{className:Sn.a.icon},void 0,o()("i",{className:Sn.a.iconMail}),t&&s?o()("span",{className:Sn.a.counter},void 0,c):null),o()("div",{className:Sn.a.title,"data-title":this.getMarkedText(i,r)},void 0,this.getTitleText(i,r))):null)}}kn.defaultProps={user:{},mailCount:0,isProfileFetched:!1,isMailFetched:!1};var En=ga()(Bt()(Sn.a),fa)(kn);var Tn=Object(Tt.a)(e=>({user:e.profile.profileInfo,mailCount:e.profile.mailCount,isProfileFetched:e.profile.fetched,isMailFetched:e.profile.isMailFetched}))(En),Mn=a(36),On=a.n(Mn);const Ln="https://weather.rambler.ru",Rn="?utm_source=mhead&utm_content=weather&utm_campaign=self_promo",$n="now",Dn="tomorrow";class Pn extends c.a.Component{render(){const{type:e,data:t}=this.props,a=e===$n,s=e===Dn;if(P()(t))return null;const{city:n,date:i}=t,r=t[e];if(!r||!r.temp||"string"!=typeof r.temp)return null;const c=r.temp.replace("-","–"),l=new Date(i),d=function(e){return(e=e?new Date(e):new Date).setDate(e.getDate()+1),e}(l),p=s?`${d.getDate()}-${ln(d.getMonth()).toLowerCase()}`:`${l.getDate()}-${ln(l.getMonth()).toLowerCase()}`,u=`${function(e=0){return an[e]}(l.getDay())}. ${l.getDate()} ${cn(l.getMonth())}`;return o()("a",{href:`${Ln}/${n}/${p}${Rn}`,className:Rt()(On.a.root,On.a[e]),"data-cerber-mhead":"widgets::widgets.weather"},void 0,o()("div",{className:On.a.weather},void 0,o()("div",{className:On.a.degree},void 0,c),o()("div",{className:Rt()(a?On.a.icon40x40:On.a.icon20x20,On.a[r.alias])})),o()("div",{className:On.a.date},void 0,a?u:"Завтра"))}}Pn.defaultProps={data:{}};var Un=ga()(Bt()(On.a),fa)(Pn);var Fn=Object(Tt.a)(e=>({data:e.api.weather}))(Un);const Bn=[3,3,4,3],Hn=Bn.reduce((e,t)=>e+t,0),jn=Bn.reduce((e,t,a)=>0===a?e:[...e,e[a-1]+Bn[a-1]],[0]);var Gn=Object(Jo.a)([e=>e.api.recommendations],e=>{if(!e||P()(e.items))return!1;const t=e.items.slice(0,Hn).map((e,t)=>(e.num=t+1,e.originalUrl=e.link?e.link.split("?")[0]:"",e));return Bn.map((e,a)=>t.slice(jn[a],jn[a]+e))}),Wn=a(124),Vn=a.n(Wn);class zn extends c.a.Component{constructor(...e){super(...e),Q()(this,"getRootRef",e=>this.rootNode=e),Q()(this,"getTextRef",e=>this.textNode=e)}componentDidMount(){this.multilineStringOverflow()}componentDidUpdate(e){e.text!==this.props.text&&this.multilineStringOverflow()}isTextFit(e){return this.textNode.offsetHeight<=e}multilineStringOverflow(){const{text:e,ellipsis:t,maxLenWordBrake:a}=this.props;if(!this.rootNode||!this.textNode||0===e.length)return!1;const s=this.props.maxHeight||this.rootNode.offsetHeight;if(!this.isTextFit(s)){const o=e.split(" ");for(;!this.isTextFit(s)&&o.length>0;){const e=o.pop();if(e.length>a){const t=Math.floor(e.length/2);o.push(e.slice(0,t))}this.textNode.innerHTML=`${o.join(" ")}${t} `}const n=this.textNode.innerHTML.trim().slice(0,-t.length).replace(/[\/.,!?;:\-–—$£¥€%\s]+$/g,"");this.textNode.innerHTML=`${n}${t}`}}render(){const{text:e,target:t,textTop100:a,url:s,className:o,classNameTitle:n,textHeadingLevel:i}=this.props,r=s?"a":"span",l=i>0&&i<7?`h${i}`:"span";return c.a.createElement(r,Ns()({className:Rt()(Vn.a.root,o),ref:this.getRootRef},s?{href:s,target:t}:{}),c.a.createElement(l,Ns()({className:Rt()(Vn.a.title,n),ref:this.getTextRef},a),e))}}Q()(zn,"defaultProps",{url:null,target:"",textTop100:{},maxHeight:0,maxLenWordBrake:10,className:"",classNameTitle:"",ellipsis:"…",textHeadingLevel:0,debug:!1});var qn=Bt()(Vn.a)(zn);var Yn=a(96),Qn=a.n(Yn);class Kn extends c.a.Component{constructor(...e){super(...e),Q()(this,"getTop100EventKey",e=>{const{isRedactionChoice:t,num:a,api:s}=this.props;return["rec","null",t,a,e,"nova"===s?Ie:"null","null"].join("::")}),Q()(this,"onScroll",()=>{if(!this.node)return!1;const e=this.node.getBoundingClientRect();return 0!==e.height&&(!(e.top+e.height/2>=window.innerHeight)&&(window.removeEventListener("scroll",this.onScroll),void H.push(()=>{window.top100Counter.sendCustomVars({[this.getTop100EventKey("show")]:this.props.originalUrl})})))}),Q()(this,"onClick",()=>{const{internalId:e,isEditorsChoice:t}=this.props;t&&e&&function(e){de("/api/v3/editorsChoice/click",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})})}(e),H.push(()=>{window.top100Counter.sendCustomVars({[this.getTop100EventKey("click")]:this.props.originalUrl})})}),Q()(this,"getItemNode",e=>this.node=e)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}render(){const{title:e,link:t,url:a,image:s,origin:n,image2x:i,num:r,originalUrl:l,section:d,index:p}=this.props;return t||a?c.a.createElement("a",{target:"_blank",href:t||a,onClick:this.onClick,"data-url":l,"data-num":r,"data-recommend":`recommendations::${n}::${r}`,"data-cerber-mhead":`recommendations::recommendation.${d+1}.${p+1}`,className:Qn.a.root,ref:this.getItemNode},o()(Os,{className:Qn.a.image,srcSet:{x1:s,x2:i||s}}),o()("div",{className:Qn.a.title},void 0,o()(qn,{text:e,maxHeight:55}))):null}}Kn.defaultProps={internalId:null,link:"",url:"",image2x:"",isRedactionChoice:!1,isEditorsChoice:!1};var Xn=Bt()(Qn.a)(Kn),Jn=a(76),Zn=a.n(Jn);class ei extends c.a.Component{render(){const{data:e,section:t,modelSplitId:a,currentSection:s,withMore:n}=this.props,i=e[t];if(!i)return null;const r=i.map((e,s)=>c.a.createElement(Xn,Ns()({},e,{section:t,index:s,modelSplitId:a,key:e.id||s})));return r.length?o()("div",{className:Zn.a.root},void 0,r,n&&o()("div",{className:Zn.a.more},void 0,o()(Ia,{size:"small","data-cerber-mhead":`${s}::rec::button`,href:`https://weekend.rambler.ru/${is("weekend","rec","mhead")}`,buttonClass:Zn.a.wideButton},void 0,"Ещё рекомендации ",o()("i",{className:Zn.a.iconArrow})))):null}}ei.defaultProps={data:[],modelSplitId:"",withMore:!1};var ti=ga()(Bt()(Zn.a),fa,wa)(ei);var ai=Object(Tt.a)(e=>({data:Gn(e),modelSplitId:e.runtime.splitRecommendationsFromModel,currentSection:e.runtime.currentSection}))(ti),si=a(51),oi=a.n(si),ni=a(120),ii=a.n(ni);var ri=Object(Jo.a)([e=>e.api.news,e=>e.runtime.CSR,e=>e.runtime.currentSection],(e,t,a)=>{if(!e)return[];if(!t&&a){if(!Nt.w.includes(a))return[];e=oi()(e,(e,t)=>t===a)}return ii()(Nt.w.map(t=>{const a=e[t];return!a||a.items.length<Nt.v?null:i()({},a,{imageItem:a.items[0],items:a.items.slice(1,Nt.v)})}))}),ci=a(248),li=a.n(ci),di=a(97),pi=a.n(di);const ui=e=>[V,z].includes(e),mi="x1",hi="x2";class gi extends c.a.PureComponent{constructor(...e){super(...e),Q()(this,"state",{imageSrc:this.props.isLazy?"":this.getSrc(),srcLoaded:!1,srcFailed:!1,isLoading:!1}),Q()(this,"onScroll",()=>{if(!this.rootNode)return!1;this.rootNode.getBoundingClientRect().top<=window.innerHeight&&(window.removeEventListener("scroll",this.onScroll),this.loadImage())}),Q()(this,"loadImage",()=>{const{isLoading:e}=this.state;if(e)return;const t=this.getSrc(window.devicePixelRatio);if(!t)return void this.setState({srcFailed:!0,srcLoaded:!1});const a=new window.Image;a.onload=(()=>{const{height:e,width:t}=a;this.setState({srcLoaded:!0,isLoading:!1,srcFailed:1===e||1===t}),this.forceUpdate()}),a.onerror=(()=>{console.warn(`Не удалось загрузить изображение: ${a.src}`),this.setState({srcFailed:!0,srcLoaded:!1,isLoading:!1}),this.forceUpdate()}),a.src=t,this.setState({imageSrc:t,isLoading:!0})})}componentDidMount(){this.props.isLazy&&(window.addEventListener("scroll",this.onScroll),this.onScroll())}componentDidUpdate(e){this.props.srcSet[mi]===e.srcSet[mi]&&this.props.srcSet[hi]===e.srcSet[hi]&&this.props.src===e.src||this.loadImage()}componentWillUnmount(){this.props.isLazy&&window.removeEventListener("scroll",this.onScroll)}getRstorageUrl(e=2){const{src:t,size:a,quality:s,prog:o,webp:n,splitRstorage:i}=this.props;return`${t}?img-format=${n&&i===z?encodeURIComponent("webp:size:25"):encodeURIComponent(`jpeg:comp:${s},prog:${o}`)}&img-1-resize=${e>=2?encodeURIComponent(`width:${2*a.width},height:${2*a.height},fit:max`):encodeURIComponent(`width:${a.width},height:${a.height},fit:max`)}`}getImageUrl(e=2){const{srcSet:t}=this.props;return e>=2&&t[hi]||t[mi]}getSrc(e){const{src:t,splitRstorage:a}=this.props;return t&&ui(a)?this.getRstorageUrl(e):this.getImageUrl(e)}render(){const e=this.props,{tagType:t,srcSet:a,isLazy:s,src:o,webp:n,prog:i,quality:r,size:l,dispatch:d,splitRstorage:p}=e,u=_a()(e,["tagType","srcSet","isLazy","src","webp","prog","quality","size","dispatch","splitRstorage"]),m=this.state.imageSrc?{backgroundImage:`url('${this.state.imageSrc}')`}:{};return c.a.createElement(t,Ns()({},u,{className:Rt()(pi.a.root,this.props.className,{[pi.a.loaded]:this.state.srcLoaded||!s},{[pi.a.failed]:this.state.srcFailed}),ref:e=>this.rootNode=e,style:m}),this.props.children)}}gi.defaultProps={tagType:"div",children:[],isLazy:!1,title:"",srcSet:{},src:"",prog:!0,quality:85,webp:!1,size:{width:200,height:200}};var wi=Bt()(pi.a)(gi);var vi=Object(Tt.a)(e=>({splitRstorage:e.runtime.splits.rstorage,webp:e.runtime.webp}))(wi),fi=a(249),bi=a.n(fi),_i=a(168),yi=a.n(_i);class Ni extends c.a.Component{render(){const e=bi()(this.props,["tagName"]),{comments:t}=e,a=_a()(e,["comments"]);if(!t||t<1)return null;const s=this.props.tagName;return c.a.createElement(s,a,o()("i",{className:yi.a.icon,width:13,height:13})," ",t)}}Q()(Ni,"defaultProps",{comments:0,tagName:"a"});var Si=Bt()(yi.a)(Ni),Ii=a(16),Ci=a.n(Ii);const xi=48,Ai=72;class ki extends c.a.Component{constructor(...e){super(...e),Q()(this,"cutTitle",()=>{const{hasTopic:e}=this.props,t=e?xi:Ai;setTimeout(()=>{dn(this.textNode,t,"...")},0)})}static getItemIcon(e){return"photo"===e||"gallery"===e?o()("i",{className:Rt()(Ci.a.icon,Ci.a.photoIcon)}):null}componentDidMount(){window.addEventListener("orientationchange",this.cutTitle),window.addEventListener("load",this.cutTitle)}shouldComponentUpdate(e){return!li()(this.props,e)}render(){const e=this.props,{data:t,isMarked:a,cerber:s,hasTopic:n}=e,i=_a()(e,["data","isMarked","cerber","hasTopic"]);return c.a.createElement("div",Ns()({},i,{className:Rt()(Ci.a.root,{[Ci.a.isMarked]:a})}),o()("div",{className:Ci.a.imageWrapper},void 0,o()(vi,{className:Ci.a.image,srcSet:{x1:t.imageSquare,x2:t.imageBig},src:t.rstorageUrl,size:{width:100,height:90},isLazy:!0},void 0,ki.getItemIcon(t.mediaType))),o()("div",{className:Ci.a.body},void 0,o()("div",{className:Ci.a.headline},void 0,o()("div",{className:Ci.a.datetime},void 0,rn(1e3*t.pubdate)),o()(Si,{comments:t.comments,className:Ci.a.comments,tagName:"span"})),o()("div",{className:Rt()(Ci.a.titleWrapper,{[Ci.a.short]:n,[Ci.a.withComments]:t.comments>0})},void 0,c.a.createElement("a",{href:`${t.mobileUrl}?utm_source=mhead&utm_content=news&utm_campaign=self_promo`,className:Ci.a.title,"data-cerber-mhead":s,ref:e=>this.textNode=e},t.title)),n&&o()("div",{className:Ci.a.topic},void 0,t.topic)))}}ki.defaultProps={isMarked:!1,cerber:"",hasTopic:!1};var Ei=Bt()(Ci.a)(ki);class Ti extends c.a.PureComponent{constructor(...e){super(...e),Q()(this,"handleClick",e=>{if(this.props.to.startsWith("http"))return!0;this.props.onClick&&this.props.onClick(e),!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)&&function(e){return 0===e.button}(e)&&!0!==e.defaultPrevented&&(e.preventDefault(),M.push(this.props.to))})}render(){const e=this.props,{to:t,children:a}=e,s=_a()(e,["to","children"]);return c.a.createElement("a",Ns()({href:t},s,{onClick:this.handleClick}),a)}}Q()(Ti,"defaultProps",{onClick:null,children:null});var Mi=Ti;const Oi="https://news.rambler.ru",Li="?utm_source=mhead&utm_campaign=self_promo&utm_content=news&utm_term=";var Ri=a(37),$i=a.n(Ri);const Di=100;class Pi extends c.a.Component{static getDateTime(e){return o()("div",{className:$i.a.datetime},void 0,rn(1e3*e))}componentDidMount(){dn(this.titleNode,Di,"...")}render(){const{data:e,cerber:t}=this.props;return e?o()("div",{className:$i.a.root},void 0,o()(vi,{tagType:"a",className:$i.a.image,"data-cerber-mhead":t,href:`${e.mobileUrl}?utm_source=mhead&utm_content=news&utm_campaign=self_promo`,srcSet:{x1:e.imageBig,x2:e.imageBig},src:e.rstorageUrl,size:{width:200,height:135},isLazy:!0},void 0,o()("div",{className:$i.a.newsInner},void 0,c.a.createElement("span",{className:$i.a.title,ref:e=>this.titleNode=e},e.title),o()("div",{className:$i.a.footer},void 0,o()("div",{className:$i.a.topic},void 0,e.topic),o()(Si,{tagName:"span",comments:e.comments,className:$i.a.comments,"data-cerber-mhead":`${t}::comment`}),Pi.getDateTime(e.pubdate))))):null}}var Ui=Bt()($i.a)(Pi),Fi=a(46),Bi=a.n(Fi),Hi=a(169),ji=a.n(Hi),Gi=a(170),Wi=a.n(Gi);const Vi={[Nt.s]:"https://woman.rambler.ru",[Nt.d]:"https://auto.rambler.ru",[Nt.o]:"https://sport.rambler.ru",[Nt.q]:"https://travel.rambler.ru"};class zi extends c.a.Component{constructor(...e){super(...e),Q()(this,"state",{sectionIndex:-1}),Q()(this,"prevIndex",1),Q()(this,"handleCategoryClick",e=>{this.setState({sectionIndex:e}),_o("news_bottom_click",`${this.prevIndex+1}_${e+1}`),this.prevIndex=e,Kt()}),Q()(this,"handleListSwiped",e=>{this.prevIndex!==e&&(_o("news_bottom",`${this.prevIndex+1}_${e+1}`),this.prevIndex=e,this.setState({sectionIndex:e}),setTimeout(()=>M.push(`/${this.props.items[e].topic}`)),Kt())})}static constructMoreNewsLink(e){return Vi[e]?`${Vi[e]}/${Li}${e}`:`${Oi}/${e}/${Li}${e}`}componentWillMount(){this.createNewsUrlsMap(this.props);const e=this.getSectionIndex();this.prevIndex=-1===e?0:e,this.setState({sectionIndex:e})}shouldComponentUpdate(e,t){const a=this.props.items.length!==e.items.length,s=this.props.categories.length!==e.categories.length,o=this.state.sectionIndex!==t.sectionIndex;return a||s||o}componentWillUpdate(e){this.createNewsUrlsMap(e)}getSectionIndex(){const{categories:e,currentSection:t}=this.props;return e.findIndex(e=>e.topic===t)}getCategoryTop100(e,t){return{"data-cerber-mhead":`topics::topics.med.${t}::click${e===this.state.sectionIndex?2:1}`}}getCategoryHref(e,t){return{to:e===this.state.sectionIndex?this.newsUrls[t]:`/${t}`}}createNewsUrlsMap(e){this.newsUrls={},e.items.forEach(e=>{this.newsUrls[e.topic]=zi.constructMoreNewsLink(e.topic)})}render(){const{items:e,categories:t}=this.props,{sectionIndex:a}=this.state;if(!e||!e.length)return null;if(!t||!t.length)return null;const s=e[a]?e[a].topic:Nt.p,n=this.newsUrls[s];return o()("div",{className:Bi.a.root},void 0,o()("div",{className:Bi.a.categories},void 0,o()(fs.a,{currentIndex:a,classNames:Wi.a,onClick:this.handleCategoryClick,disableCheckpoints:!0,center:!0,gap:20},void 0,e.map((e,t)=>c.a.createElement(Mi,Ns()({key:`category-${e.topic}`},this.getCategoryHref(t,e.topic),this.getCategoryTop100(t,e.topic)),e.title)))),o()("div",{className:Bi.a.news},void 0,o()(fs.a,{classNames:ji.a,currentIndex:a,onSwiped:this.handleListSwiped},void 0,e.map(e=>o()("div",{className:Rt()(Bi.a.newsList)},`news-list-${e.topic}`,o()(Ui,{"data-cerber-mhead":`news::${e.topic}::teaser.med.1`,cerber:`news::${e.topic}::teaser.med.1`,data:e.imageItem},`news-item-${e.imageItem.clid}`),e.items.map((t,a)=>o()(Ei,{data:t,cerber:`news::${e.topic}::news.med.${a+2}`,hasTopic:!0},`news-item-${t.clid}`)))))),o()("div",{className:Bi.a.more},void 0,o()(Ia,{size:"small","data-cerber-mhead":"news::allnews_button_med",href:n,buttonClass:Bi.a.wideButton},void 0,"Больше новостей ",o()("i",{className:Bi.a.iconArrow}))))}}var qi=ga()(Bt()(Bi.a,ji.a,Wi.a),fa)(zi);const Yi=e=>{const t=oi()(e.api.news,(e,t)=>Nt.w.includes(t));return Object.keys(t).map(e=>({topic:e,title:t[e].title}))};var Qi=Object(Tt.a)(e=>({items:ri(e),categories:Yi(e),currentSection:e.runtime.currentSection}))(qi),Ki=a(77),Xi=a.n(Ki);var Ji=ga()(Bt()(Xi.a),fa)(class extends c.a.Component{render(){const e=this.props.traffic;return e&&e.level?o()("a",{href:e.url,rel:"noopener",target:"_blank",className:Xi.a.root,"data-cerber-mhead":"widgets::widgets.traffic"},void 0,o()("div",{className:`${Xi.a.value} ${Xi.a[e.icon]}`},void 0,e.level),o()("span",{className:Xi.a.title},void 0,"Пробки")):null}});var Zi=Object(Tt.a)(e=>({traffic:e.api.traffic}))(Ji);var er=Object(Jo.a)([e=>e.api.news,e=>e.runtime.CSR,e=>e.runtime.currentSection,e=>e.api.clidItem],(e,t,a,s)=>{if(!e)return[];if(!t&&a&&a!==Nt.k){if(!Nt.c.includes(a))return[];e=oi()(e,(e,t)=>t===a)}return ii()(Nt.c.map(t=>{const a=e[t];if(!a||a.items.length<Nt.b)return null;if(s&&a.items[0].clid!==s.clid){const e=a.items.findIndex(e=>e.clid===s.clid);e&&a.items.splice(e,1),a.items.unshift(s)}return a.items.length=Nt.b,a}))}),tr=a(98),ar=a.n(tr);class sr extends c.a.PureComponent{render(){const{currentSection:e,isMobile:t}=this.props,a=Nt.u[e];return a?o()("h1",{className:Rt()(ar.a.root,{[ar.a.mobile]:t,[ar.a.desktop]:!t})},void 0,a):null}}Q()(sr,"defaultProps",{isMobile:!1});var or=Bt()(ar.a)(sr);var nr=Object(Tt.a)(e=>({currentSection:e.runtime.currentSection}))(or),ir=a(32),rr=a.n(ir),cr=a(171),lr=a.n(cr),dr=a(172),pr=a.n(dr),ur=o()(nr,{isMobile:!0});class mr extends c.a.Component{constructor(...e){super(...e),Q()(this,"state",{sectionIndex:-1}),Q()(this,"newsWithImagePositions",[1,4,8]),Q()(this,"prevIndex",1),Q()(this,"handleCategoryClick",e=>{this.setState({sectionIndex:e}),_o("news_top_click",`${this.prevIndex+1}_${e+1}`),this.prevIndex=e,Kt()}),Q()(this,"handleListSwiped",e=>{if(this.prevIndex===e)return;this.setState({sectionIndex:e}),_o("news_top",`${this.prevIndex+1}_${e+1}`),this.prevIndex=e;let t=this.props.items[e].topic;t=t===Nt.k?"":t,setTimeout(()=>M.push(`/${t}`),0),setTimeout(()=>Kt(),0)})}static getCerber(e,t,a="head"){let s=`news::${a}::teaser.top.${e+1}`;return t&&t>0&&(s+="::comment"),s}static constructMoreNewsLink(e){return`${Nt.k===e?Oi:`${Oi}/${e}`}/${Li}${e}`}componentWillMount(){this.createNewsUrlsMap();const e=this.getSectionIndex();this.prevIndex=-1===e?0:e,this.setState({sectionIndex:e})}shouldComponentUpdate(e,t){const a=this.props.items.length!==e.items.length,s=this.props.categories.length!==e.categories.length,o=this.state.sectionIndex!==t.sectionIndex,n=this.props.currentSection!==e.currentSection;return a||s||o||n}componentDidUpdate(){this.createNewsUrlsMap()}getSectionIndex(){const{categories:e,currentSection:t}=this.props;return e.findIndex(e=>e.topic===t)}getCategoryTop100(e,t){return{"data-cerber-mhead":`topics::topics.top.${t}::click${e===this.state.sectionIndex?2:1}`}}getCategoryHref(e,t){return{to:e===this.state.sectionIndex?this.newsUrls[t]:`/${t===Nt.k?"":t}`}}createNewsUrlsMap(){this.newsUrls={},this.props.items.forEach(e=>{this.newsUrls[e.topic]=mr.constructMoreNewsLink(e.topic)})}render(){const{items:e,clid:t,categories:a,newsFeatured:s,splitTopNewsBlock:n}=this.props,{sectionIndex:i}=this.state;if(!e||!e.length)return null;if(!a||!a.length)return null;const r=n===q,l=s.slice(1),d=e[i]?e[i].topic:Nt.k,p=this.newsUrls[d];return o()("div",{className:rr.a.root},void 0,r&&l.length>0&&o()("div",{className:rr.a.feature},void 0,l.map((e,t)=>o()(Ei,{data:e,cerber:mr.getCerber(t+1,e.comments,"slider")},`news-${e.clid}`))),o()("div",{className:rr.a.categories},void 0,o()(fs.a,{currentIndex:i,classNames:pr.a,onClick:this.handleCategoryClick,disableCheckpoints:!0,center:!0,gap:20},void 0,e.map((e,t)=>c.a.createElement(Mi,Ns()({className:rr.a.categoryItem,key:`category-${e.topic}`},this.getCategoryHref(t,e.topic),this.getCategoryTop100(t,e.topic)),e.title)))),o()("div",{className:rr.a.news},void 0,ur,o()(fs.a,{currentIndex:i,classNames:lr.a,onSwiped:this.handleListSwiped},void 0,e.map(e=>o()("div",{className:rr.a.newsList},`news-list-${e.topic}`,e.items.map((a,s)=>o()(Ei,{isMarked:a.clid===t,data:a,cerber:a.clid===t?`news::${e.topic}::news.top.1::${t}`:`news::${e.topic}::news.top.${s+1}`},`news-${e.topic}-${a.clid}`)))))),o()("div",{className:rr.a.more},void 0,o()(Ia,{size:"small","data-cerber-mhead":"news::allnews_button_top",href:p,buttonClass:rr.a.wideButton},void 0,"Больше новостей ",o()("i",{className:rr.a.iconArrow}))))}}mr.defaultProps={newsFeatured:[]};var hr=ga()(Bt()(rr.a,lr.a,pr.a),fa)(mr);const gr=e=>{const t=oi()(e.api.news,(e,t)=>Nt.c.includes(t));return Object.keys(t).map(e=>({topic:e,title:t[e].title}))};var wr=Object(Tt.a)(e=>({items:er(e),categories:gr(e),clid:e.runtime.clid,currentSection:e.runtime.currentSection,newsFeatured:e.api.newsFeatured,splitTopNewsBlock:e.runtime.splits.topNewsBlockMobile}))(hr),vr=a(24),fr=a.n(vr),br=a(173),_r=a.n(br);const yr=96;class Nr extends c.a.Component{constructor(...e){super(...e),Q()(this,"prevIndex",1),Q()(this,"cutTitles",()=>{Array.prototype.forEach.call(document.getElementsByClassName(fr.a.title),e=>dn(e,yr))}),Q()(this,"handleSwiped",e=>{this.prevIndex!==e&&(_o("slider",`${this.prevIndex+1}_${e+1}`),this.prevIndex=e)}),Q()(this,"renderArticle",(e,t)=>o()("article",{className:fr.a.item},e.clid,o()(vi,{className:fr.a.image,srcSet:{x1:e.imageSquare,x2:e.imageBig},src:e.rstorageUrl,size:{width:260,height:170}}),o()("h3",{className:fr.a.title},void 0,o()("a",{className:fr.a.link,href:`${e.mobileUrl}?utm_source=mhead&utm_content=news&utm_campaign=self_promo`,"data-cerber-mhead":Nr.getCerber(t,e.comments,"slider")},void 0,e.title)),o()("div",{className:fr.a.meta},void 0,o()("div",{className:fr.a.section},void 0,e.topic),o()(Si,{comments:e.comments,className:fr.a.comments,tagName:"span"}),o()("time",{className:fr.a.timestamp,dateTime:Nr.urlTime(1e3*e.pubdate)},void 0,rn(1e3*e.pubdate)))))}static getCerber(e,t,a="head"){let s=`news::${a}::teaser.top.${e+1}`;return t&&t>0&&(s+="::comment"),s}static urlTime(e){const t=new Date(e);return`${t.getFullYear()}-${nn(t.getMonth()+1)}-`+`${nn(t.getDate())}T${function(e){const t=new Date(e);return`${nn(t.getHours())}:${nn(t.getMinutes())}:${nn(t.getSeconds())}`}(e)}${function(e){const t=new Date(e).getTimezoneOffset();return`${t<=0?"+":"-"}${nn(parseInt(Math.abs(t/60),10))}:${nn(Math.abs(t%60))}`}(e)}`}render(){const{items:e,splitTopNewsBlock:t}=this.props;return e&&e.length?t===q?o()("div",{className:fr.a.root},void 0,o()("div",{className:fr.a.single},void 0,this.renderArticle(e[0],0))):o()("div",{className:fr.a.root},void 0,o()(fs.a,{gap:20,pagination:!0,loop:!0,onInit:this.cutTitles,onSwiped:this.handleSwiped,classNames:_r.a,isMobile:!0},void 0,e.map(this.renderArticle))):null}}Nr.defaultProps={items:[]};var Sr=ga()(Bt()(fr.a,_r.a),fa)(Nr);var Ir=Object(Tt.a)(e=>({items:e.api.newsFeatured,splitTopNewsBlock:e.runtime.splits.topNewsBlockMobile}))(Sr),Cr=a(25),xr=a.n(Cr);const Ar=45,kr=35,Er="https://m.kassa.rambler.ru",Tr="?utm_source=mhead&utm_content=kassa&utm_campaign=self_promo";var Mr=Bt()(xr.a)(class extends c.a.Component{componentDidMount(){dn(this.titleNode,Ar),dn(this.genreNode,kr)}generateRatingStars(){const{data:e}=this.props,{rating:t}=e,a=[],s=Math.round(t/2);for(let e=0;e<5;e++)a.push(e+1<s?o()("i",{className:xr.a.yellowstar},`rating-star-${e}`):o()("i",{className:xr.a.whitestar},`rating-star-${e}`));return a}render(){const e=this.props,{data:t}=e,a=_a()(e,["data"]);if(!t)return null;const{id:s,title:n,genre:i,imageMobile:r,imageMobile2x:l,rstorageUrl:d,date:p}=t;return c.a.createElement("a",Ns()({},a,{href:`${Er}/movie/${s}${Tr}`,className:xr.a.root}),o()("div",{className:xr.a.main},void 0,o()(vi,{className:Rt()(xr.a.poster,"kassa-movie__poster"),srcSet:{x1:r,x2:l},src:d,size:{width:90,height:135},isLazy:!0}),o()("div",{className:Rt()(xr.a.info,xr.a.wide)},void 0,o()("div",{className:xr.a.rating},void 0,this.generateRatingStars()),c.a.createElement("div",{className:xr.a.title,ref:e=>this.titleNode=e},n),c.a.createElement("div",{className:xr.a.genre,ref:e=>this.genreNode=e},i),o()("div",{className:xr.a.date},void 0,p),o()("button",{type:"button",className:xr.a.wideButton},void 0,"Купить билет "))))}}),Or=a(54),Lr=a.n(Or),Rr=a(174),$r=a.n(Rr);var Dr=ga()(Bt()(Lr.a,$r.a),fa)(class extends c.a.Component{render(){const{data:e}=this.props;return!e||P()(e)?null:o()("div",{className:Lr.a.root},void 0,o()("div",{className:Lr.a.in},void 0,o()("div",{className:Lr.a.title},void 0,o()("i",{className:Lr.a.iconTitle}),"Билеты в кино"),o()("div",{className:Lr.a.movies},void 0,o()(fs.a,{gap:0,loop:!0,classNames:$r.a,isMobile:!0,pagination:!0},void 0,e.map((t,a)=>o()("div",{className:Rt()(Lr.a.movie)},`movie-${e.id}-${a}`,o()(Mr,{data:t,"data-cerber-mhead":`kassa::film::${a+1}`})))))))}});var Pr=Object(Tt.a)(e=>({data:e.api.kassa}))(Dr),Ur=a(250),Fr=a.n(Ur),Br=a(175),Hr=a.n(Br);class jr extends c.a.Component{componentWillMount(){const{theme:e}=this.props;this.s={default:Hr.a}[e]}render(){const{items:e}=this.props;return o()("div",{className:this.s.root},void 0,e.map(e=>o()("a",{target:"_blank",rel:"noopener",href:e.href,className:this.s[e.type],"data-head":`footer::smm::${e.type}`},`socialLink-${e.type}`," ")))}}Q()(jr,"defaultProps",{theme:"default"});var Gr=Bt()(Hr.a)(jr),Wr=a(55),Vr=a.n(Wr),zr=o()("a",{href:"http://help.rambler.ru/feedback/www/",rel:"nofollow","data-cerber-mhead":"feedback"},void 0,"Обратная связь");class qr extends c.a.Component{static setDesktopCookie(){return[".rambler.ru",".rambler.ua"].map(e=>document.cookie=At.a.serialize("rswitch","desktop",{domain:e,path:"/",maxAge:2592e5})),window.location.reload(),!1}render(){const e=new Date(this.props.dateNow).getFullYear(),{socialLinks:t}=this.props;return o()("div",{className:Vr.a.root},void 0,o()("div",{className:Vr.a.logoContainer},void 0,o()("div",{className:Vr.a.logo,"data-cerber-mhead":"logo_head_bottom"})),o()(Gr,{items:t}),o()("ul",{className:Vr.a.menu},void 0,o()("li",{},void 0,o()("button",{type:"button",onClick:qr.setDesktopCookie},void 0,"Полная версия"),zr)),o()("div",{className:Vr.a.copyright},void 0,o()("a",{href:"http://rambler-co.ru/",rel:"nofollow noopener",target:"_blank"},void 0,"© Рамблер ",e),o()("span",{className:Vr.a.ageLimit},void 0,"18+")))}}var Yr=Bt()(Vr.a)(qr);var Qr=Object(Tt.a)(e=>({dateNow:e.runtime.initialNow,socialLinks:Fr.a.socialLinks}))(Yr),Kr=a(30),Xr=a.n(Kr);const Jr=55;var Zr=Bt()(Xr.a)(class extends c.a.Component{componentDidMount(){dn(this.titleNode,Jr)}render(){const{item:e,index:t,utm:a}=this.props;return o()("div",{className:Xr.a.sliderVideo,"data-cerber-mhead":`video::video.${t+1}`},`video-${e.id}`,o()("div",{className:Xr.a.sliderVideoInner},void 0,o()(vi,{className:Xr.a.sliderImage,srcSet:{x1:e.image,x2:e.image2x},src:e.rstorageUrl,size:{width:245,height:140},tagType:"a",href:`${e.link}${a}`,isLazy:!0}),o()("div",{className:Xr.a.play})),o()("a",{href:`${e.link}${a}`,className:Xr.a.titleWrap},void 0,o()("div",{className:Xr.a.title},void 0,c.a.createElement("span",{ref:e=>this.titleNode=e},e.title),e.duration&&o()("span",{className:Xr.a.duration},void 0,e.duration))))}}),ec=a(38),tc=a.n(ec),ac=a(125),sc=a.n(ac);var oc=ga()(Bt()(tc.a,sc.a),fa)(class extends c.a.Component{constructor(...e){super(...e),Q()(this,"prevIndex",1),Q()(this,"changeBackground",()=>{const e=document.querySelectorAll(`.${sc.a.itemActive} .${Xr.a.sliderImage}`);e[1]&&(this.blurNode.style.backgroundImage=e[1].style.backgroundImage)}),Q()(this,"handleSwiped",e=>{this.prevIndex!==e&&(_o("video",`${this.prevIndex+1}_${e+1}`),this.prevIndex=e,this.changeBackground())})}render(){const{sliderItems:e}=this.props,t="?utm_source=mhead&utm_content=video&utm_campaign=self_promo";return e&&0!==e.length?o()("div",{className:tc.a.root},void 0,c.a.createElement("div",{className:tc.a.blur,ref:e=>this.blurNode=e}),o()("div",{className:tc.a.in},void 0,o()("div",{className:tc.a.widgetTitle},void 0,o()("i",{className:tc.a.widgetTitleIcon}),"Видео дня"),o()(fs.a,{pagination:!0,gap:20,loop:!0,onInit:this.changeBackground,onSwiped:this.handleSwiped,classNames:sc.a,isMobile:!0},void 0,e.map((e,a)=>o()(Zr,{item:e,index:a,utm:t},e.id))),o()("div",{className:tc.a.more},void 0,o()(Ia,{size:"small",href:`//news.rambler.ru/video/${t}`,"data-cerber-mhead":"video::allvideo_button",buttonClass:tc.a.wideButton},void 0,"Больше видео ",o()("i",{className:tc.a.iconArrow}))))):null}});var nc=Object(Tt.a)(e=>({sliderItems:e.api.videos?e.api.videos.slider:[]}))(oc),ic=a(47),rc=a.n(ic),cc=o()(ma,{id:"fullscreen"}),lc=o()(Xa,{}),dc=o()(ho,{}),pc=o()("div",{id:"sticky-search-mark"}),uc=o()(Vo,{}),mc=o()(Tn,{}),hc=o()(Fn,{type:"now"}),gc=o()(Fn,{type:"tomorrow"}),wc=o()(Ir,{}),vc=o()(Xo,{}),fc=o()(Zi,{}),bc=o()(ma,{id:"rich"}),_c=o()(wr,{}),yc=o()(ma,{id:"listing_1"}),Nc=o()(Qi,{}),Sc=o()(_n,{}),Ic=o()(ai,{section:0}),Cc=o()(nc,{}),xc=o()(ai,{section:1}),Ac=o()(Pr,{}),kc=o()(ai,{section:2}),Ec=o()(ai,{section:3,withMore:!0}),Tc=o()(Gs,{}),Mc=o()(Qr,{});var Oc=Bt()(rc.a)(class extends c.a.Component{componentDidMount(){window.addEventListener("pageshow",e=>{e.persisted&&window.location.reload()})}render(){return o()("div",{className:rc.a.wrapper},void 0,o()("div",{className:rc.a.root},void 0,cc,lc,dc,pc,uc,o()("div",{className:rc.a.informers},void 0,mc,o()("div",{className:rc.a.informersDivider}),hc,gc),o()(ma,{id:"top_banner",onLoadStyle:{marginBottom:"10px"}}),wc,o()("div",{className:Rt()(rc.a.informers,rc.a.informersSecond)},void 0,o()("div",{className:rc.a.informersSecondWrapper},void 0,vc,fc)),bc,_c,yc,Nc,o()(ma,{id:"promo_banner",onLoadStyle:{marginBottom:"10px"}}),Sc,Ic,o()(ma,{id:"listing_2",onLoadStyle:{marginBottom:"10px"}}),Cc,xc,o()(ma,{id:"listing_3",onLoadStyle:{marginBottom:"10px"}}),Ac,kc,o()(ma,{id:"listing_4",onLoadStyle:{marginBottom:"10px"}}),Ec,Tc,o()(ma,{id:"footer",onLoadStyle:{marginBottom:"10px"}})),Mc)}});const Lc=[].concat(Nt.c,Nt.w),Rc=oa()(Nt.a,Lc);var $c=o()(pa,{},void 0,o()(Oc,{}));async function Dc({store:e},{section:t=null}){const a=e.getState().runtime.pageIsLoaded;if(t=t||Nt.k,await e.dispatch(E({name:"currentSection",value:t})),!a){const t=[];0,t.push(e.dispatch(Zt()),e.dispatch(ea()),e.dispatch(Ct())),e.dispatch(E({name:"pageIsLoaded",value:!0})),await Promise.all(t)}const s=ia(t);return{meta:{title:s.title,description:s.description,keywords:s.keywords,"og:title":s.title,"og:description":s.description,"og:url":s.url,canonical:s.url},component:$c}}var Pc={path:"/",action:Dc};const Uc=[{path:`/:section(${Lc.join("|")})`,action:Dc},{path:`/:section(${Rc.join("|")})`,action:()=>({meta:{},redirect:"/"})}],Fc={title:"А о чем попросишь ты? Генератор идеальных желаний","og:title":"А о чем попросишь ты? Генератор идеальных желаний",description:"Рамблер подскажет подарок, который вы давно хотели, просто не знали об этом",keywords:"игры, релизы, киберспорт, железо, консоли, игровые приставки, видео, обзоры, рейтинги",url:"https://www.rambler.ru/ny2019/"};a(251),a(252);var Bc=a(253),Hc=a.n(Bc);class jc extends c.a.Component{constructor(...e){super(...e),Q()(this,"handleClick",e=>{if(this.props.to.startsWith("http"))return!0;this.props.onClick&&this.props.onClick(e),!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)&&function(e){return 0===e.button}(e)&&!0!==e.defaultPrevented&&(e.preventDefault(),M.push(this.props.to))})}render(){const e=this.props,{to:t,children:a}=e,s=_a()(e,["to","children"]);return c.a.createElement("a",Ns()({href:t},s,{onClick:this.handleClick}),a)}}Q()(jc,"defaultProps",{onClick:null,children:null});var Gc=jc,Wc=a(176),Vc=a.n(Wc);let zc=!1;const qc="&utm_medium=social&utm_campaign=sharing&utm_content=head_special_ny2019&es=promo",Yc={facebook:"fbsharing",vkontakte:"vksharing",odnoklassniki:"oksharing",twitter:"twsharing",telegram:"tgsharing",viber:"vbsharing",whatsapp:"washaring"},Qc={style:{buttonHeight:40,borderRadius:50},url:"https://www.rambler.ru/ny2019/",counters:!1,facebook:{useRamblerIdServerRequest:!0},buttons:["vkontakte","facebook","odnoklassniki","twitter","telegram"]},Kc={style:{buttonHeight:45,iconSize:25,borderRadius:50},url:"https://www.rambler.ru/ny2019/",facebook:{useRamblerIdServerRequest:!0},counters:!1,buttons:["vkontakte","facebook","odnoklassniki","twitter","viber","whatsapp"]};var Xc=o()("div",{className:"rambler-share"});class Jc extends r.Component{constructor(...e){super(...e),Q()(this,"inst",null),Q()(this,"init",()=>{const{isMobile:e}=this.props;if(zc||(zc=!0),!document.querySelector(".rambler-share"))return!1;this.inst=window.RamblerShare.init(".rambler-share",e?Kc:Qc),this.setSocialButtonsURL(),window.RamblerShare.events.on("share",()=>{new K(X.PROMO).send({type:"reachGoal",data:"ny2019_share_button"}),new K(X.PROMO).send({type:"params",data:{ny2019_text:this.props.wishIndex}})})})}componentDidMount(){if(zc)this.init();else{const e=document.createElement("script");e.onload=this.init,e.async=!0,e.src="https://developers.rambler.ru/likes/v1/widget.js",document.head.appendChild(e)}}componentDidUpdate(e){const{wishIndex:t}=this.props;t!==e.wishIndex&&this.setSocialButtonsURL()}setSocialButtonsURL(){const{wishIndex:e}=this.props;if(!this.inst)return!1;this.inst.config.url=e>0?`https://www.rambler.ru/ny2019/${e}/`:"https://www.rambler.ru/ny2019/",this.inst.buttons.forEach(t=>{const a=t.name;if(t.options.utm=`utm_source=${Yc[a]}${qc}&utm_term=${e}`,"vkontakte"===a){const a="https://www.rambler.ru/ny2019/ogimages/";t.options.image=`${a}${e>0?e:"main"}.png`}})}render(){const{className:e,isMobile:t}=this.props;return o()("div",{className:Rt()(Vc.a.root,e,{[Vc.a.mobile]:t})},void 0,Xc)}}Q()(Jc,"defaultProps",{className:"",isMobile:!1,wishIndex:0});var Zc=Jc;function el(){return(el=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}var tl=function(e){e.styles;var t=function(e,t){var a={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=e[s]);return a}(e,["styles"]);return c.a.createElement("svg",el({xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"},t),c.a.createElement("path",{d:"M0 20V0m20 0v20M16.177 4.884L11.061 10l5.116 5.116a.5.5 0 0 1 0 .707l-.354.354a.5.5 0 0 1-.707 0L10 11.061l-5.116 5.116a.5.5 0 0 1-.707 0l-.354-.354a.5.5 0 0 1 0-.707L8.939 10 3.823 4.884a.5.5 0 0 1 0-.707l.354-.354a.5.5 0 0 1 .707 0L10 8.939l5.116-5.116a.5.5 0 0 1 .707 0l.354.354a.5.5 0 0 1 0 .707"}))},al=a(9),sl=a.n(al);const ol=(e,t,a=[])=>{const s=Hc()(0,t-1);return a.indexOf(s)>-1||e===s?ol(s,t,a):s};var nl=o()("br",{}),il=o()("br",{});class rl extends c.a.Component{constructor(...e){super(...e),Q()(this,"state",{step:1,wishIndex:0,wish:this.props.wishes[0],isGeneratingWish:!1}),Q()(this,"top100Key",this.props.isMobile?"mobile":"desktop"),Q()(this,"interval",null),Q()(this,"onClose",()=>{new K(X.PROMO).send({type:"reachGoal",data:"ny2019_close"}),window.location.href="/"}),Q()(this,"onGeneratorButtonClick",Et()(()=>{const{isGeneratingWish:e}=this.state;return new K(X.PROMO).send({type:"reachGoal",data:e?"ny2019_game_button_stop":"ny2019_game_button_start"}),e?this.stopWishGenerator():this.startWishGenerator()},150,{leading:!0})),Q()(this,"goToWish",()=>{new K(X.PROMO).send({type:"reachGoal",data:"ny2019_welcome_button"}),this.setState({step:2},()=>{this.startWishGenerator()})}),Q()(this,"startWishGenerator",()=>{this.setState({isGeneratingWish:!0,wishIndex:0},()=>{this.interval=setInterval(this.generateWish,200)})}),Q()(this,"stopWishGenerator",()=>{const e=this.props.wishes,t=this.state.wish;this.setState({isGeneratingWish:!1,wishIndex:e.indexOf(t)+1},()=>clearInterval(this.interval))}),Q()(this,"generateWish",()=>{const{wishes:e,excludeWishes:t}=this.props,{wishIndex:a}=this.state,s=ol(a,e.length,t);this.setState({wish:e[s]})}),Q()(this,"generateTop100Markup",e=>{const{step:t,wishIndex:a,isGeneratingWish:s}=this.state,o=`ny2019::${this.top100Key}`;switch(e){case"close":return 1===t?`${o}::welcome::close`:`${o}::game::close::${a}`;case"button":return 1===t?`${o}::welcome::button`:s?`${o}::game::button_stop`:`${o}::game::button_restart::${a}`;default:return""}})}static renderFirstStepIcons(){return[o()("div",{className:sl.a.illustration},"desktop-bg"),o()("div",{className:sl.a.mobileIllustration},"mobile-bg",o()("div",{className:sl.a.manAngel}),o()("div",{className:Rt()(sl.a.snowFlake,sl.a.topLeft)}),o()("div",{className:Rt()(sl.a.snowFlake,sl.a.topRight)}),o()("div",{className:Rt()(sl.a.bigSnowFlake,sl.a.topRight)}),o()("div",{className:Rt()(sl.a.snowFlake,sl.a.bottomLeft)}),o()("div",{className:Rt()(sl.a.bigSnowFlake,sl.a.bottomLeft)}),o()("div",{className:sl.a.firTree}),o()("div",{className:Rt()(sl.a.snowFlake,sl.a.bottomRight)}))]}static renderSecondStepIcons(){return[o()("div",{className:sl.a.roundedStamp},"rounded-stamp"),o()("div",{className:sl.a.stampDed},"stamp-ded"),o()("div",{className:sl.a.waveStamp},"wave-stamp")]}componentDidMount(){document.body.classList.add("noScroll")}renderFirstStep(){return o()("div",{className:Rt()(sl.a.step,sl.a.firstStep)},void 0,o()("div",{className:sl.a.teaser},void 0,"Новый год — время просить подарки",nl," у Деда Мороза. Деньги, путешествия, удача?",il,"Слишком скучно."),o()("div",{className:sl.a.postCardText}),o()("button",{type:"button",onClick:this.goToWish,className:sl.a.button,"data-promo":this.generateTop100Markup("button")},void 0,"Загадать желание"))}renderSecondStep(){const{isGeneratingWish:e,wishIndex:t,wish:a}=this.state;return o()("div",{className:Rt()(sl.a.step,sl.a.secondStep)},void 0,o()("div",{className:sl.a.postCardText}),o()("div",{className:sl.a.wish},void 0,a,o()("div",{className:sl.a.line})),c.a.createElement("button",{type:"button",onClick:this.onGeneratorButtonClick,ref:e=>this.stopButton=e,className:sl.a.button,"data-promo":this.generateTop100Markup("button")},"Загадать ",e?"":"еще"),o()("div",{className:sl.a.socialBlock},void 0,o()("span",{className:sl.a.socialTitle},void 0,"Найдите своего Деда Мороза"),o()(Zc,{isMobile:this.props.isMobile,wishIndex:t})))}render(){const{step:e}=this.state;return o()("div",{className:sl.a.overlay},void 0,o()("div",{className:sl.a.popup},void 0,1===e?rl.renderFirstStepIcons():rl.renderSecondStepIcons(),o()(Gc,{to:"/"},void 0,o()(tl,{onClick:this.onClose,className:sl.a.close,"data-promo":this.generateTop100Markup("close")})),o()("div",{className:sl.a.inner},void 0,o()("div",{className:sl.a.scrollWrapper},void 0,o()("div",{className:sl.a.logo}),1===e?this.renderFirstStep():this.renderSecondStep())),o()("div",{className:Rt()(sl.a.mobileCorner,sl.a.topLeft)}),o()("div",{className:Rt()(sl.a.mobileCorner,sl.a.topRight)}),o()("div",{className:Rt()(sl.a.mobileCorner,sl.a.bottomLeft)}),o()("div",{className:Rt()(sl.a.mobileCorner,sl.a.bottomRight)})))}}Q()(rl,"defaultProps",{isMobile:!1,wishes:[],excludeWishes:[]});var cl=wa(Bt()(sl.a)(rl));var ll=Object(Tt.a)(e=>({isMobile:e.runtime.isMobile,wishes:Ot()(e.ny2019,"wishes"),excludeWishes:Ot()(e.ny2019,"excludes")}))(cl),dl=o()(pa,{},void 0,o()(Oc,{}),o()(ll,{}));var pl=async function(e,{section:t=null}){const a=e.store,s=e.store.getState().runtime.pageIsLoaded;if(t=t||Nt.k,await a.dispatch(E({name:"currentSection",value:t})),a.dispatch(E({name:"ny2019",value:!0})),!s){const e=[];e.push(a.dispatch(Zt()),a.dispatch(ea()),a.dispatch(Ct())),a.dispatch(E({name:"pageIsLoaded",value:!0})),await Promise.all(e)}const o={title:Fc.title,description:Fc.description,keywords:Fc.keywords,"og:title":Fc["og:title"],"og:description":Fc.description,canonical:Fc.url},{id:n}=e.params;let r=!1;return n?(o.image=`ny2019/ogimages/${n}.png`,o["og:url"]=`https://www.rambler.ru/ny2019/${n}/`,r=!0):(o.image="ny2019/ogimages/main.png",o["og:url"]="https://www.rambler.ru/ny2019/"),i()({meta:o},r?{redirect:"/ny2019"}:{},{component:dl})},ul=o()("span",{},void 0,"404"),ml={path:"/",children:[Pc,{path:"/ny2019",children:[{path:"",action:pl},{path:"/:id",action:pl}]},...Uc,{path:"/news/sport/",action:()=>({meta:{},redirect:"/sport/"})},{path:"(.*)",action:()=>({meta:{title:"Страница не найдена – Рамблер/",description:"Rambler — поиск в интернете, почта, погода, новости России и мира, знакомства, гороскопы, видеосервис с популярными, познавательными роликами и подробная телепрограмма. Рамблер поможет спланировать выходные, купить билет в кино, театр или на концерт, выбрать автомобиль, поехать в отпуск и найти жильё."},component:ul,status:404})}],async action(e){const{next:t,store:a}=e,s=await t();return s&&(s.title=`${s.title||s.meta.title||"Untitled Page"}`,s.description=s.description||s.meta.description||"",s.state=a.getState()),s}};var hl=new yt.a(ml,{resolveRoute:function(e,t){return"function"==typeof e.route.load?e.route.load().then(a=>a.default(e,t)):"function"==typeof e.route.action?e.route.action(e,t):void 0}});const gl={insertCss:()=>{},fetch:oe(fetch,{baseUrl:window.App.apiUrl}),store:function(e,t,a){const s=pe(a),o=[le.a.withExtraArgument(s)];let n;return n=Object(ce.a)(...o),Object(ce.d)(t,e,n)}(window.App.state,_t,{history:M})};let wl=function(){const e=navigator.userAgent||navigator.vendor||window.opera;return/windows phone/i.test(e)?"WindowsPhone":/android/i.test(e)?"androidos":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"iOS":"unknown"}();wl=wl?wl.toLowerCase():null,gl.store.dispatch(E({name:"mobileOS",value:wl})),function(e){const t={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA=="};return new Promise(a=>{const s=new Image;s.onload=function(){const e=s.width>0&&s.height>0;a(e)},s.onerror=function(){a(!1)},s.src=`data:image/webp;base64,${t[e]}`})}("lossy").then(e=>{gl.store.dispatch(E({name:"webp",value:e}))});const vl={};window.history&&"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");let fl=function(e){const t=document.getElementById("css");t&&t.parentNode.removeChild(t),(e=>{const{splits:t,splitRecommendationsFromModel:a}=e.runtime,s={0:"new_recommends_off",1:`new_recommends_${a}`}[t.recommendationsMobile],o={0:"top_news_block_slider_yes",[q]:"top_news_block_slider_no"}[t.topNewsBlockMobile];window.top100options={project:2808185,attributes_dataset:["cerber-topline","cerber-mhead","logo","promo","url","recommend","promo"],splits:[s,o]},new K(X.DESKTOP_UNIQUE).send({type:"params",data:{recommender:s}})})(e.state),H.init(),ae("react_init",1,j.COUNTER),fl=function(e){var t,a;document.title=e.meta.title,L("description",e.meta.description),L("keywords",e.meta.keywords),L("og:url",e.meta["og:url"]),L("og:title",e.meta["og:title"]),L("og:description",e.meta["og:description"]),t="canonical",a=e.meta.canonical,O("link","rel",t,"href",a)}};{const{version:e,geoid:t,splits:a}=window.App.state.runtime;m.init(i()({},{ignoreErrors:["ResizeObserver loop limit exceeded","Unexpected token <","<unlabeled event>","Не удается выполнить программу","execute code from a freed script","Разрешение отклонено","Permission denied","InvalidAccessError","jQuery","safeframe-bundles","NS_ERROR_FILE_CORRUPTED","NS_ERROR_DOM_QUOTA_REACHED","NS_ERROR_FILE_NO_DEVICE_SPACE","QuotaExceededError","Failed to read","kaspersky","KasperskyLab",/SyntaxError JSON syntax error \/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\/main\.js in Object\.ThrowError/,/Cannot read property 'getAttribute' of null [0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\/main/,"getWotReputation","w-display","launcher.4.multi","reachGoal","m_miner","k2o","<anonymous> in abort","top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage","/capirs_async.js","/px2/client.js"],blacklistUrls:["kaspersky-labs.com",/extensions\//i,/^chrome:\/\//i,"https://translate.googleapis.com/","https://metrics.nt.vc","https://pingoli.info","https://jh8hrfnvs.ru/pjs","https://fireadd.men","https://media.adrcdn.com/scripts/w-display","https://cvn.wafflewariest.com","https://nan.mashfsttest.com","https://umk.journallingpercolates.com/","https://static.reasedoper.pw",/graph\.facebook\.com/i,/connect\.facebook\.net\/en_US\/all\.js/i,/eatdifferent\.com\.woopra-ns\.com/i,/static\.woopra\.com\/js\/woopra\.js/i,/extensions\//i,/^chrome:\/\//i,/127\.0\.0\.1:4001\/isrunning/i,/webappstoolbarba\.texthelp\.com\//i,/metrics\.itunes\.apple\.com\.edgesuite\.net\//i]},{sampleRate:.1,release:e,environment:window.App.state.config.ENV,dsn:window.App.state.config.PUBLIC_DSN})),m.configureScope(e=>{e.setTag("serverSide",!1),e.setTag("mobile",!0),e.setTag("splitRstorage",a.rstorage),e.setTag("splitRecommendations",a.recommendationsMobile),e.setTag("geoid",t)})}const bl=document.getElementById("app");let _l,yl=M.location;async function Nl(e,t){vl[yl.key]={scrollX:window.pageXOffset,scrollY:window.pageYOffset},"PUSH"===t&&delete vl[e.key],yl=e;const a=!t;try{gl.pathname=yl.pathname,gl.query=u.a.parse(yl.search);const s=await hl.resolve(gl);if(yl.key!==e.key)return;if(s.redirect)return void M.replace(s.redirect);const n=a?d.a.hydrate:d.a.render;_l=n(o()(re,{context:gl},void 0,s.component),bl,()=>fl(s,e))}catch(a){0,It(a),t&&yl.key===e.key&&window.location.reload()}}M.listen(Nl),Nl(yl)},47:function(e,t,a){e.exports={root:"_1mmP",informers:"_12r7",informersSecond:"_3Nwz",informersSecondWrapper:"lrWv",informersDivider:"_1dmq",sliderItem:"_2J83"}},52:function(e,t,a){e.exports={root:"_1OdH",up:"_2oJf",down:"_11oG",shadow:"_3n45",burger:"_1pIU",logo:"_1HA5",right:"_1CKr"}},53:function(e,t,a){e.exports={root:"_35fG",rootShow:"_1enU",item:"_1FMk",itemActive:"_1Uem",suggestQueryContainer:"_1QTr",suggestQuery:"qhxZ"}},54:function(e,t,a){e.exports={root:"KGEd",blur:"_1pMN",in:"_2FgV",iconTitle:"_39EY",title:"_2rNV",movies:"H47E",more:"_3CgL",external:"_1_LF",wideButton:"_2d1Z"}},55:function(e,t,a){e.exports={root:"_2Tf5",logoContainer:"RTce",logo:"_1STA",menu:"_2Sw6",copyright:"DSYH",ageLimit:"_1r15"}},6:function(e,t,a){"use strict";a.d(t,"f",function(){return s}),a.d(t,"k",function(){return o}),a.d(t,"l",function(){return n}),a.d(t,"t",function(){return i}),a.d(t,"m",function(){return r}),a.d(t,"h",function(){return c}),a.d(t,"p",function(){return l}),a.d(t,"d",function(){return d}),a.d(t,"o",function(){return p}),a.d(t,"e",function(){return u}),a.d(t,"g",function(){return m}),a.d(t,"s",function(){return h}),a.d(t,"j",function(){return g}),a.d(t,"n",function(){return w}),a.d(t,"r",function(){return v}),a.d(t,"i",function(){return f}),a.d(t,"q",function(){return b}),a.d(t,"c",function(){return _}),a.d(t,"w",function(){return y}),a.d(t,"b",function(){return N}),a.d(t,"v",function(){return S}),a.d(t,"a",function(){return I}),a.d(t,"u",function(){return C});const s="main",o="head",n="moscow_city",i="world",r="politics",c="incidents",l="starlife",d="auto",p="sport",u="economics",m="health",h="woman",g="kino",w="scitech",v="ua",f="kiev",b="travel",_=[o,n,i,r,c],y=[l,d,p,h,b],N=9,S=6,I=[...[s,n,i,r,c,l,d,p,"games",h,u,m,g,w,v,f,b],..._,...y],C={[o]:"Новости сегодня",[s]:"Новости сегодня",[i]:"Последние новости мира",[n]:"Последние новости Москвы",[r]:"Последние новости политики",[p]:"Новости спорта сегодня",[c]:"Новости происшествий сегодня",[d]:"Автомобильные новости",[u]:"Бизнес-новости сегодня",[g]:"Новости кино и сериалов",[m]:"Новости медицины и здравоохранения",[h]:"Последние новости моды и стиля",[l]:"Новости шоу-бизнеса сегодня",[b]:"Новости туризма и путешествий",[f]:"Последние новости Киева",[v]:"Последние новости Украины"}},75:function(e,t,a){e.exports={root:"rUca",button:"_2aei",primary:"_3NvT",content:"Lx8f"}},76:function(e,t,a){e.exports={root:"_1oNh",more:"_173b",wideButton:"_1r23",iconArrow:"_2wMh"}},77:function(e,t,a){e.exports={root:"_3Oo_",title:"yMX-",value:"a8Tp",red:"gj1H",yellow:"PsFy",green:"_1vZN"}},9:function(e,t,a){e.exports={overlay:"_3EwV",popup:"_1L7y",illustration:"_1h1J",mobileIllustration:"_1ZXr",snowFlake:"bXLi",topLeft:"_3TGU",topRight:"_2_Qc",bottomLeft:"_2mKI",bottomRight:"_1Rl_",bigSnowFlake:"augZ",firTree:"_2tQz",manAngel:"_3N-H",roundedStamp:"_3hOh",waveStamp:"_2pYr",stampDed:"_1CsU",inner:"Xyry",scrollWrapper:"_2f6I",mobileCorner:"_2dFb",step:"_3Hzd",firstStep:"_36iJ",postCardText:"cJs_",secondStep:"_3NBd",wish:"_3dZ0",line:"_2cA7",logo:"_1huu",close:"qsQd",teaser:"_3R7s",button:"_3Zbe",socialBlock:"m7j-",socialTitle:"_2mYb"}},93:function(e,t,a){e.exports={root:"_2_oW",item:"_2Mkq",itemActive:"W52z"}},94:function(e,t,a){e.exports={root:"_32XC",visible:"Boei",overlay:"_2OkM"}},95:function(e,t,a){e.exports={root:"_1QqV",loaded:"DU01",placeholder:"_15iS"}},96:function(e,t,a){e.exports={root:"_21PK",image:"_21Bn",title:"R6_V",subtitle:"_1f4d"}},97:function(e,t,a){e.exports={root:"DIB4",loaded:"fnS6",failed:"_3lK_"}},98:function(e,t,a){e.exports={root:"oYb9",desktop:"_1N-b",mobile:"sQaw"}}});
//# sourceMappingURL=mobile.js.map