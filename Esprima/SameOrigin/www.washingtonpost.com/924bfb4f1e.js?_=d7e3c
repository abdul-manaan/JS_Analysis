(function($){__e=window.__e||[];var $d=$(document);var after_features={updateLoadTime:function(){$d.ready(function(){wp_pb.StaticMethods.updateLoadTime()})},init:function(){try{wp_pb.StaticMethods.addCustomResponsiveClasses()}catch(e){}try{wp_pb.StaticMethods.localizeLinks()}catch(e){}try{wp_pb.StaticMethods.recordArticleRead()}catch(e){}try{$d.on("dom-manipulation-complete",wp_pb.StaticMethods.debounce(function(){wp_pb.StaticMethods.localizeLinks()},200))}catch(e){}try{var loadMoreSel=".skin.skin-button-load-more[data-load-more-url]";
$d.on("click",loadMoreSel,function(ev){var $btn=$(ev.target),url=$btn.attr("data-load-more-url");if(url){$btn.addClass("loading-more").css({color:"#2A2A2A"}).html('\x3ci class\x3d"fa fa-spinner fa-pulse"\x3e\x3c/i\x3e');$.ajax(url).done(function(result){$btn.removeClass("loading-more");$btn.closest(".pb-feature").after(result.rendering);$btn.closest(".load-more-wrapper").remove();$d.trigger("dom-manipulation-complete")})}})}catch(e){}}};if(wp_pb.StaticMethods.isPageHydrated()){after_features.init();
after_features.updateLoadTime()}__e.push(["shamble",function(){after_features.init()}])})(jQuery);
(function($){try{var $w=$(window),$d=$(document),remarryHeadlinesSelector=""+".remarry-words .flex-item .headline, .remarry-words .flex-item .deck";var feature={initMagicContent:function(sel){try{wp_pb.StaticMethods.initMagicContent(sel)}catch(e){}},handleMagicBullets:function(options){try{wp_pb.StaticMethods.handleMagicBullets(options)}catch(e){}},remarryHeadlines:function(){try{wp_pb.StaticMethods.remarryHeadline(remarryHeadlinesSelector)}catch(e){}},handlePseudoRows:function(options){try{wp_pb.StaticMethods.handleTopTableRows(options);
wp_pb.StaticMethods.handleChainRows(options);wp_pb.StaticMethods.handleSectionRows(options);wp_pb.StaticMethods.handleNestedFeatureRows(options)}catch(e){}},handleLayoutChange:function(){this.remarryHeadlines();this.handlePseudoRows({})},decorateFeatureIfInLastRow:function(){try{wp_pb.StaticMethods.decorateFeatureIfInLastRow()}catch(e){}},init:function(){this.remarryHeadlines();this.handleMagicBullets({sel:".has-magic-bullets.handle-magic-bullets-late",typeOfMagic:"bullets"});this.handleMagicBullets({sel:".has-magic-features.handle-magic-features-late",
typeOfMagic:"content"});this.handlePseudoRows({});this.decorateFeatureIfInLastRow({})}};feature.handlePseudoRows({equalizeHeightsSelector:"#do-not-equalize-heights"});feature.handleMagicBullets({sel:".has-magic-bullets.handle-magic-bullets-early",typeOfMagic:"bullets"});feature.initMagicContent({sel:".has-magic-features"});feature.handleMagicBullets({sel:".has-magic-features.handle-magic-features-early",typeOfMagic:"content"});wp_pb.register("devseed","all-components-mounted-with-delay",function(){if(document.querySelector(".has-magic-bullets.handle-magic-bullets-all-components-mounted-with-delay")){feature.initMagicContent({sel:".has-magic-bullets"});
feature.handleMagicBullets({sel:".has-magic-bullets.handle-magic-bullets-all-components-mounted-with-delay",typeOfMagic:"bullets"})}if(document.querySelector(".has-magic-features.handle-magic-features-all-components-mounted-with-delay")){feature.initMagicContent({sel:".has-magic-features"});feature.handleMagicBullets({sel:".has-magic-features.handle-magic-features-all-components-mounted-with-delay",typeOfMagic:"content"})}});wp_pb.register("devseed","all-components-mounted",function(){if(document.querySelector(".has-magic-bullets.handle-magic-bullets-all-components-mounted")){feature.initMagicContent({sel:".has-magic-bullets"});
feature.handleMagicBullets({sel:".has-magic-bullets.handle-magic-bullets-all-components-mounted",typeOfMagic:"bullets"})}if(document.querySelector(".has-magic-features.handle-magic-features-all-components-mounted")){feature.initMagicContent({sel:".has-magic-features"});feature.handleMagicBullets({sel:".has-magic-features.handle-magic-features-all-components-mounted",typeOfMagic:"content"})}});wp_pb.register("devseed","all-maps-loaded",function(){if(document.querySelector(".has-magic-bullets.handle-magic-bullets-all-maps-loaded")){feature.initMagicContent({sel:".has-magic-bullets"});
feature.handleMagicBullets({sel:".has-magic-bullets.handle-magic-bullets-all-maps-loaded",typeOfMagic:"bullets"})}if(document.querySelector(".has-magic-features")){feature.initMagicContent({sel:".has-magic-features.handle-features-bullets-all-maps-loaded"});feature.handleMagicBullets({sel:".has-magic-features.handle-magic-features-all-maps-loaded",typeOfMagic:"content"})}});$w.on("load",function(){feature.init()});$w.on("resize",wp_pb.StaticMethods.debounce(function(){feature.handleLayoutChange()},
200));$d.on("dom-manipulation-complete",wp_pb.StaticMethods.debounce(function(){feature.handleLayoutChange()},200))}catch(e){}try{if(window.wp_meta_data&&wp_meta_data.isHomepage)wp_pb.StaticMethods.parametrizeLinks.init([{ctx:"body",selector:"a[href]:not(.pb-f-page-header-v2 a, .pb-f-page-post-most a, .pb-f-page-todays-paper-rr a, .pb-f-homepage-footer a)",param:"hpid",getParamValue:function($link,ev){var $target=$(ev.target);var $parentFeature=$target.closest("[data-feature-id]");var prefix="hp";
var chainName=$parentFeature.data("chainName")||"";chainName=chainName.replace("_","-");var featureName=$parentFeature.data("featureName")||"";featureName=featureName.replace("_","-");var featureId=$parentFeature.data("featureId")||"";featureId=featureId.replace("_","-");var featureInfo=featureName+":"+featureId;var paramVal=[prefix,chainName,featureInfo].join("_");var tidVal=encodeURIComponent(paramVal);return this.param+"\x3d"+tidVal}}])}catch(e){}})(jQuery);
(function($){var userId=document.cookie.match(/wapo_login_id=([^;]+)/)?RegExp.$1:"";var delay=function delay(time){return new Promise(function(resolve){return setTimeout(resolve,time)})};delay.reject=function(time){return new Promise(function(_resolve,reject){return setTimeout(reject,time)})};function adblockerDetected(){if(window.I10C&&window.I10C.RegisterAbdCallback)return new Promise(function(resolve){window.I10C.RegisterAbdCallback(function(results){resolve(results.Detected)})});return Promise.resolve(false)}
function isAdblocker(){return Promise.race([adblockerDetected(),delay.reject(3E3)])["catch"](function(){return false})}_dw=window._dw||[];_dw.push(["global","before",function(api){api.segment("drawbridge_generic",inDrawbridgePermanentSegments);api.segment("not logged in mobile",function(){var mobile=window.isMobile.any();var speakingScience=$(".blogname-instream").text().toLowerCase().indexOf("speaking-of-science")>=0;return mobile==true&&userId==""&&speakingScience});function inDrawbridgePermanentSegments(){return!isSignedIn()&&
isDrawbridgeEntry()&&!isSearchReferrer()&&!isNewsletterSubscriber()}function getWapoId(){return document.cookie.match(/wapo_secure_login_id=([^;]+)/)?RegExp.$1:""}var checkReferrer=function(referrer){return function(domainRegEx){return domainRegEx.test(referrer)}}(window.document.referrer);function isGoogleReferrer(){return checkReferrer(/google\.com/)}function isYahooReferrer(){return checkReferrer(/search\.yahoo\.com/)}function isBingReferrer(){return checkReferrer(/bing\.com/)}function isSearchReferrer(){return isGoogleReferrer()||
isYahooReferrer()||isBingReferrer()}function hasNewsletterHistory(){try{return Object.keys(JSON.parse(window.localStorage.getItem("newsletter_history"))).length>0}catch(e){return false}}function isNewsletterEntry(){return/wpisrc/.test(location.search)}function isSignedIn(){return getWapoId()!==""}function isNewsletterSubscriber(){return isNewsletterEntry()||hasNewsletterHistory()}function isDrawbridgeEntry(){return!/drawbridge_o/.test(document.cookie)||!/drawbridge_o=2;/.test(document.cookie)}function isChrome(){return navigator.userAgent.indexOf("Chrome")>
-1}function isSafari(){return navigator.userAgent.indexOf("Safari")>-1}var promises=[];promises.push(isAdblocker().then(function(adblockerDetected){api.segment("adblock_generic",function(){return!isSignedIn()&&!isSearchReferrer()&&adblockerDetected&&!window.isMobile.any()&&(isChrome()||isSafari())})}));function segmentsDone(){api.dispatch("segments-done")}Promise.all(promises).then(segmentsDone,segmentsDone)}])})(jQuery);